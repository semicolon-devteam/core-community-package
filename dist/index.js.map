{"version":3,"file":"index.js","sources":["../lib/utils/numberUtil.ts","../lib/utils/dateUtil.ts","../lib/utils/authUtil.ts","../lib/utils/imageUtil.ts","../lib/utils/levelUtil.ts","../lib/utils/stringUtil.ts","../lib/utils/urlUtil.ts","../lib/utils/jwtUtil.ts","../lib/utils/uploadErrorHandler.ts","../lib/config/init.ts","../lib/components/atoms/Button/index.tsx","../lib/components/atoms/Badge/index.tsx","../lib/components/atoms/Input.tsx","../lib/components/atoms/Select.tsx","../lib/components/atoms/Checkbox.tsx","../lib/components/atoms/Radio.tsx","../lib/components/atoms/Switch.tsx","../lib/components/atoms/TextArea.tsx","../lib/components/atoms/Skeleton/index.tsx","../lib/config/axios.ts","../lib/types/common/index.ts","../lib/services/baseService.ts","../lib/services/userService.ts","../lib/services/postService.ts","../lib/services/boardService.ts","../lib/services/authService.ts","../lib/services/permissionService.ts","../node_modules/use-sync-external-store/with-selector.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.production.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js","../node_modules/react-redux/dist/react-redux.mjs","../lib/hooks/common/useDeviceType.ts","../lib/hooks/common/useGlobalLoader.ts","../lib/hooks/common/useRouterWithLoader.ts","../lib/hooks/common/index.ts","../lib/config/Supabase/client.ts","../lib/components/atoms/Avatar/index.tsx","../lib/index.ts","../lib/hooks/User/useAuth.ts","../lib/hooks/common/useAuthGuard.ts","../lib/hooks/queries/useBoardQuery.ts","../lib/hooks/queries/useCommentQuery.ts","../lib/hooks/queries/usePostQuery.ts","../lib/hooks/common/usePermission.ts","../lib/hooks/queries/useUserQuery.ts"],"sourcesContent":["/**\n * ìˆ«ìë¥¼ 1000 ë‹¨ìœ„ë¡œ ì½¤ë§ˆ(,)ë¥¼ ì°ì–´ì„œ ë¬¸ìì—´ë¡œ ë³€í™˜\n * @param num ë³€í™˜í•  ìˆ«ì ë˜ëŠ” ìˆ«ì í˜•íƒœì˜ ë¬¸ìì—´\n * @returns 1000ë‹¨ìœ„ë¡œ ì½¤ë§ˆê°€ í¬í•¨ëœ ë¬¸ìì—´\n */\nexport const formatNumberWithComma = (num: number | string): string => {\n\n    if (num === null || num === undefined || num === '') {\n        return '';\n    }\n    \n    // ìˆ«ìë‚˜ ë¬¸ìì—´ì„ ë¬¸ìì—´ë¡œ ë³€í™˜\n    const numStr: string = typeof num === 'number' ? num.toString() : num;\n    \n    // ì†Œìˆ˜ì ì´ ìˆëŠ” ê²½ìš° ì²˜ë¦¬\n    const parts = numStr.split('.');\n    \n    // ì •ìˆ˜ ë¶€ë¶„ì— 3ìë¦¬ë§ˆë‹¤ ì½¤ë§ˆ ì¶”ê°€\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    \n    // ì†Œìˆ˜ì ì´ ìˆìœ¼ë©´ ë‹¤ì‹œ í•©ì¹˜ê³ , ì—†ìœ¼ë©´ ì •ìˆ˜ ë¶€ë¶„ë§Œ ë°˜í™˜\n    return parts.length > 1 ? parts.join('.') : parts[0];\n};\n\n/**\n * ë¬¸ìì—´ì—ì„œ ì½¤ë§ˆë¥¼ ì œê±°í•˜ê³  ìˆ«ìë¡œ ë³€í™˜\n * @param str ì½¤ë§ˆê°€ í¬í•¨ëœ ë¬¸ìì—´\n * @returns ì½¤ë§ˆê°€ ì œê±°ëœ ìˆ«ì\n */\nexport const removeCommaFromString = (str: string): number => {\n  if (!str) return 0;\n  return parseFloat(str.replace(/,/g, ''));\n};\n","// formatDateì™€ timeAgo í•¨ìˆ˜ë¥¼ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ëª¨ë‘ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„¤ì •\n\nexport function formatDate(dateString: string, isSimple = false): string {\n  if (!dateString) return \"\";\n\n  const date = new Date(dateString);\n\n  // ë‚ ì§œê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš°\n  if (isNaN(date.getTime())) {\n    return dateString;\n  }\n\n  // ë‚ ì§œë¥¼ YYYY.MM.DD. HH:MM:SS í˜•ì‹ìœ¼ë¡œ í¬ë§·íŒ…\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  const hours = String(date.getHours()).padStart(2, \"0\");\n  const minutes = String(date.getMinutes()).padStart(2, \"0\");\n  const seconds = String(date.getSeconds()).padStart(2, \"0\");\n\n  return isSimple\n    ? `${year}.${month}.${day}`\n    : `${year}.${month}.${day}. ${hours}:${minutes}:${seconds}`;\n}\n\nexport function timeAgo(dateString: string, isSimple: boolean = true): string {\n  if (!dateString) return \"\";\n\n  const date = new Date(dateString);\n\n  // ë‚ ì§œê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš°\n  if (isNaN(date.getTime())) {\n    return dateString;\n  }\n\n  // ì„œë²„ ì¸¡ ë Œë”ë§ ì‹œ í¬ë§·ëœ ë‚ ì§œ ë°˜í™˜\n  // if (typeof window === \"undefined\") {\n  //   // ì„œë²„ì—ì„œëŠ” ì •ì ì¸ í¬ë§·ìœ¼ë¡œ ë°˜í™˜\n  //   return formatDate(dateString);\n  // }\n\n  const now = new Date();\n  const seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n\n  // 1ë¶„ ë¯¸ë§Œ\n  if (seconds < 60) {\n    return \"ë°©ê¸ˆ ì „\";\n  }\n\n  // 1ì‹œê°„ ë¯¸ë§Œ\n  const minutes = Math.floor(seconds / 60);\n  if (minutes < 60) {\n    return `${minutes}ë¶„ ì „`;\n  }\n\n  // 24ì‹œê°„ ë¯¸ë§Œ\n  const hours = Math.floor(minutes / 60);\n  if (hours < 24) {\n    return `${hours}ì‹œê°„ ì „`;\n  }\n\n  return isSimple ? DateUtil.toChar(dateString, \"MM.dd\") : DateUtil.toChar(dateString, \"yyyy.MM.dd. HH:mm:ss\");\n\n  // // 30ì¼ ë¯¸ë§Œ\n  // const days = Math.floor(hours / 24);\n  // if (days < 30) {\n  //   return `${days}ì¼ ì „`;\n  // }\n\n  // // 12ê°œì›” ë¯¸ë§Œ\n  // const months = Math.floor(days / 30);\n  // if (months < 12) {\n  //   return `${months}ê°œì›” ì „`;\n  // }\n\n  // // 1ë…„ ì´ìƒ\n  // const years = Math.floor(months / 12);\n  // return `${years}ë…„ ì „`;\n}\n\nexport const DateUtil = {\n  toChar(\n    input: string | Date,\n    format: string = \"YYYY.MM.DD. HH:MM:SS\"\n  ): string {\n    const date = typeof input === \"string\" ? new Date(input) : input;\n\n    if (!date || isNaN(date.getTime())) return \"\";\n\n    const map: Record<string, string> = {\n      yyyy: String(date.getFullYear()),\n      MM: String(date.getMonth() + 1).padStart(2, \"0\"),\n      dd: String(date.getDate()).padStart(2, \"0\"),\n      HH: String(date.getHours()).padStart(2, \"0\"),\n      mm: String(date.getMinutes()).padStart(2, \"0\"),\n      ss: String(date.getSeconds()).padStart(2, \"0\"),\n    };\n\n    return Object.entries(map).reduce(\n      (result, [key, value]) => result.replace(key, value),\n      format\n    );\n  },\n};\n","/**\n * í†µí•© ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬ ìœ í‹¸ë¦¬í‹°\n */\n\nimport type { User, permissionType } from '../types/User';\n\ninterface JWTUserPayload {\n  sub: string;\n  user_metadata: any;\n  is_admin?: boolean;\n  level?: number;\n}\n\nexport interface AuthUser {\n  id: string;\n  nickname: string;\n  level: number;\n  permissionType: permissionType;\n  is_admin?: boolean;\n}\n\n/**\n * ì‚¬ìš©ìê°€ JWT í˜ì´ë¡œë“œì¸ì§€ í™•ì¸í•˜ëŠ” íƒ€ì… ê°€ë“œ\n */\nexport function isJWTPayload(user: any): user is JWTUserPayload {\n  return user && typeof user.sub === 'string' && user.user_metadata;\n}\n\n/**\n * ì‚¬ìš©ìê°€ User ê°ì²´ì¸ì§€ í™•ì¸í•˜ëŠ” íƒ€ì… ê°€ë“œ (Redux storeì—ì„œ ì˜¨ ë°ì´í„°)\n */\nexport function isUserObject(user: any): user is User {\n  return (\n    user &&\n    typeof user.id === 'string' &&\n    user.nickname &&\n    user.permissionType\n  );\n}\n\nexport const isValidUser = (user: User | null): user is User => {\n  return (\n    !!user &&\n    typeof user.id === 'string' &&\n    !!user.nickname &&\n    !!user.permissionType\n  );\n};\n\n// checkIsAdmin í•¨ìˆ˜ì˜ íƒ€ì…ì„ Userì™€ ì™„ë²½í•˜ê²Œ í˜¸í™˜ë˜ë„ë¡ ìˆ˜ì •\nexport const checkIsAdmin = (user: {\n  level: number;\n  permissionType: permissionType;\n}): boolean => {\n  return (\n    user.level >= 99 ||\n    user.permissionType === 'admin' ||\n    user.permissionType === 'super_admin'\n  );\n};\n\nexport const isAdmin = (user: AuthUser | User | null): boolean => {\n  if (!user) return false;\n  return checkIsAdmin(user);\n};\n\nexport const isSuperAdmin = (user: AuthUser | User | null): boolean => {\n  if (!user) return false;\n  return checkIsAdmin(user);\n};\n\nexport const isAdminOrSuperAdmin = (user: AuthUser | User | null): boolean => {\n  if (!user) return false;\n  return checkIsAdmin(user);\n};\n\n/**\n * íŠ¹ì • ë ˆë²¨ ì´ìƒ ê¶Œí•œ ì²´í¬\n * @param user ì‚¬ìš©ì ì •ë³´ (Redux storeì˜ User ê°ì²´ ê¶Œì¥)\n * @param requiredLevel í•„ìš”í•œ ìµœì†Œ ë ˆë²¨\n * @returns ê¶Œí•œ ì—¬ë¶€\n */\nexport const hasLevelPermission = (\n  user?: AuthUser | null,\n  requiredLevel: number = 0\n): boolean => {\n  // ì‚¬ìš©ìê°€ ì—†ê±°ë‚˜ ë¹ˆ ê°ì²´ì¸ ê²½ìš°\n  if (!user || (typeof user === 'object' && Object.keys(user).length === 0)) {\n    return requiredLevel === 0;\n  }\n\n  // ê´€ë¦¬ìëŠ” ëª¨ë“  ê¶Œí•œ ë³´ìœ \n  if (isAdmin(user)) return true;\n\n  // Redux storeì˜ User ê°ì²´ì¸ ê²½ìš° (ê¶Œì¥)\n  if (isUserObject(user)) {\n    return user.level >= requiredLevel;\n  }\n\n  // JWT í˜ì´ë¡œë“œì¸ ê²½ìš° (ë ˆê±°ì‹œ í˜¸í™˜ì„± - ê¶Œì¥í•˜ì§€ ì•ŠìŒ)\n  if (isJWTPayload(user)) {\n    console.warn(\n      '[DEPRECATED] JWT ê¸°ë°˜ ê¶Œí•œ ì²´í¬ëŠ” ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. useAppSelector(selectUserInfo)ë¥¼ ì‚¬ìš©í•˜ì—¬ Redux storeì˜ ì‚¬ìš©ì ì •ë³´ë¥¼ í™œìš©í•˜ì„¸ìš”.'\n    );\n    // ë ˆê±°ì‹œ í˜¸í™˜ì„±ì„ ìœ„í•œ ê¸°ë³¸ ê¶Œí•œ ë§¤í•‘\n    const userLevel = user.is_admin ? 99 : (user.level || 1);\n    return userLevel >= requiredLevel;\n  }\n\n  // ê¸°ì¡´ UserPermission í˜•íƒœì¸ ê²½ìš° (ë ˆê±°ì‹œ)\n  return user.level >= requiredLevel;\n};\n\n/**\n * ê²Œì‹œíŒ ê¶Œí•œ ì²´í¬ (ì½ê¸°, ì“°ê¸°, ëŒ“ê¸€ ë“±)\n * @param user ì‚¬ìš©ì ì •ë³´ (Redux storeì˜ User ê°ì²´ ê¶Œì¥)\n * @param requiredLevel í•„ìš”í•œ ê¶Œí•œ ë ˆë²¨\n * @param isLoggedIn ë¡œê·¸ì¸ ì—¬ë¶€\n * @returns ê¶Œí•œ ì—¬ë¶€\n */\nexport const hasBoardPermission = (\n  user?: AuthUser | null,\n  requiredLevel: number | 'free' = 0,\n  isLoggedIn: boolean = false\n): boolean => {\n  // 'free' ë˜ëŠ” 0ì¸ ê²½ìš° ëª¨ë“  ì‚¬ìš©ì ì ‘ê·¼ ê°€ëŠ¥\n  if (requiredLevel === 'free' || requiredLevel === 0) {\n    return true;\n  }\n\n  // ë¡œê·¸ì¸ì´ í•„ìš”í•œ ê²½ìš°\n  if (!isLoggedIn || !user) {\n    return false;\n  }\n\n  return hasLevelPermission(user, requiredLevel);\n};\n\n/**\n * ì‚¬ìš©ì ê¶Œí•œ ë ˆë²¨ ë°˜í™˜\n * @param user ì‚¬ìš©ì ì •ë³´ (Redux storeì˜ User ê°ì²´ ê¶Œì¥)\n * @returns ì‚¬ìš©ì ë ˆë²¨\n */\nexport const getUserLevel = (user?: AuthUser | null): number => {\n  if (!user) return 0;\n\n  // Redux storeì˜ User ê°ì²´ì¸ ê²½ìš° (ê¶Œì¥)\n  if (isUserObject(user)) {\n    return user.level || 0;\n  }\n\n  // JWT í˜ì´ë¡œë“œì¸ ê²½ìš° (ë ˆê±°ì‹œ í˜¸í™˜ì„± - ê¶Œì¥í•˜ì§€ ì•ŠìŒ)\n  if (isJWTPayload(user)) {\n    console.warn(\n      '[DEPRECATED] JWT ê¸°ë°˜ ë ˆë²¨ ì¡°íšŒëŠ” ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. useAppSelector(selectUserInfo)ë¥¼ ì‚¬ìš©í•˜ì—¬ Redux storeì˜ ì‚¬ìš©ì ì •ë³´ë¥¼ í™œìš©í•˜ì„¸ìš”.'\n    );\n    // ë ˆê±°ì‹œ í˜¸í™˜ì„±ì„ ìœ„í•œ ê¸°ë³¸ ë ˆë²¨ ë§¤í•‘\n    return user.is_admin ? 99 : (user.level || 1);\n  }\n\n  // ê¸°ì¡´ UserPermission í˜•íƒœì¸ ê²½ìš° (ë ˆê±°ì‹œ)\n  return user.level || 0;\n};\n\nexport const getUserPermissionType = (user: AuthUser | User | null): permissionType => {\n  if (!user) {\n    return 'anonymous';\n  }\n\n  return user.permissionType || 'user';\n};\n\nexport const getUserPermissionTypeFromJWT = (user: AuthUser | User | null): permissionType => {\n  if (!user) {\n    return 'anonymous';\n  }\n\n  return user.permissionType || 'user';\n};\n\nexport const getUserPermissionTypeFromDB = (user: AuthUser | User | null): permissionType => {\n  if (!user) {\n    return 'anonymous';\n  }\n\n  return user.permissionType || 'user';\n};\n","// ì´ë¯¸ì§€ ìºì‹±ì„ ìœ„í•œ ì‚¬ì´ì¦ˆ ìƒìˆ˜\nexport const IMAGE_SIZE = {\n  sm: 120,\n  md: 240,\n  lg: 480,\n  xl: 720,\n  xxl: 960,\n} as const;\n\nexport type ImageSizeKey = keyof typeof IMAGE_SIZE;\n\n/**\n * Supabase Storage URLì„ Image Transformation URLë¡œ ë³€í™˜\n * @param url - ì›ë³¸ Supabase Storage URL\n * @param size - ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ (IMAGE_SIZEì˜ í‚¤ ë˜ëŠ” ìˆ«ì)\n * @param quality - ì´ë¯¸ì§€ í’ˆì§ˆ (20-100, ê¸°ë³¸ê°’: 70)\n * @returns ë³€í™˜ëœ Image Transformation URL\n */\nexport function transformSupabaseImageUrl(\n  url: string,\n  size: ImageSizeKey | number = 'md',\n  quality: number = 70\n): string {\n  if (!url || !url.includes('/storage/v1/object/')) {\n    return url;\n  }\n\n  try {\n    // objectë¥¼ render/imageë¡œ ë³€ê²½\n    const transformedUrl = url.replace(\n      '/storage/v1/object/',\n      '/storage/v1/render/image/'\n    );\n\n    // ì‚¬ì´ì¦ˆ ê°’ ê²°ì •\n    const width = typeof size === 'number' ? size : IMAGE_SIZE[size];\n\n    // í’ˆì§ˆ ê°’ ê²€ì¦ (20-100 ë²”ìœ„)\n    const validQuality = Math.max(20, Math.min(100, quality));\n\n    // ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì¶”ê°€\n    const separator = transformedUrl.includes('?') ? '&' : '?';\n    const params = `width=${width}&quality=${validQuality}`;\n\n    return `${transformedUrl}${separator}${params}`;\n  } catch (error) {\n    console.error('Failed to transform Supabase image URL:', error);\n    return url; // ë³€í™˜ ì‹¤íŒ¨ ì‹œ ì›ë³¸ URL ë°˜í™˜\n  }\n}\n\n/**\n * ì—¬ëŸ¬ ì‚¬ì´ì¦ˆì˜ ì´ë¯¸ì§€ URLì„ ìƒì„± (srcSetìš©)\n * @param url - ì›ë³¸ Supabase Storage URL\n * @param sizes - ìƒì„±í•  ì‚¬ì´ì¦ˆ ë°°ì—´\n * @param quality - ì´ë¯¸ì§€ í’ˆì§ˆ (ê¸°ë³¸ê°’: 70)\n * @returns ì‚¬ì´ì¦ˆë³„ URL ê°ì²´\n */\nexport function generateImageSrcSet(\n  url: string,\n  sizes: ImageSizeKey[] = ['sm', 'md', 'lg'],\n  quality: number = 70\n): Record<ImageSizeKey, string> {\n  const result = {} as Record<ImageSizeKey, string>;\n\n  sizes.forEach(size => {\n    result[size] = transformSupabaseImageUrl(url, size, quality);\n  });\n\n  return result;\n}\n\n/**\n * Next.js Image ì»´í¬ë„ŒíŠ¸ìš© ë¡œë” í•¨ìˆ˜\n * @param src - ì´ë¯¸ì§€ ì†ŒìŠ¤ (ë²„í‚· ê²½ë¡œ)\n * @param width - ìš”ì²­ëœ ë„ˆë¹„\n * @param quality - ì´ë¯¸ì§€ í’ˆì§ˆ\n * @returns ë³€í™˜ëœ URL\n */\nexport function supabaseImageLoader({\n  src,\n  width,\n  quality,\n}: {\n  src: string;\n  width: number;\n  quality?: number;\n}): string {\n  const baseUrl = 'https://community.semi-colon.space';\n  const validQuality = quality || 75;\n\n  return `${baseUrl}/storage/v1/render/image/public/${src}?width=${width}&quality=${validQuality}`;\n}\n\n/**\n * ì´ë¯¸ì§€ srcì˜ ì ˆëŒ€ê²½ë¡œë¥¼ ìƒëŒ€ê²½ë¡œë¡œ ë³€í™˜\n * NEXT_PUBLIC_STORAGE_URL ë˜ëŠ” NEXT_PUBLIC_SUPABASE_URLì´ í¬í•¨ëœ URLì„ ìƒëŒ€ê²½ë¡œë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\n * @param src - ë³€í™˜í•  ì´ë¯¸ì§€ ì†ŒìŠ¤ URL\n * @returns ìƒëŒ€ê²½ë¡œë¡œ ë³€í™˜ëœ URL ë˜ëŠ” ì›ë³¸ URL\n */\nexport function normalizeImageSrc(src: string): string {\n  if (!src || typeof src !== 'string') {\n    return src;\n  }\n\n  try {\n    const resourceUrl = process.env.NEXT_PUBLIC_STORAGE_URL;\n    \n    // NEXT_PUBLIC_STORAGE_URLì´ ì„¤ì •ë˜ì–´ ìˆê³ , srcê°€ í•´ë‹¹ URLë¡œ ì‹œì‘í•˜ëŠ” ê²½ìš°\n    if (resourceUrl && src.startsWith(resourceUrl)) {\n      // NEXT_PUBLIC_STORAGE_URL ë¶€ë¶„ì„ ì œê±°í•˜ì—¬ ìƒëŒ€ê²½ë¡œë¡œ ë³€í™˜\n      const relativePath = src.replace(resourceUrl, '');\n      \n      // relativePathê°€ '/'ë¡œ ì‹œì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš° '/'ë¥¼ ë¶™ì´ë„ë¡ ì²˜ë¦¬\n      if (!relativePath.startsWith('/')) {\n        return `/${relativePath}`;\n      }\n      return relativePath;\n    }\n\n    // NEXT_PUBLIC_RESOURCE_URLì´ ì—†ê±°ë‚˜ í•´ë‹¹ URLë¡œ ì‹œì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš° ì›ë³¸ ë°˜í™˜\n    return src;\n  } catch (error) {\n    console.error('Failed to normalize image src:', error);\n    return src; // ì—ëŸ¬ ë°œìƒ ì‹œ ì›ë³¸ URL ë°˜í™˜\n  }\n}\n\n/**\n * Next.js Image ì»´í¬ë„ŒíŠ¸ìš© src ë³€í™˜ í—¬í¼\n * ì ˆëŒ€ê²½ë¡œë¥¼ ìƒëŒ€ê²½ë¡œë¡œ ë³€í™˜í•˜ê³  Supabase ì´ë¯¸ì§€ ìµœì í™”ë„ ì ìš©í•©ë‹ˆë‹¤.\n * @param src - ì›ë³¸ ì´ë¯¸ì§€ ì†ŒìŠ¤\n * @param size - ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ (ì„ íƒì‚¬í•­)\n * @param quality - ì´ë¯¸ì§€ í’ˆì§ˆ (ì„ íƒì‚¬í•­)\n * @returns ìµœì í™”ëœ ì´ë¯¸ì§€ URL\n */\nexport function optimizeImageSrc(\n  src: string,\n  size?: ImageSizeKey | number,\n  quality?: number\n): string {\n  // ë¨¼ì € ìƒëŒ€ê²½ë¡œë¡œ ë³€í™˜\n  const normalizedSrc = normalizeImageSrc(src);\n  \n  // Supabase ì´ë¯¸ì§€ì¸ ê²½ìš° ìµœì í™” ì ìš©\n  if (size !== undefined && normalizedSrc.includes('/storage/v1/object/')) {\n    return transformSupabaseImageUrl(normalizedSrc, size, quality);\n  }\n  \n  return normalizedSrc;\n}\n\n/**\n * ì´ë¯¸ì§€ê°€ GIF íŒŒì¼ì¸ì§€ í™•ì¸\n * @param src - ì´ë¯¸ì§€ ì†ŒìŠ¤ URL\n * @returns GIF íŒŒì¼ ì—¬ë¶€\n */\nexport function isGifImage(src: string): boolean {\n  if (!src || typeof src !== 'string') {\n    return false;\n  }\n  \n  // URLì—ì„œ í™•ì¥ì í™•ì¸ (.gifë¡œ ëë‚˜ëŠ”ì§€)\n  const lowerSrc = src.toLowerCase();\n  return lowerSrc.endsWith('.gif') || lowerSrc.includes('.gif?');\n}\n\n/**\n * ì´ë¯¸ì§€ê°€ ì• ë‹ˆë©”ì´ì…˜ í¬ë§·ì¸ì§€ í™•ì¸ (GIF, WEBP ì• ë‹ˆë©”ì´ì…˜ ë“±)\n * @param src - ì´ë¯¸ì§€ ì†ŒìŠ¤ URL\n * @returns ì• ë‹ˆë©”ì´ì…˜ ì´ë¯¸ì§€ ì—¬ë¶€\n */\nexport function isAnimatedImage(src: string): boolean {\n  if (!src || typeof src !== 'string') {\n    return false;\n  }\n  \n  const lowerSrc = src.toLowerCase();\n  // GIFëŠ” í•­ìƒ ì• ë‹ˆë©”ì´ì…˜ì¼ ê°€ëŠ¥ì„±ì´ ìˆìŒ\n  // WEBPëŠ” ì• ë‹ˆë©”ì´ì…˜ì„ ì§€ì›í•˜ì§€ë§Œ URLë§Œìœ¼ë¡œëŠ” íŒë‹¨ ë¶ˆê°€\n  return isGifImage(src);\n}\n\n/**\n * Next.js Image ì»´í¬ë„ŒíŠ¸ì— í•„ìš”í•œ propsë¥¼ ìë™ìœ¼ë¡œ ê²°ì •\n * GIF íŒŒì¼ì˜ ê²½ìš° unoptimized ì†ì„±ì„ ì¶”ê°€\n * @param src - ì´ë¯¸ì§€ ì†ŒìŠ¤ URL\n * @returns Image ì»´í¬ë„ŒíŠ¸ìš© ì¶”ê°€ props\n */\nexport function getImageProps(src: string): { unoptimized?: boolean } {\n  // GIF íŒŒì¼ì¸ ê²½ìš° unoptimized ì„¤ì •\n  if (isGifImage(src)) {\n    return { unoptimized: true };\n  }\n  \n  return {};\n}\n","// ì„ì‹œ íƒ€ì… ì •ì˜ (Phase 2ì—ì„œ ì ì ˆí•œ ìœ„ì¹˜ë¡œ ì´ë™ ì˜ˆì •)\ninterface LevelInfo {\n  level: number;\n  required_points: number;\n}\n\n/**\n * ë ˆë²¨ ê´€ë ¨ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤\n */\nexport class LevelUtil {\n  /**\n   * í˜„ì¬ í¬ì¸íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ìì˜ ì‹¤ì œ ë ˆë²¨ì„ ê³„ì‚°\n   */\n  static calculateUserLevel(currentPoints: number, levelTable: LevelInfo[]): number {\n    if (!levelTable.length) return 0;\n    \n    // ë ˆë²¨í‘œë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬\n    const sortedLevels = [...levelTable].sort((a, b) => a.level - b.level);\n    \n    let userLevel = 0;\n    for (const level of sortedLevels) {\n      if (currentPoints >= level.required_points) {\n        userLevel = level.level;\n      } else {\n        break;\n      }\n    }\n    \n    return userLevel;\n  }\n\n  /**\n   * í˜„ì¬ ë ˆë²¨ê³¼ ë‹¤ìŒ ë ˆë²¨ ì •ë³´ë¥¼ ë°˜í™˜\n   */\n  static getLevelProgress(currentPoints: number, levelTable: LevelInfo[]) {\n    \n    if (!levelTable.length) {\n      return {\n        currentLevel: 0,\n        currentLevelPoints: 0,\n        nextLevel: 1,\n        nextLevelPoints: 0,\n        progressPercentage: 0,\n        pointsToNext: 0,\n      };\n    }\n\n    const sortedLevels = [...levelTable].sort((a, b) => a.level - b.level);\n    const userLevel = this.calculateUserLevel(currentPoints, levelTable);\n    \n    // í˜„ì¬ ë ˆë²¨ ì •ë³´ ì°¾ê¸°\n    const currentLevelInfo = sortedLevels.find(level => level.level === userLevel);\n    const currentLevelPoints = currentLevelInfo?.required_points || 0;\n    \n    // ë‹¤ìŒ ë ˆë²¨ ì •ë³´ ì°¾ê¸°\n    const nextLevelInfo = sortedLevels.find(level => level.level === userLevel + 1);\n    const nextLevel = nextLevelInfo?.level || userLevel;\n    const nextLevelPoints = nextLevelInfo?.required_points || currentLevelPoints;\n    \n    // ì§„í–‰ë¥  ê³„ì‚°\n    let progressPercentage = 0;\n    let pointsToNext = 0;\n    \n    if (nextLevelInfo) {\n      // í˜„ì¬ ë ˆë²¨ì—ì„œ ë‹¤ìŒ ë ˆë²¨ê¹Œì§€ í•„ìš”í•œ í¬ì¸íŠ¸\n      const pointsNeededForNext = nextLevelPoints - currentLevelPoints;\n      // í˜„ì¬ ë ˆë²¨ì„ ë„˜ì–´ì„  í¬ì¸íŠ¸\n      const pointsEarnedInCurrentLevel = currentPoints - currentLevelPoints;\n      \n      progressPercentage = pointsNeededForNext > 0 \n        ? Math.min(100, (pointsEarnedInCurrentLevel / pointsNeededForNext) * 100)\n        : 100;\n      \n      pointsToNext = Math.max(0, nextLevelPoints - currentPoints);\n    } else {\n      // ìµœê³  ë ˆë²¨ì— ë„ë‹¬í•œ ê²½ìš°\n      progressPercentage = 100;\n      pointsToNext = 0;\n    }\n\n    return {\n      currentLevel: userLevel,\n      currentLevelPoints,\n      nextLevel,\n      nextLevelPoints,\n      progressPercentage: Math.round(progressPercentage),\n      pointsToNext,\n    };\n  }\n  /**\n   * ë‹¤ìŒ ë ˆë²¨ ì •ë³´ë¥¼ ë°˜í™˜ (ê°„ë‹¨í•œ í˜•íƒœ)\n   */\n  static getNextLevelInfo(currentPoints: number, levelTable: LevelInfo[]) {\n    if (!levelTable.length) {\n      return {\n        nextLevel: 1,\n        requiredPoint: 0,\n        levelUpPercentage: 0,\n        isMaxLevel: true,\n      };\n    }\n    \n\n    const sortedLevels = [...levelTable].sort((a, b) => a.level - b.level);\n    const userLevel = this.calculateUserLevel(currentPoints, levelTable);\n    \n    // í˜„ì¬ ë ˆë²¨ ì •ë³´ ì°¾ê¸°\n    const currentLevelInfo = sortedLevels.find(level => level.level === userLevel);\n    const currentLevelPoints = currentLevelInfo?.required_points || 0;\n    \n    // ë‹¤ìŒ ë ˆë²¨ ì •ë³´ ì°¾ê¸°\n    const nextLevelInfo = sortedLevels.find(level => level.level === userLevel + 1);\n    \n    if (!nextLevelInfo) {\n      // ìµœê³  ë ˆë²¨ì— ë„ë‹¬í•œ ê²½ìš°\n      return {\n        nextLevel: userLevel,\n        requiredPoint: 0,\n        levelUpPercent: 100,\n        isMaxLevel: true,\n      };\n    }\n    \n    const nextLevel = nextLevelInfo.level;\n    const nextLevelPoints = nextLevelInfo.required_points;\n    \n    // ë‹¤ìŒ ë ˆë²¨ê¹Œì§€ í•„ìš”í•œ í¬ì¸íŠ¸\n    const requiredPoint = Math.max(0, nextLevelPoints - currentPoints);\n    \n    // í˜„ì¬ ë ˆë²¨ì—ì„œ ë‹¤ìŒ ë ˆë²¨ê¹Œì§€ì˜ ì§„í–‰ë¥  ê³„ì‚°\n    const pointsNeededForNext = nextLevelPoints - currentLevelPoints;\n    const pointsEarnedInCurrentLevel = currentPoints - currentLevelPoints;\n    \n    const levelUpPercent = pointsNeededForNext > 0 \n      ? Math.min(100, Math.round((pointsEarnedInCurrentLevel / pointsNeededForNext) * 100))\n      : 100;\n\n    return {\n      nextLevel,\n      requiredPoint,\n      levelUpPercent,\n      isMaxLevel: false,\n    };\n  }\n\n}","/**\n * ë¬¸ìì—´ ë³€í™˜ ê´€ë ¨ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤\n */\n\n/**\n * snake_case ë¬¸ìì—´ì„ camelCaseë¡œ ë³€í™˜\n * @param str snake_case ë¬¸ìì—´\n * @returns camelCase ë¬¸ìì—´\n */\nexport const toCamelCase = (str: string): string => {\n  return str.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());\n};\n\n/**\n * camelCase ë¬¸ìì—´ì„ snake_caseë¡œ ë³€í™˜\n * @param str camelCase ë¬¸ìì—´\n * @returns snake_case ë¬¸ìì—´\n */\nexport const toSnakeCase = (str: string): string => {\n  return str.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\n};\n\n/**\n * ê°ì²´ì˜ í‚¤ë¥¼ snake_caseì—ì„œ camelCaseë¡œ ë³€í™˜\n * @param obj snake_case í‚¤ë¥¼ ê°€ì§„ ê°ì²´\n * @returns camelCase í‚¤ë¥¼ ê°€ì§„ ê°ì²´\n */\nexport const keysToCamelCase = <T extends Record<string, any>>(\n  obj: T\n): { [K in keyof T as K extends string ? CamelCase<K> : K]: T[K] } => {\n  if (obj === null || obj === undefined) {\n    return obj as any;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(item => \n      typeof item === 'object' && item !== null ? keysToCamelCase(item) : item\n    ) as any;\n  }\n\n  if (typeof obj === 'object') {\n    const result: Record<string, any> = {};\n    \n    for (const [key, value] of Object.entries(obj)) {\n      const camelKey = toCamelCase(key);\n      \n      if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        result[camelKey] = keysToCamelCase(value);\n      } else if (Array.isArray(value)) {\n        result[camelKey] = value.map(item =>\n          typeof item === 'object' && item !== null ? keysToCamelCase(item) : item\n        );\n      } else {\n        result[camelKey] = value;\n      }\n    }\n    \n    return result as any;\n  }\n\n  return obj as any;\n};\n\n/**\n * ê°ì²´ì˜ í‚¤ë¥¼ camelCaseì—ì„œ snake_caseë¡œ ë³€í™˜\n * @param obj camelCase í‚¤ë¥¼ ê°€ì§„ ê°ì²´\n * @returns snake_case í‚¤ë¥¼ ê°€ì§„ ê°ì²´\n */\nexport const keysToSnakeCase = <T extends Record<string, any>>(\n  obj: T\n): { [K in keyof T as K extends string ? SnakeCase<K> : K]: T[K] } => {\n  if (obj === null || obj === undefined) {\n    return obj as any;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(item => \n      typeof item === 'object' && item !== null ? keysToSnakeCase(item) : item\n    ) as any;\n  }\n\n  if (typeof obj === 'object') {\n    const result: Record<string, any> = {};\n    \n    for (const [key, value] of Object.entries(obj)) {\n      const snakeKey = toSnakeCase(key);\n      \n      if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        result[snakeKey] = keysToSnakeCase(value);\n      } else if (Array.isArray(value)) {\n        result[snakeKey] = value.map(item =>\n          typeof item === 'object' && item !== null ? keysToSnakeCase(item) : item\n        );\n      } else {\n        result[snakeKey] = value;\n      }\n    }\n    \n    return result as any;\n  }\n\n  return obj as any;\n};\n\n// íƒ€ì… í—¬í¼ë“¤\ntype CamelCase<S extends string> = S extends `${infer P1}_${infer P2}${infer P3}`\n  ? `${P1}${Uppercase<P2>}${CamelCase<P3>}`\n  : S;\n\ntype SnakeCase<S extends string> = S extends `${infer C}${infer T}`\n  ? C extends Uppercase<C>\n    ? `_${Lowercase<C>}${SnakeCase<T>}`\n    : `${C}${SnakeCase<T>}`\n  : S; ","/**\n * URL íŒŒë¼ë¯¸í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì¶”ê°€/ìˆ˜ì •í•˜ëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜\n */\nexport const addUrlParams = (\n  baseUrl: string, \n  params: Record<string, string>\n): string => {\n  try {\n    // ì ˆëŒ€ URLì¸ì§€ ìƒëŒ€ URLì¸ì§€ í™•ì¸\n    const url = baseUrl.startsWith('http') \n      ? new URL(baseUrl)\n      : new URL(baseUrl, window.location.origin);\n    \n    const searchParams = new URLSearchParams(url.search);\n    \n    // ìƒˆë¡œìš´ íŒŒë¼ë¯¸í„°ë“¤ì„ ì¶”ê°€/ì—…ë°ì´íŠ¸\n    Object.entries(params).forEach(([key, value]) => {\n      searchParams.set(key, value);\n    });\n    \n    // pathnameê³¼ ìƒˆë¡œìš´ search paramsë¥¼ ê²°í•©\n    return `${url.pathname}?${searchParams.toString()}`;\n  } catch (error) {\n    console.error('URL íŒŒì‹± ì˜¤ë¥˜:', error);\n    throw new Error('ìœ íš¨í•˜ì§€ ì•Šì€ URLì…ë‹ˆë‹¤.');\n  }\n};\n\n/**\n * sessionStorageì—ì„œ ì´ì „ í˜ì´ì§€ URLì„ ê°€ì ¸ì™€ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•œ í›„ ë°˜í™˜\n */\nexport const getPreviousUrlWithParams = (\n  storageKey: string,\n  params: Record<string, string>,\n  fallbackUrl: string = '/'\n): string => {\n  const previousUrl = sessionStorage.getItem(storageKey);\n  \n  if (!previousUrl) {\n    return fallbackUrl;\n  }\n  \n  try {\n    return addUrlParams(previousUrl, params);\n  } catch (error) {\n    console.error('ì´ì „ URL ì²˜ë¦¬ ì˜¤ë¥˜:', error);\n    return fallbackUrl;\n  }\n}; ","/**\n * JWT í† í° ë””ì½”ë”© ë° ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ ìœ í‹¸ë¦¬í‹°\n */\n\nexport interface JWTUserPayload {\n  aal: string;\n  amr: Array<{ method: string; timestamp: number }>;\n  app_metadata: {\n    provider: string;\n    providers: string[];\n    [key: string]: any; // ì¶”ê°€ ì•± ë©”íƒ€ë°ì´í„°\n  };\n  aud: string;\n  created_at: string;\n  email: string;\n  exp: number;\n  iat: number;\n  is_anonymous: boolean;\n  phone: string;\n  role: string;\n  session_id: string;\n  sub: string; // auth_user_id (UUID)\n  user_metadata: {\n    email?: string;\n    email_verified?: boolean;\n    login_id?: string;\n    nickname?: string;\n    phone_verified?: boolean;\n    role?: string;\n    sub?: string;\n    [key: string]: any; // ì¶”ê°€ ì‚¬ìš©ì ë©”íƒ€ë°ì´í„°\n  };\n  \n  // ì• í”Œë¦¬ì¼€ì´ì…˜ë³„ í™•ì¥ í•„ë“œ (ì‹¤ì œë¡œ JWTì— ì—†ì„ ìˆ˜ ìˆìŒ)\n  user_id?: number; // users í…Œì´ë¸”ì˜ ì‹¤ì œ ID\n  permission_type?: string;\n  is_admin?: boolean;\n}\n\n/**\n * Base64 URL ë””ì½”ë”©\n */\nfunction base64UrlDecode(str: string): string {\n  // Base64 URLì„ ì¼ë°˜ Base64ë¡œ ë³€í™˜\n  str = str.replace(/-/g, '+').replace(/_/g, '/');\n  \n  // íŒ¨ë”© ì¶”ê°€\n  while (str.length % 4) {\n    str += '=';\n  }\n  \n  // Base64 ë””ì½”ë”© í›„ UTF-8 ë¬¸ìì—´ë¡œ ë³€í™˜\n  return decodeURIComponent(\n    atob(str)\n      .split('')\n      .map(c => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\n      .join('')\n  );\n}\n\n/**\n * JWT í† í°ì—ì„œ í˜ì´ë¡œë“œ ì¶”ì¶œ\n * @param token JWT ì•¡ì„¸ìŠ¤ í† í°\n * @returns ë””ì½”ë”©ëœ ì‚¬ìš©ì ì •ë³´ ë˜ëŠ” null\n */\nexport function decodeJWTPayload(token: string): JWTUserPayload | null {\n  try {\n    // JWTëŠ” header.payload.signature í˜•íƒœ\n    const parts = token.split('.');\n    if (parts.length !== 3) {\n      console.error('Invalid JWT format');\n      return null;\n    }\n    \n    // í˜ì´ë¡œë“œ ë¶€ë¶„ ë””ì½”ë”©\n    const payload = base64UrlDecode(parts[1]);\n    return JSON.parse(payload) as JWTUserPayload;\n  } catch (error) {\n    console.error('JWT ë””ì½”ë”© ì‹¤íŒ¨:', error);\n    return null;\n  }\n}\n\n/**\n * í˜„ì¬ ì„¸ì…˜ì—ì„œ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ\n * @returns ì‚¬ìš©ì ì •ë³´ ë˜ëŠ” null\n */\nexport async function getCurrentUserFromToken(): Promise<JWTUserPayload | null> {\n  try {\n    const { clientSupabase } = await import(\"../config/Supabase/client\");\n    const { data: { session } } = await clientSupabase.auth.getSession();\n    \n    if (!session?.access_token) {\n      return null;\n    }\n    \n    return decodeJWTPayload(session.access_token);\n  } catch (error) {\n    console.error('í† í°ì—ì„œ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ ì‹¤íŒ¨:', error);\n    return null;\n  }\n}\n\n/**\n * JWT í† í°ì´ ë§Œë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸\n * @param payload JWT í˜ì´ë¡œë“œ\n * @returns ë§Œë£Œ ì—¬ë¶€\n */\nexport function isTokenExpired(payload: JWTUserPayload): boolean {\n  const now = Math.floor(Date.now() / 1000);\n  return payload.exp <= now;\n}\n\n/**\n * í† í° ë§Œë£Œê¹Œì§€ ë‚¨ì€ ì‹œê°„ (ì´ˆ)\n * @param payload JWT í˜ì´ë¡œë“œ\n * @returns ë‚¨ì€ ì‹œê°„ (ì´ˆ), ìŒìˆ˜ë©´ ì´ë¯¸ ë§Œë£Œ\n */\nexport function getTokenTimeToExpiry(payload: JWTUserPayload): number {\n  const now = Math.floor(Date.now() / 1000);\n  return payload.exp - now;\n}\n\n/**\n * ë§Œë£Œëœ í† í°ì„ ì¿ í‚¤ì—ì„œ ìë™ìœ¼ë¡œ ì œê±°\n * @param cookieName ì¿ í‚¤ ì´ë¦„ (ê¸°ë³¸ê°’: 'sb-access-token')\n */\nexport function removeExpiredTokenFromCookie(cookieName: string = 'sb-access-token'): void {\n  if (typeof window === 'undefined') return;\n\n  try {\n    // ì¿ í‚¤ì—ì„œ í† í° ì½ê¸°\n    const cookieString = document.cookie\n      .split('; ')\n      .find(row => row.startsWith(`${cookieName}=`))\n      ?.split('=')[1];\n\n    if (!cookieString) return;\n\n    // í† í° íŒŒì‹± ë° ê²€ì¦\n    const decodedCookie = decodeURIComponent(cookieString);\n    const sessionData = JSON.parse(decodedCookie);\n    const accessToken = sessionData?.access_token;\n\n    if (!accessToken) return;\n\n    // JWT í† í° ë””ì½”ë”© ë° ë§Œë£Œ í™•ì¸\n    const payload = decodeJWTPayload(accessToken);\n    if (payload && isTokenExpired(payload)) {\n      console.log('ğŸ—‘ï¸ ë§Œë£Œëœ í† í° ê°ì§€, ì¿ í‚¤ì—ì„œ ì œê±° ì¤‘...');\n      \n      // ë§Œë£Œëœ í† í° ì œê±°\n      document.cookie = `${cookieName}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax`;\n      \n      // ì¶”ê°€ í† í° ê´€ë ¨ ì¿ í‚¤ë“¤ë„ ì •ë¦¬\n      const relatedCookies = ['supabase-auth-token', 'sb-auth-token', 'auth-token'];\n      relatedCookies.forEach(name => {\n        document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax`;\n      });\n\n      console.log('âœ… ë§Œë£Œëœ í† í° ì¿ í‚¤ ì œê±° ì™„ë£Œ');\n    }\n  } catch (error) {\n    console.error('âŒ ë§Œë£Œëœ í† í° ì œê±° ì¤‘ ì˜¤ë¥˜:', error);\n  }\n}\n\n/**\n * í† í° ìœ íš¨ì„±ì„ ê²€ì¦í•˜ê³  ë§Œë£Œëœ ê²½ìš° ìë™ìœ¼ë¡œ ì •ë¦¬\n * @returns ìœ íš¨í•œ í† í°ì´ ìˆìœ¼ë©´ í˜ì´ë¡œë“œ ë°˜í™˜, ì—†ìœ¼ë©´ null\n */\nexport async function validateAndCleanToken(): Promise<JWTUserPayload | null> {\n  try {\n    const { clientSupabase } = await import(\"../config/Supabase/client\");\n    const { data: { session } } = await clientSupabase.auth.getSession();\n    \n    if (!session?.access_token) {\n      // ì„¸ì…˜ì´ ì—†ëŠ” ê²½ìš° ì¿ í‚¤ ì •ë¦¬\n      removeExpiredTokenFromCookie();\n      return null;\n    }\n    \n    const payload = decodeJWTPayload(session.access_token);\n    if (!payload) {\n      // í† í° ë””ì½”ë”© ì‹¤íŒ¨ ì‹œ ì¿ í‚¤ ì •ë¦¬\n      removeExpiredTokenFromCookie();\n      return null;\n    }\n    \n    if (isTokenExpired(payload)) {\n      // ë§Œë£Œëœ í† í° ì •ë¦¬\n      removeExpiredTokenFromCookie();\n      \n      // Supabase ì„¸ì…˜ë„ ì •ë¦¬\n      await clientSupabase.auth.signOut();\n      return null;\n    }\n    \n    return payload;\n  } catch (error) {\n    console.error('í† í° ê²€ì¦ ë° ì •ë¦¬ ì‹¤íŒ¨:', error);\n    removeExpiredTokenFromCookie(); // ì˜¤ë¥˜ ì‹œì—ë„ ì¿ í‚¤ ì •ë¦¬\n    return null;\n  }\n}\n\n/**\n * í† í° ë§Œë£Œ 5ë¶„ ì „ ì—¬ë¶€ í™•ì¸ (ê°±ì‹  ì‹œì  íŒë‹¨ìš©)\n * @param payload JWT í˜ì´ë¡œë“œ\n * @returns trueë©´ ê°±ì‹ ì´ í•„ìš”í•œ ì‹œì \n */\nexport function shouldRefreshToken(payload: JWTUserPayload): boolean {\n  const timeToExpiry = getTokenTimeToExpiry(payload);\n  return timeToExpiry <= 300; // 5ë¶„ ì´í•˜ ë‚¨ìœ¼ë©´ ê°±ì‹ \n} ","// ì—…ë¡œë“œ ì—ëŸ¬ íƒ€ì… ì •ì˜\nexport enum UploadErrorType {\n  NETWORK_ERROR = 'network_error',\n  FILE_TOO_LARGE = 'file_too_large',\n  UNSUPPORTED_FORMAT = 'unsupported_format',\n  PERMISSION_DENIED = 'permission_denied',\n  SERVER_ERROR = 'server_error',\n  UPLOAD_TIMEOUT = 'upload_timeout',\n  QUOTA_EXCEEDED = 'quota_exceeded',\n  INVALID_POST = 'invalid_post',\n}\n\n// ì—ëŸ¬ ë©”ì‹œì§€ ë§¤í•‘\nconst ERROR_MESSAGES: Record<UploadErrorType, string> = {\n  [UploadErrorType.FILE_TOO_LARGE]: 'íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤. ì´ë¯¸ì§€ëŠ” 10MB, ë¹„ë””ì˜¤ëŠ” 100MB ì´í•˜ë¡œ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.',\n  [UploadErrorType.UNSUPPORTED_FORMAT]: 'ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤. JPG, PNG, GIF, WebP, MP4, AVI, MOV íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.',\n  [UploadErrorType.PERMISSION_DENIED]: 'íŒŒì¼ ì—…ë¡œë“œ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.',\n  [UploadErrorType.NETWORK_ERROR]: 'ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.',\n  [UploadErrorType.SERVER_ERROR]: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.',\n  [UploadErrorType.UPLOAD_TIMEOUT]: 'ì—…ë¡œë“œ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. íŒŒì¼ í¬ê¸°ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.',\n  [UploadErrorType.QUOTA_EXCEEDED]: 'ì—…ë¡œë“œ í• ë‹¹ëŸ‰ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ íŒŒì¼ì„ ì‚­ì œí•˜ê±°ë‚˜ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.',\n  [UploadErrorType.INVALID_POST]: 'ìœ íš¨í•˜ì§€ ì•Šì€ ê²Œì‹œê¸€ì…ë‹ˆë‹¤. ê²Œì‹œê¸€ì„ ë‹¤ì‹œ ìƒì„±í•´ì£¼ì„¸ìš”.',\n};\n\n// ì—ëŸ¬ ë¶„ì„ ë° ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ ìƒì„±\nexport function getUploadErrorMessage(error: any): string {\n  const errorMessage = error?.message?.toLowerCase() || '';\n  const errorResponse = error?.response?.data;\n\n  // API ì—ëŸ¬ ì‘ë‹µì—ì„œ êµ¬ì²´ì ì¸ ì—ëŸ¬ ì½”ë“œ í™•ì¸\n  if (errorResponse?.error?.code) {\n    const errorCode = errorResponse.error.code as UploadErrorType;\n    if (ERROR_MESSAGES[errorCode]) {\n      return ERROR_MESSAGES[errorCode];\n    }\n  }\n\n  // ì—ëŸ¬ ë©”ì‹œì§€ í‚¤ì›Œë“œ ê¸°ë°˜ ë¶„ì„\n  if (errorMessage.includes('file too large') || errorMessage.includes('413')) {\n    return ERROR_MESSAGES[UploadErrorType.FILE_TOO_LARGE];\n  }\n\n  if (errorMessage.includes('unsupported') || \n      errorMessage.includes('invalid format') || \n      errorMessage.includes('415')) {\n    return ERROR_MESSAGES[UploadErrorType.UNSUPPORTED_FORMAT];\n  }\n\n  if (errorMessage.includes('permission') || \n      errorMessage.includes('unauthorized') || \n      errorMessage.includes('401') || \n      errorMessage.includes('403')) {\n    return ERROR_MESSAGES[UploadErrorType.PERMISSION_DENIED];\n  }\n\n  if (errorMessage.includes('network') || \n      errorMessage.includes('fetch') || \n      errorMessage.includes('timeout') ||\n      error?.code === 'NETWORK_ERROR') {\n    return ERROR_MESSAGES[UploadErrorType.NETWORK_ERROR];\n  }\n\n  if (errorMessage.includes('quota') || \n      errorMessage.includes('storage full') ||\n      errorMessage.includes('429')) {\n    return ERROR_MESSAGES[UploadErrorType.QUOTA_EXCEEDED];\n  }\n\n  if (errorMessage.includes('post not found') || \n      errorMessage.includes('invalid post') ||\n      errorMessage.includes('404')) {\n    return ERROR_MESSAGES[UploadErrorType.INVALID_POST];\n  }\n\n  // ê¸°ë³¸ ì—ëŸ¬ ë©”ì‹œì§€\n  return 'íŒŒì¼ ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';\n}\n\n// ì¬ì‹œë„ ê°€ëŠ¥í•œ ì—ëŸ¬ì¸ì§€ í™•ì¸\nexport function isRetryableError(error: any): boolean {\n  const errorMessage = error?.message?.toLowerCase() || '';\n  const errorCode = error?.response?.data?.error?.code;\n\n  // ì¬ì‹œë„ ë¶ˆê°€ëŠ¥í•œ ì—ëŸ¬ë“¤\n  const nonRetryableErrors = [\n    UploadErrorType.FILE_TOO_LARGE,\n    UploadErrorType.UNSUPPORTED_FORMAT,\n    UploadErrorType.PERMISSION_DENIED,\n    UploadErrorType.QUOTA_EXCEEDED,\n    UploadErrorType.INVALID_POST,\n  ];\n\n  if (nonRetryableErrors.includes(errorCode)) {\n    return false;\n  }\n\n  // í‚¤ì›Œë“œ ê¸°ë°˜ ì¬ì‹œë„ ë¶ˆê°€ëŠ¥ ì—ëŸ¬ ì²´í¬\n  if (errorMessage.includes('file too large') ||\n      errorMessage.includes('unsupported') ||\n      errorMessage.includes('invalid format') ||\n      errorMessage.includes('permission') ||\n      errorMessage.includes('unauthorized') ||\n      errorMessage.includes('quota')) {\n    return false;\n  }\n\n  // ê·¸ ì™¸ëŠ” ëª¨ë‘ ì¬ì‹œë„ ê°€ëŠ¥\n  return true;\n}\n\n// ì—…ë¡œë“œ ì—ëŸ¬ ë¡œê¹…\nexport function logUploadError(\n  error: any, \n  context: {\n    postId?: number;\n    fileName?: string;\n    fileSize?: number;\n    fileType?: string;\n    action?: 'upload' | 'retry' | 'progress' | 'cancel';\n  }\n): void {\n  const errorInfo = {\n    message: error?.message || 'Unknown error',\n    stack: error?.stack,\n    response: error?.response?.data,\n    context,\n    timestamp: new Date().toISOString(),\n    userAgent: navigator.userAgent,\n  };\n\n  // ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì½˜ì†”ì— ìƒì„¸ ì¶œë ¥\n  if (process.env.NODE_ENV === 'development') {\n    console.group('ğŸš¨ Upload Error');\n    console.error('Error Details:', errorInfo);\n    console.groupEnd();\n  }\n\n  // í”„ë¡œë•ì…˜ì—ì„œëŠ” ëª¨ë‹ˆí„°ë§ ì„œë¹„ìŠ¤ë¡œ ì „ì†¡\n  if (process.env.NODE_ENV === 'production') {\n    // ì˜ˆ: Sentry, LogRocket ë“±ìœ¼ë¡œ ì „ì†¡\n    // window.Sentry?.captureException(error, { extra: errorInfo });\n    console.error('Upload Error:', errorInfo);\n  }\n}\n\n// ì—…ë¡œë“œ ì§„í–‰ ìƒí™© ì¶”ì ì„ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤\nexport interface UploadMetrics {\n  startTime: number;\n  totalFiles: number;\n  completedFiles: number;\n  failedFiles: number;\n  totalBytes: number;\n  uploadedBytes: number;\n  retryCount: number;\n}\n\n// ì—…ë¡œë“œ ë©”íŠ¸ë¦­ìŠ¤ ê³„ì‚°\nexport function calculateUploadMetrics(files: any[], startTime: number): UploadMetrics {\n  const totalFiles = files.length;\n  const completedFiles = files.filter(f => f.status === 'completed').length;\n  const failedFiles = files.filter(f => f.status === 'failed').length;\n  const totalBytes = files.reduce((sum, f) => sum + (f.fileSize || 0), 0);\n  const uploadedBytes = files.reduce((sum, f) => {\n    return sum + (f.fileSize || 0) * ((f.progress || 0) / 100);\n  }, 0);\n\n  return {\n    startTime,\n    totalFiles,\n    completedFiles,\n    failedFiles,\n    totalBytes,\n    uploadedBytes,\n    retryCount: 0, // ë³„ë„ ê´€ë¦¬ í•„ìš”\n  };\n}\n\n// ì˜ˆìƒ ì™„ë£Œ ì‹œê°„ ê³„ì‚°\nexport function estimateCompletionTime(metrics: UploadMetrics): number | null {\n  const elapsed = Date.now() - metrics.startTime;\n  const progress = metrics.uploadedBytes / metrics.totalBytes;\n  \n  if (progress === 0) return null;\n  \n  const totalEstimated = elapsed / progress;\n  const remaining = totalEstimated - elapsed;\n  \n  return Math.max(0, remaining);\n}\n\n// ì—…ë¡œë“œ ì†ë„ ê³„ì‚° (MB/s)\nexport function calculateUploadSpeed(metrics: UploadMetrics): number {\n  const elapsed = (Date.now() - metrics.startTime) / 1000; // ì´ˆ ë‹¨ìœ„\n  const uploadedMB = metrics.uploadedBytes / (1024 * 1024);\n  \n  return elapsed > 0 ? uploadedMB / elapsed : 0;\n}","/**\n * @semicolon/community-core initialization\n * \n * This module provides package initialization functionality\n * to configure the core package for optimal usage.\n */\n\nexport interface CommunityPackageConfig {\n  /** API base URL for backend services */\n  apiUrl?: string;\n  \n  /** Supabase configuration */\n  supabase?: {\n    url?: string;\n    anonKey?: string;\n  };\n  \n  /** Default locale for formatting */\n  locale?: string;\n  \n  /** Enable development mode features */\n  development?: boolean;\n}\n\nlet globalConfig: CommunityPackageConfig = {};\n\n/**\n * Initialize @semicolon/community-core package with configuration\n * \n * @example\n * ```typescript\n * import { initializeCommunityCore } from '@semicolon/community-core';\n * \n * initializeCommunityCore({\n *   apiUrl: process.env.REACT_APP_API_URL,\n *   supabase: {\n *     url: process.env.REACT_APP_SUPABASE_URL,\n *     anonKey: process.env.REACT_APP_SUPABASE_ANON_KEY,\n *   },\n *   locale: 'ko-KR',\n *   development: process.env.NODE_ENV === 'development'\n * });\n * ```\n */\nexport function initializeCommunityCore(config: CommunityPackageConfig): void {\n  globalConfig = { ...globalConfig, ...config };\n  \n  if (config.development) {\n    console.log('ğŸš€ @semicolon/community-core initialized with config:', globalConfig);\n  }\n}\n\n/**\n * Get current package configuration\n */\nexport function getPackageConfig(): Readonly<CommunityPackageConfig> {\n  return Object.freeze({ ...globalConfig });\n}\n\n/**\n * Get specific config value with fallback\n */\nexport function getConfigValue<T>(key: keyof CommunityPackageConfig, fallback?: T): T {\n  return (globalConfig[key] as T) ?? fallback;\n}","/**\n * Button Component\n * \n * A flexible, accessible button component with multiple variants and sizes.\n * Designed for community platform usage with built-in loading states and accessibility.\n */\n\nimport React, { forwardRef } from 'react';\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  /** Button visual style variant */\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\n  \n  /** Button size */\n  size?: 'sm' | 'md' | 'lg';\n  \n  /** Show loading state */\n  loading?: boolean;\n  \n  /** Make button full width */\n  fullWidth?: boolean;\n  \n  /** Icon to show before text */\n  startIcon?: React.ReactNode;\n  \n  /** Icon to show after text */\n  endIcon?: React.ReactNode;\n}\n\n/**\n * Button component with multiple variants and accessibility features\n * \n * @example\n * ```tsx\n * import { Button } from '@semicolon/community-core';\n * \n * // Basic usage\n * <Button>Click me</Button>\n * \n * // With variant and size\n * <Button variant=\"primary\" size=\"lg\">Submit</Button>\n * \n * // Loading state\n * <Button loading onClick={handleSubmit}>Save Changes</Button>\n * \n * // With icons\n * <Button startIcon={<PlusIcon />}>Add New</Button>\n * ```\n */\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(({\n  variant = 'primary',\n  size = 'md',\n  loading = false,\n  fullWidth = false,\n  startIcon,\n  endIcon,\n  disabled,\n  className = '',\n  children,\n  ...props\n}, ref) => {\n  // Base classes\n  const baseClasses = [\n    'inline-flex items-center justify-center font-medium transition-colors',\n    'focus:outline-none focus:ring-2 focus:ring-offset-2',\n    'disabled:opacity-50 disabled:cursor-not-allowed'\n  ];\n\n  // Variant classes\n  const variantClasses = {\n    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',\n    secondary: 'bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500',\n    outline: 'border-2 border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500',\n    ghost: 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500',\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500'\n  };\n\n  // Size classes\n  const sizeClasses = {\n    sm: 'px-3 py-1.5 text-sm rounded-md',\n    md: 'px-4 py-2 text-base rounded-lg', \n    lg: 'px-6 py-3 text-lg rounded-lg'\n  };\n\n  // Width classes\n  const widthClass = fullWidth ? 'w-full' : '';\n\n  // Combine all classes\n  const buttonClasses = [\n    ...baseClasses,\n    variantClasses[variant],\n    sizeClasses[size],\n    widthClass,\n    className\n  ].filter(Boolean).join(' ');\n\n  // Loading spinner component\n  const LoadingSpinner = () => (\n    <svg \n      className=\"animate-spin -ml-1 mr-2 h-4 w-4\" \n      fill=\"none\" \n      viewBox=\"0 0 24 24\"\n      aria-hidden=\"true\"\n    >\n      <circle \n        className=\"opacity-25\" \n        cx=\"12\" \n        cy=\"12\" \n        r=\"10\" \n        stroke=\"currentColor\" \n        strokeWidth=\"4\"\n      />\n      <path \n        className=\"opacity-75\" \n        fill=\"currentColor\" \n        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n      />\n    </svg>\n  );\n\n  return (\n    <button\n      ref={ref}\n      className={buttonClasses}\n      disabled={disabled || loading}\n      {...props}\n    >\n      {loading && <LoadingSpinner />}\n      {!loading && startIcon && (\n        <span className=\"mr-2\">{startIcon}</span>\n      )}\n      {children}\n      {!loading && endIcon && (\n        <span className=\"ml-2\">{endIcon}</span>\n      )}\n    </button>\n  );\n});\n\nButton.displayName = 'Button';\n\nexport default Button;","/**\n * Badge Component\n * \n * A versatile badge component for displaying status, labels, and notifications.\n * Perfect for user levels, post tags, notification counts, etc.\n */\n\nimport React from 'react';\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLSpanElement> {\n  /** Badge visual variant */\n  variant?: 'primary' | 'secondary' | 'success' | 'warning' | 'danger' | 'info';\n  \n  /** Badge size */\n  size?: 'sm' | 'md' | 'lg';\n  \n  /** Make badge rounded/pill-shaped */\n  rounded?: boolean;\n  \n  /** Show a dot indicator */\n  dot?: boolean;\n}\n\n/**\n * Badge component for status indicators and labels\n * \n * @example\n * ```tsx\n * import { Badge } from '@semicolon/community-core';\n * \n * // Basic usage\n * <Badge>New</Badge>\n * \n * // User level badge\n * <Badge variant=\"primary\" rounded>Level 5</Badge>\n * \n * // Notification count\n * <Badge variant=\"danger\" size=\"sm\">3</Badge>\n * \n * // Status indicator with dot\n * <Badge variant=\"success\" dot>Online</Badge>\n * ```\n */\nexport const Badge: React.FC<BadgeProps> = ({\n  variant = 'primary',\n  size = 'md',\n  rounded = false,\n  dot = false,\n  className = '',\n  children,\n  ...props\n}) => {\n  // Base classes\n  const baseClasses = [\n    'inline-flex items-center font-medium',\n    rounded ? 'rounded-full' : 'rounded-md'\n  ];\n\n  // Variant classes\n  const variantClasses = {\n    primary: 'bg-blue-100 text-blue-800',\n    secondary: 'bg-gray-100 text-gray-800',\n    success: 'bg-green-100 text-green-800',\n    warning: 'bg-yellow-100 text-yellow-800',\n    danger: 'bg-red-100 text-red-800',\n    info: 'bg-indigo-100 text-indigo-800'\n  };\n\n  // Size classes\n  const sizeClasses = {\n    sm: 'px-2 py-1 text-xs',\n    md: 'px-2.5 py-1.5 text-sm',\n    lg: 'px-3 py-2 text-base'\n  };\n\n  // Dot classes\n  const dotClasses = {\n    primary: 'bg-blue-400',\n    secondary: 'bg-gray-400',\n    success: 'bg-green-400',\n    warning: 'bg-yellow-400',\n    danger: 'bg-red-400',\n    info: 'bg-indigo-400'\n  };\n\n  // Combine all classes\n  const badgeClasses = [\n    ...baseClasses,\n    variantClasses[variant],\n    sizeClasses[size],\n    className\n  ].filter(Boolean).join(' ');\n\n  // Dot component\n  const DotIndicator = () => (\n    <span \n      className={`w-2 h-2 rounded-full mr-1.5 ${dotClasses[variant]}`}\n      aria-hidden=\"true\"\n    />\n  );\n\n  return (\n    <span className={badgeClasses} {...props}>\n      {dot && <DotIndicator />}\n      {children}\n    </span>\n  );\n};\n\nexport default Badge;","import React, { forwardRef } from 'react';\n\nexport interface InputProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size'> {\n  /** Input ë¼ë²¨ */\n  label?: string;\n  /** ì—ëŸ¬ ë©”ì‹œì§€ */\n  error?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ */\n  helper?: string;\n  /** ì…ë ¥ íƒ€ì… */\n  type?: 'text' | 'email' | 'password' | 'number' | 'tel' | 'url' | 'search';\n  /** í¬ê¸° variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** ì „ì²´ ë„ˆë¹„ ì‚¬ìš© ì—¬ë¶€ */\n  fullWidth?: boolean;\n  /** ì…ë ¥ ì•ìª½ ì•„ì´ì½˜ ë˜ëŠ” í…ìŠ¤íŠ¸ */\n  startAdornment?: React.ReactNode;\n  /** ì…ë ¥ ë’¤ìª½ ì•„ì´ì½˜ ë˜ëŠ” í…ìŠ¤íŠ¸ */\n  endAdornment?: React.ReactNode;\n  /** ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ ì´ë¦„ */\n  containerClassName?: string;\n  /** ë¼ë²¨ í´ë˜ìŠ¤ ì´ë¦„ */\n  labelClassName?: string;\n  /** ì—ëŸ¬ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  errorClassName?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  helperClassName?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(({\n  label,\n  error,\n  helper,\n  type = 'text',\n  size = 'md',\n  fullWidth = false,\n  startAdornment,\n  endAdornment,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  disabled = false,\n  required = false,\n  id,\n  ...props\n}, ref) => {\n  const inputId = id || `input-${Math.random().toString(36).substr(2, 9)}`;\n\n  // í¬ê¸°ë³„ í´ë˜ìŠ¤ ì •ì˜\n  const sizeClasses = {\n    sm: 'h-8 px-2 text-sm',\n    md: 'h-10 px-3 text-sm',\n    lg: 'h-12 px-4 text-base'\n  };\n\n  // ê¸°ë³¸ input í´ë˜ìŠ¤\n  const baseInputClasses = `\n    w-full\n    font-sans\n    text-gray-900\n    bg-white\n    border\n    rounded-lg\n    transition-all\n    duration-200\n    focus:outline-none\n    focus:ring-2\n    focus:ring-blue-500/20\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n    disabled:bg-gray-50\n  `;\n\n  // ìƒíƒœë³„ í…Œë‘ë¦¬ ìƒ‰ìƒ\n  const borderClasses = error\n    ? 'border-red-500 focus:border-red-500'\n    : 'border-gray-300 focus:border-blue-500 hover:border-gray-400';\n\n  // input í´ë˜ìŠ¤ ì¡°í•©\n  const inputClasses = `\n    ${baseInputClasses}\n    ${sizeClasses[size]}\n    ${borderClasses}\n    ${startAdornment ? 'pl-8' : ''}\n    ${endAdornment ? 'pr-8' : ''}\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  return (\n    <div className={`${fullWidth ? 'w-full' : 'w-auto'} ${containerClassName}`}>\n      {/* ë¼ë²¨ */}\n      {label && (\n        <label\n          htmlFor={inputId}\n          className={`\n            block\n            text-sm\n            font-medium\n            text-gray-700\n            mb-2\n            font-sans\n            ${required ? \"after:content-['*'] after:text-red-500 after:ml-1\" : ''}\n            ${disabled ? 'opacity-50' : ''}\n            ${labelClassName}\n          `.trim().replace(/\\s+/g, ' ')}\n        >\n          {label}\n        </label>\n      )}\n\n      {/* Input ì»¨í…Œì´ë„ˆ */}\n      <div className=\"relative\">\n        {/* ì‹œì‘ ì•„ì´ì½˜/í…ìŠ¤íŠ¸ */}\n        {startAdornment && (\n          <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none\">\n            {startAdornment}\n          </div>\n        )}\n\n        {/* Input ìš”ì†Œ */}\n        <input\n          ref={ref}\n          id={inputId}\n          type={type}\n          disabled={disabled}\n          required={required}\n          className={inputClasses}\n          {...props}\n        />\n\n        {/* ë ì•„ì´ì½˜/í…ìŠ¤íŠ¸ */}\n        {endAdornment && (\n          <div className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500\">\n            {endAdornment}\n          </div>\n        )}\n      </div>\n\n      {/* ì—ëŸ¬ ë©”ì‹œì§€ */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* ë„ì›€ë§ í…ìŠ¤íŠ¸ */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nInput.displayName = 'Input';\n\nexport { Input };","// Select Component for @semicolon/community-core\n\nimport React, { forwardRef, useEffect, useRef, useState, useMemo } from 'react';\n\nexport interface SelectOption<T = any> {\n  id: string | number;\n  label: string;\n  value: T;\n  icon?: string;\n  description?: string;\n  disabled?: boolean;\n}\n\nexport interface SelectProps<T = any> {\n  /** ì˜µì…˜ ëª©ë¡ */\n  options: SelectOption<T>[];\n  /** ì„ íƒëœ ê°’ */\n  value?: T;\n  /** ê°’ ë³€ê²½ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ */\n  onChange: (option: SelectOption<T>) => void;\n  /** í”Œë ˆì´ìŠ¤í™€ë” í…ìŠ¤íŠ¸ */\n  placeholder?: string;\n  /** ë¹„í™œì„±í™” ì—¬ë¶€ */\n  disabled?: boolean;\n  /** ë¼ë²¨ */\n  label?: string;\n  /** ì—ëŸ¬ ë©”ì‹œì§€ */\n  error?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ */\n  helper?: string;\n  /** í¬ê¸° variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** ì „ì²´ ë„ˆë¹„ ì‚¬ìš© ì—¬ë¶€ */\n  fullWidth?: boolean;\n  /** ë‹¤ì¤‘ ì„ íƒ ì§€ì› ì—¬ë¶€ */\n  multiple?: boolean;\n  /** ê²€ìƒ‰ ê¸°ëŠ¥ í™œì„±í™” ì—¬ë¶€ */\n  searchable?: boolean;\n  /** ê²€ìƒ‰ í”Œë ˆì´ìŠ¤í™€ë” */\n  searchPlaceholder?: string;\n  /** ì•„ì´ì½˜ í‘œì‹œ ì—¬ë¶€ */\n  showIcon?: boolean;\n  /** ì„¤ëª… í‘œì‹œ ì—¬ë¶€ */\n  showDescription?: boolean;\n  /** ë“œë¡­ë‹¤ìš´ ìµœëŒ€ ë†’ì´ */\n  maxHeight?: string;\n  /** ë¹ˆ ê²°ê³¼ ë©”ì‹œì§€ */\n  noOptionsText?: string;\n  /** ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ ì´ë¦„ */\n  className?: string;\n  /** ë“œë¡­ë‹¤ìš´ í´ë˜ìŠ¤ ì´ë¦„ */\n  dropdownClassName?: string;\n  /** ë¼ë²¨ í´ë˜ìŠ¤ ì´ë¦„ */\n  labelClassName?: string;\n  /** ì—ëŸ¬ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  errorClassName?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  helperClassName?: string;\n}\n\nconst Select = forwardRef<HTMLDivElement, SelectProps>(({\n  options,\n  value,\n  onChange,\n  placeholder = 'ì„ íƒí•´ì£¼ì„¸ìš”',\n  disabled = false,\n  label,\n  error,\n  helper,\n  size = 'md',\n  fullWidth = true,\n  multiple = false,\n  searchable = false,\n  searchPlaceholder = 'ê²€ìƒ‰...',\n  showIcon = false,\n  showDescription = false,\n  maxHeight = '240px',\n  noOptionsText = 'ì˜µì…˜ì´ ì—†ìŠµë‹ˆë‹¤',\n  className = '',\n  dropdownClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n}, ref) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const selectId = `select-${Math.random().toString(36).substr(2, 9)}`;\n\n  // ì„ íƒëœ ì˜µì…˜ ì°¾ê¸°\n  const selectedOption = useMemo(() => {\n    if (multiple) return null;\n    return options.find(option => option.value === value);\n  }, [options, value, multiple]);\n\n  // í¬ê¸°ë³„ í´ë˜ìŠ¤ ì •ì˜\n  const sizeClasses = {\n    sm: 'h-8 px-2 text-sm',\n    md: 'h-10 px-3 text-sm',\n    lg: 'h-12 px-4 text-base'\n  };\n\n  // ë“œë¡­ë‹¤ìš´ ì™¸ë¶€ í´ë¦­ ê°ì§€\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node)\n      ) {\n        setIsOpen(false);\n        setSearchTerm('');\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  const handleOptionClick = (option: SelectOption) => {\n    if (option.disabled) return;\n    onChange(option);\n    if (!multiple) {\n      setIsOpen(false);\n      setSearchTerm('');\n    }\n  };\n\n  const toggleDropdown = () => {\n    if (!disabled) {\n      setIsOpen(!isOpen);\n      setSearchTerm('');\n    }\n  };\n\n  // ê¸°ë³¸ select í´ë˜ìŠ¤\n  const baseSelectClasses = `\n    w-full\n    font-sans\n    bg-white\n    border\n    rounded-lg\n    transition-all\n    duration-200\n    focus:outline-none\n    focus:ring-2\n    focus:ring-blue-500/20\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n    disabled:bg-gray-50\n    flex\n    items-center\n    justify-between\n    cursor-pointer\n  `;\n\n  // ìƒíƒœë³„ í…Œë‘ë¦¬ ìƒ‰ìƒ\n  const borderClasses = error\n    ? 'border-red-500 focus:border-red-500'\n    : 'border-gray-300 focus:border-blue-500 hover:border-gray-400';\n\n  // select í´ë˜ìŠ¤ ì¡°í•©\n  const selectClasses = `\n    ${baseSelectClasses}\n    ${sizeClasses[size]}\n    ${borderClasses}\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  return (\n    <div\n      ref={ref}\n      className={`${fullWidth ? 'w-full' : 'w-auto'} relative`}\n    >\n      {/* ë¼ë²¨ */}\n      {label && (\n        <label\n          htmlFor={selectId}\n          className={`\n            block\n            text-sm\n            font-medium\n            text-gray-700\n            mb-2\n            font-sans\n            ${disabled ? 'opacity-50' : ''}\n            ${labelClassName}\n          `.trim().replace(/\\s+/g, ' ')}\n        >\n          {label}\n        </label>\n      )}\n\n      {/* Select ë²„íŠ¼ */}\n      <div\n        ref={dropdownRef}\n        id={selectId}\n        role=\"button\"\n        tabIndex={disabled ? -1 : 0}\n        aria-expanded={isOpen}\n        aria-haspopup=\"listbox\"\n        onClick={toggleDropdown}\n        className={selectClasses}\n      >\n        <div className=\"flex items-center gap-2 flex-1 overflow-hidden\">\n          {selectedOption ? (\n            <span className=\"truncate text-gray-900\">{selectedOption.label}</span>\n          ) : (\n            <span className=\"text-gray-500 truncate\">{placeholder}</span>\n          )}\n        </div>\n\n        {/* í™”ì‚´í‘œ ì•„ì´ì½˜ */}\n        <svg\n          className={`w-4 h-4 text-gray-400 transition-transform duration-200 flex-shrink-0 ${\n            isOpen ? 'rotate-180' : ''\n          }`}\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M19 9l-7 7-7-7\"\n          />\n        </svg>\n      </div>\n\n      {/* ë“œë¡­ë‹¤ìš´ */}\n      {isOpen && (\n        <div\n          className={`absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 overflow-hidden ${dropdownClassName}`}\n        >\n          {/* ì˜µì…˜ ëª©ë¡ */}\n          <div\n            className=\"overflow-y-auto\"\n            style={{ maxHeight }}\n            role=\"listbox\"\n          >\n            {options.length === 0 ? (\n              <div className=\"px-3 py-8 text-center text-gray-500 text-sm\">\n                {noOptionsText}\n              </div>\n            ) : (\n              options.map(option => {\n                const isSelected = option.value === value;\n\n                return (\n                  <button\n                    key={option.id}\n                    type=\"button\"\n                    role=\"option\"\n                    aria-selected={isSelected}\n                    onClick={() => handleOptionClick(option)}\n                    disabled={option.disabled}\n                    className={`\n                      w-full px-3 py-2 text-left flex items-center gap-2 text-sm cursor-pointer\n                      transition-colors duration-150\n                      ${option.disabled\n                        ? 'opacity-50 cursor-not-allowed bg-gray-50'\n                        : isSelected\n                          ? 'bg-blue-50 text-blue-600'\n                          : 'hover:bg-gray-100 text-gray-900'\n                      }\n                      border-b border-gray-100 last:border-b-0\n                    `.trim().replace(/\\s+/g, ' ')}\n                  >\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"truncate\">{option.label}</div>\n                      {showDescription && option.description && (\n                        <div className=\"text-xs text-gray-500 mt-1 truncate\">\n                          {option.description}\n                        </div>\n                      )}\n                    </div>\n                  </button>\n                );\n              })\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* ì—ëŸ¬ ë©”ì‹œì§€ */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* ë„ì›€ë§ í…ìŠ¤íŠ¸ */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nSelect.displayName = 'Select';\n\nexport { Select };","import React, { forwardRef } from 'react';\n\nexport interface CheckboxProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size' | 'onChange'> {\n  /** ì²´í¬ ìƒíƒœ */\n  checked?: boolean;\n  /** ê°’ ë³€ê²½ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ */\n  onChange?: (checked: boolean, event: React.ChangeEvent<HTMLInputElement>) => void;\n  /** ë¼ë²¨ í…ìŠ¤íŠ¸ */\n  label?: string;\n  /** ì—ëŸ¬ ë©”ì‹œì§€ */\n  error?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ */\n  helper?: string;\n  /** í¬ê¸° variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** ì¤‘ê°„ ìƒíƒœ (indeterminate) */\n  indeterminate?: boolean;\n  /** ë¼ë²¨ ìœ„ì¹˜ */\n  labelPosition?: 'left' | 'right';\n  /** ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ ì´ë¦„ */\n  containerClassName?: string;\n  /** ë¼ë²¨ í´ë˜ìŠ¤ ì´ë¦„ */\n  labelClassName?: string;\n  /** ì—ëŸ¬ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  errorClassName?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  helperClassName?: string;\n}\n\nconst Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(({\n  checked = false,\n  onChange,\n  label,\n  error,\n  helper,\n  size = 'md',\n  indeterminate = false,\n  labelPosition = 'right',\n  disabled = false,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  id,\n  ...props\n}, ref) => {\n  const checkboxId = id || `checkbox-${Math.random().toString(36).substr(2, 9)}`;\n\n  // í¬ê¸°ë³„ í´ë˜ìŠ¤ ì •ì˜\n  const sizeClasses = {\n    sm: 'w-3 h-3',\n    md: 'w-4 h-4',\n    lg: 'w-5 h-5'\n  };\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange?.(event.target.checked, event);\n  };\n\n  // ê¸°ë³¸ checkbox í´ë˜ìŠ¤\n  const baseCheckboxClasses = `\n    text-blue-600\n    bg-white\n    border-2\n    rounded\n    transition-all\n    duration-200\n    focus:outline-none\n    focus:ring-2\n    focus:ring-blue-500/20\n    focus:border-blue-500\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n    disabled:bg-gray-50\n  `;\n\n  // ìƒíƒœë³„ í…Œë‘ë¦¬ ìƒ‰ìƒ\n  const borderClasses = error\n    ? 'border-red-500'\n    : 'border-gray-300 hover:border-blue-500';\n\n  // checkbox í´ë˜ìŠ¤ ì¡°í•©\n  const checkboxClasses = `\n    ${baseCheckboxClasses}\n    ${sizeClasses[size]}\n    ${borderClasses}\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  const checkboxElement = (\n    <input\n      ref={ref}\n      id={checkboxId}\n      type=\"checkbox\"\n      checked={checked}\n      onChange={handleChange}\n      disabled={disabled}\n      className={checkboxClasses}\n      {...props}\n    />\n  );\n\n  const labelElement = label && (\n    <label\n      htmlFor={checkboxId}\n      className={`\n        text-gray-700\n        text-xs sm:text-sm\n        font-normal\n        font-sans\n        select-none\n        ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n        ${labelClassName}\n      `.trim().replace(/\\s+/g, ' ')}\n    >\n      {label}\n    </label>\n  );\n\n  return (\n    <div className={containerClassName}>\n      {/* Checkboxì™€ ë¼ë²¨ */}\n      <div className={`flex items-center gap-2 ${labelPosition === 'left' ? 'flex-row-reverse' : ''}`}>\n        {checkboxElement}\n        {labelElement}\n      </div>\n\n      {/* ì—ëŸ¬ ë©”ì‹œì§€ */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* ë„ì›€ë§ í…ìŠ¤íŠ¸ */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nCheckbox.displayName = 'Checkbox';\n\nexport { Checkbox };","import React, { forwardRef } from 'react';\n\nexport interface RadioProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size' | 'onChange'> {\n  /** ì²´í¬ ìƒíƒœ */\n  checked?: boolean;\n  /** ê°’ ë³€ê²½ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ */\n  onChange?: (value: string, event: React.ChangeEvent<HTMLInputElement>) => void;\n  /** Radio ê·¸ë£¹ëª… */\n  name: string;\n  /** Radio ê°’ */\n  value: string;\n  /** ë¼ë²¨ í…ìŠ¤íŠ¸ */\n  label?: string;\n  /** ì—ëŸ¬ ë©”ì‹œì§€ */\n  error?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ */\n  helper?: string;\n  /** í¬ê¸° variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** ë¼ë²¨ ìœ„ì¹˜ */\n  labelPosition?: 'left' | 'right';\n  /** ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ ì´ë¦„ */\n  containerClassName?: string;\n  /** ë¼ë²¨ í´ë˜ìŠ¤ ì´ë¦„ */\n  labelClassName?: string;\n  /** ì—ëŸ¬ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  errorClassName?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  helperClassName?: string;\n  /** ìì‹ ìš”ì†Œ (ë¼ë²¨ ëŒ€ì‹  ì‚¬ìš©) */\n  children?: React.ReactNode;\n}\n\nconst Radio = forwardRef<HTMLInputElement, RadioProps>(({\n  checked = false,\n  onChange,\n  name,\n  value,\n  label,\n  error,\n  helper,\n  size = 'md',\n  labelPosition = 'right',\n  disabled = false,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  children,\n  id,\n  ...props\n}, ref) => {\n  const radioId = id || `radio-${Math.random().toString(36).substr(2, 9)}`;\n\n  // í¬ê¸°ë³„ í´ë˜ìŠ¤ ì •ì˜\n  const sizeClasses = {\n    sm: 'w-3 h-3',\n    md: 'w-4 h-4',\n    lg: 'w-5 h-5'\n  };\n\n  const dotSizeClasses = {\n    sm: 'w-1.5 h-1.5',\n    md: 'w-2.5 h-2.5',\n    lg: 'w-3 h-3'\n  };\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange?.(event.target.value, event);\n  };\n\n  // ë¼ë²¨ í…ìŠ¤íŠ¸ ê²°ì •\n  const labelText = children || label;\n\n  const radioElement = (\n    <div className=\"relative inline-flex items-center\">\n      <input\n        ref={ref}\n        id={radioId}\n        type=\"radio\"\n        name={name}\n        value={value}\n        checked={checked}\n        onChange={handleChange}\n        disabled={disabled}\n        className=\"sr-only\"\n        {...props}\n      />\n      <span\n        className={`\n          flex-shrink-0 rounded-full flex items-center justify-center\n          border-2 transition-all duration-200\n          ${sizeClasses[size]}\n          ${checked\n            ? error\n              ? 'border-red-500 bg-red-500'\n              : 'border-blue-600 bg-blue-600'\n            : error\n              ? 'border-red-500'\n              : 'border-gray-300 hover:border-blue-600'\n          }\n          ${disabled\n            ? 'opacity-50 cursor-not-allowed'\n            : 'cursor-pointer'\n          }\n          ${className}\n        `.trim().replace(/\\s+/g, ' ')}\n      >\n        <span\n          className={`\n            rounded-full transition-all duration-200 bg-white\n            ${dotSizeClasses[size]}\n            ${checked ? 'opacity-100 scale-100' : 'opacity-0 scale-50'}\n          `.trim().replace(/\\s+/g, ' ')}\n        />\n      </span>\n    </div>\n  );\n\n  const labelElement = labelText && (\n    <label\n      htmlFor={radioId}\n      className={`\n        text-gray-700\n        text-xs sm:text-sm\n        font-normal\n        font-sans\n        whitespace-nowrap\n        select-none\n        ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n        ${labelClassName}\n      `.trim().replace(/\\s+/g, ' ')}\n    >\n      {labelText}\n    </label>\n  );\n\n  return (\n    <div className={containerClassName}>\n      {/* Radioì™€ ë¼ë²¨ */}\n      <div className={`inline-flex items-center gap-2 ${labelPosition === 'left' ? 'flex-row-reverse' : ''}`}>\n        {radioElement}\n        {labelElement}\n      </div>\n\n      {/* ì—ëŸ¬ ë©”ì‹œì§€ */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* ë„ì›€ë§ í…ìŠ¤íŠ¸ */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nRadio.displayName = 'Radio';\n\nexport { Radio };","import React, { forwardRef } from 'react';\n\nexport interface SwitchProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size' | 'onChange'> {\n  /** í™œì„±í™” ìƒíƒœ */\n  checked?: boolean;\n  /** ê°’ ë³€ê²½ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ */\n  onChange?: (checked: boolean, event: React.ChangeEvent<HTMLInputElement>) => void;\n  /** ë¼ë²¨ í…ìŠ¤íŠ¸ */\n  label?: string;\n  /** ì—ëŸ¬ ë©”ì‹œì§€ */\n  error?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ */\n  helper?: string;\n  /** í¬ê¸° variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** ë¼ë²¨ ìœ„ì¹˜ */\n  labelPosition?: 'left' | 'right';\n  /** í™œì„±í™” ì‹œ í‘œì‹œí•  í…ìŠ¤íŠ¸ */\n  onText?: string;\n  /** ë¹„í™œì„±í™” ì‹œ í‘œì‹œí•  í…ìŠ¤íŠ¸ */\n  offText?: string;\n  /** ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ ì´ë¦„ */\n  containerClassName?: string;\n  /** ë¼ë²¨ í´ë˜ìŠ¤ ì´ë¦„ */\n  labelClassName?: string;\n  /** ì—ëŸ¬ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  errorClassName?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  helperClassName?: string;\n}\n\nconst Switch = forwardRef<HTMLInputElement, SwitchProps>(({\n  checked = false,\n  onChange,\n  label,\n  error,\n  helper,\n  size = 'md',\n  labelPosition = 'right',\n  onText,\n  offText,\n  disabled = false,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  id,\n  ...props\n}, ref) => {\n  const switchId = id || `switch-${Math.random().toString(36).substr(2, 9)}`;\n\n  // í¬ê¸°ë³„ í´ë˜ìŠ¤ ì •ì˜\n  const sizeClasses = {\n    sm: {\n      track: 'w-8 h-4',\n      thumb: 'w-3 h-3',\n      translate: 'translate-x-4',\n      text: 'text-xs px-1'\n    },\n    md: {\n      track: 'w-10 h-5',\n      thumb: 'w-4 h-4',\n      translate: 'translate-x-5',\n      text: 'text-xs px-1.5'\n    },\n    lg: {\n      track: 'w-12 h-6',\n      thumb: 'w-5 h-5',\n      translate: 'translate-x-6',\n      text: 'text-sm px-2'\n    }\n  };\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange?.(event.target.checked, event);\n  };\n\n  const currentSize = sizeClasses[size];\n\n  // track í´ë˜ìŠ¤\n  const trackClasses = `\n    relative inline-flex items-center\n    ${currentSize.track}\n    rounded-full\n    transition-colors duration-200 ease-in-out\n    focus-within:outline-none\n    focus-within:ring-2\n    focus-within:ring-blue-500/20\n    ${checked\n      ? error\n        ? 'bg-red-500'\n        : 'bg-blue-600'\n      : error\n        ? 'bg-red-200'\n        : 'bg-gray-300'\n    }\n    ${disabled\n      ? 'opacity-50 cursor-not-allowed'\n      : 'cursor-pointer'\n    }\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  // thumb í´ë˜ìŠ¤\n  const thumbClasses = `\n    inline-block\n    ${currentSize.thumb}\n    bg-white\n    rounded-full\n    shadow\n    transform\n    transition-transform duration-200 ease-in-out\n    ${checked ? currentSize.translate : 'translate-x-0.5'}\n  `.trim().replace(/\\s+/g, ' ');\n\n  const switchElement = (\n    <div className=\"relative inline-flex\">\n      <input\n        ref={ref}\n        id={switchId}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={handleChange}\n        disabled={disabled}\n        className=\"sr-only\"\n        {...props}\n      />\n      <label\n        htmlFor={switchId}\n        className={trackClasses}\n      >\n        {/* ìƒíƒœ í…ìŠ¤íŠ¸ (ì„ íƒì‚¬í•­) */}\n        {(onText || offText) && (\n          <span className={`\n            absolute inset-0 flex items-center justify-center\n            font-sans font-medium text-white\n            ${currentSize.text}\n            pointer-events-none\n          `}>\n            {checked ? onText : offText}\n          </span>\n        )}\n\n        {/* Thumb */}\n        <span className={thumbClasses} />\n      </label>\n    </div>\n  );\n\n  const labelElement = label && (\n    <label\n      htmlFor={switchId}\n      className={`\n        text-gray-700\n        text-xs sm:text-sm\n        font-normal\n        font-sans\n        select-none\n        ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n        ${labelClassName}\n      `.trim().replace(/\\s+/g, ' ')}\n    >\n      {label}\n    </label>\n  );\n\n  return (\n    <div className={containerClassName}>\n      {/* Switchì™€ ë¼ë²¨ */}\n      <div className={`inline-flex items-center gap-3 ${labelPosition === 'left' ? 'flex-row-reverse' : ''}`}>\n        {switchElement}\n        {labelElement}\n      </div>\n\n      {/* ì—ëŸ¬ ë©”ì‹œì§€ */}\n      {error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-red-500\n          font-sans\n          ${errorClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {error}\n        </p>\n      )}\n\n      {/* ë„ì›€ë§ í…ìŠ¤íŠ¸ */}\n      {helper && !error && (\n        <p className={`\n          mt-2\n          text-sm\n          text-gray-500\n          font-sans\n          ${helperClassName}\n        `.trim().replace(/\\s+/g, ' ')}>\n          {helper}\n        </p>\n      )}\n    </div>\n  );\n});\n\nSwitch.displayName = 'Switch';\n\nexport { Switch };","import React, { forwardRef, useState, useCallback } from 'react';\n\nexport interface TextAreaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  /** TextArea ë¼ë²¨ */\n  label?: string;\n  /** ì—ëŸ¬ ë©”ì‹œì§€ */\n  error?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ */\n  helper?: string;\n  /** í¬ê¸° variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** ì „ì²´ ë„ˆë¹„ ì‚¬ìš© ì—¬ë¶€ */\n  fullWidth?: boolean;\n  /** ìë™ ë¦¬ì‚¬ì´ì§• í™œì„±í™” */\n  autoResize?: boolean;\n  /** ìµœì†Œ ë†’ì´ */\n  minHeight?: number;\n  /** ìµœëŒ€ ë†’ì´ */\n  maxHeight?: number;\n  /** ê¸€ì ìˆ˜ ì œí•œ */\n  maxLength?: number;\n  /** ê¸€ì ìˆ˜ í‘œì‹œ ì—¬ë¶€ */\n  showCount?: boolean;\n  /** ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ ì´ë¦„ */\n  containerClassName?: string;\n  /** ë¼ë²¨ í´ë˜ìŠ¤ ì´ë¦„ */\n  labelClassName?: string;\n  /** ì—ëŸ¬ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  errorClassName?: string;\n  /** ë„ì›€ë§ í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ì´ë¦„ */\n  helperClassName?: string;\n  /** ê¸€ì ìˆ˜ ì¹´ìš´í„° í´ë˜ìŠ¤ ì´ë¦„ */\n  countClassName?: string;\n}\n\nconst TextArea = forwardRef<HTMLTextAreaElement, TextAreaProps>(({\n  label,\n  error,\n  helper,\n  size = 'md',\n  fullWidth = false,\n  autoResize = false,\n  minHeight = 80,\n  maxHeight = 300,\n  maxLength,\n  showCount = false,\n  disabled = false,\n  required = false,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  errorClassName = '',\n  helperClassName = '',\n  countClassName = '',\n  value,\n  onChange,\n  id,\n  ...props\n}, ref) => {\n  const textareaId = id || `textarea-${Math.random().toString(36).substr(2, 9)}`;\n  const [textareaHeight, setTextareaHeight] = useState<number>(minHeight);\n\n  // í¬ê¸°ë³„ í´ë˜ìŠ¤ ì •ì˜\n  const sizeClasses = {\n    sm: 'px-2 py-1.5 text-sm',\n    md: 'px-3 py-2 text-sm',\n    lg: 'px-4 py-3 text-base'\n  };\n\n  // ìë™ ë¦¬ì‚¬ì´ì§• í•¸ë“¤ëŸ¬\n  const handleAutoResize = useCallback((element: HTMLTextAreaElement) => {\n    if (!autoResize) return;\n\n    // ë†’ì´ ì´ˆê¸°í™”\n    element.style.height = 'auto';\n\n    // ìŠ¤í¬ë¡¤ ë†’ì´ ê³„ì‚°\n    const scrollHeight = element.scrollHeight;\n    const newHeight = Math.min(Math.max(scrollHeight, minHeight), maxHeight);\n\n    setTextareaHeight(newHeight);\n    element.style.height = `${newHeight}px`;\n  }, [autoResize, minHeight, maxHeight]);\n\n  // ê°’ ë³€ê²½ í•¸ë“¤ëŸ¬\n  const handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    // ìµœëŒ€ ê¸¸ì´ ì²´í¬\n    if (maxLength && event.target.value.length > maxLength) {\n      return;\n    }\n\n    onChange?.(event);\n\n    // ìë™ ë¦¬ì‚¬ì´ì§•\n    if (autoResize) {\n      handleAutoResize(event.target);\n    }\n  };\n\n  // ê¸°ë³¸ textarea í´ë˜ìŠ¤\n  const baseTextareaClasses = `\n    w-full\n    font-sans\n    text-gray-900\n    bg-white\n    border\n    rounded-lg\n    transition-all\n    duration-200\n    focus:outline-none\n    focus:ring-2\n    focus:ring-blue-500/20\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n    disabled:bg-gray-50\n    resize-none\n  `;\n\n  // ìƒíƒœë³„ í…Œë‘ë¦¬ ìƒ‰ìƒ\n  const borderClasses = error\n    ? 'border-red-500 focus:border-red-500'\n    : 'border-gray-300 focus:border-blue-500 hover:border-gray-400';\n\n  // textarea í´ë˜ìŠ¤ ì¡°í•©\n  const textareaClasses = `\n    ${baseTextareaClasses}\n    ${sizeClasses[size]}\n    ${borderClasses}\n    ${autoResize ? 'resize-none' : 'resize-y'}\n    ${className}\n  `.trim().replace(/\\s+/g, ' ');\n\n  // í˜„ì¬ ê¸€ì ìˆ˜ ê³„ì‚°\n  const currentLength = typeof value === 'string' ? value.length : 0;\n  const isOverLimit = maxLength ? currentLength > maxLength : false;\n\n  return (\n    <div className={`${fullWidth ? 'w-full' : 'w-auto'} ${containerClassName}`}>\n      {/* ë¼ë²¨ ë° ê¸€ì ìˆ˜ í‘œì‹œ */}\n      <div className=\"flex justify-between items-center mb-2\">\n        {/* ë¼ë²¨ */}\n        {label && (\n          <label\n            htmlFor={textareaId}\n            className={`\n              block\n              text-sm\n              font-medium\n              text-gray-700\n              font-sans\n              ${required ? \"after:content-['*'] after:text-red-500 after:ml-1\" : ''}\n              ${disabled ? 'opacity-50' : ''}\n              ${labelClassName}\n            `.trim().replace(/\\s+/g, ' ')}\n          >\n            {label}\n          </label>\n        )}\n\n        {/* ê¸€ì ìˆ˜ í‘œì‹œ */}\n        {showCount && (maxLength || currentLength > 0) && (\n          <span className={`\n            text-sm\n            font-sans\n            ${isOverLimit\n              ? 'text-red-500'\n              : currentLength / (maxLength || 100) > 0.8\n                ? 'text-orange-500'\n                : 'text-gray-500'\n            }\n            ${countClassName}\n          `.trim().replace(/\\s+/g, ' ')}>\n            {currentLength}{maxLength && `/${maxLength}`}\n          </span>\n        )}\n      </div>\n\n      {/* TextArea ìš”ì†Œ */}\n      <textarea\n        ref={ref}\n        id={textareaId}\n        value={value}\n        onChange={handleChange}\n        disabled={disabled}\n        required={required}\n        maxLength={maxLength}\n        className={textareaClasses}\n        style={autoResize ? { height: textareaHeight, minHeight, maxHeight } : { minHeight }}\n        {...props}\n      />\n\n      {/* í•˜ë‹¨ ë©”ì‹œì§€ ì˜ì—­ */}\n      <div className=\"flex justify-between items-start mt-2\">\n        {/* ì—ëŸ¬ ë©”ì‹œì§€ ë˜ëŠ” ë„ì›€ë§ í…ìŠ¤íŠ¸ */}\n        <div className=\"flex-1\">\n          {error && (\n            <p className={`\n              text-sm\n              text-red-500\n              font-sans\n              ${errorClassName}\n            `.trim().replace(/\\s+/g, ' ')}>\n              {error}\n            </p>\n          )}\n\n          {helper && !error && (\n            <p className={`\n              text-sm\n              text-gray-500\n              font-sans\n              ${helperClassName}\n            `.trim().replace(/\\s+/g, ' ')}>\n              {helper}\n            </p>\n          )}\n        </div>\n\n        {/* í•˜ë‹¨ ê¸€ì ìˆ˜ í‘œì‹œ (ìƒë‹¨ì— ì—†ì„ ë•Œë§Œ) */}\n        {showCount && !label && (maxLength || currentLength > 0) && (\n          <span className={`\n            text-sm\n            font-sans\n            ml-2\n            flex-shrink-0\n            ${isOverLimit\n              ? 'text-red-500'\n              : currentLength / (maxLength || 100) > 0.8\n                ? 'text-orange-500'\n                : 'text-gray-500'\n            }\n            ${countClassName}\n          `.trim().replace(/\\s+/g, ' ')}>\n            {currentLength}{maxLength && `/${maxLength}`}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n});\n\nTextArea.displayName = 'TextArea';\n\nexport { TextArea };","'use client';\n\nimport React from 'react';\n\nexport interface SkeletonProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** ìŠ¤ì¼ˆë ˆí†¤ ì¢…ë¥˜ */\n  variant?: 'rectangular' | 'circular' | 'rounded' | 'text';\n  /** ë„ˆë¹„ (CSS ë‹¨ìœ„) */\n  width?: string | number;\n  /** ë†’ì´ (CSS ë‹¨ìœ„) */\n  height?: string | number;\n  /** ì• ë‹ˆë©”ì´ì…˜ ì‚¬ìš© ì—¬ë¶€ */\n  animated?: boolean;\n  /** ë°ì€ í…Œë§ˆ ì‚¬ìš© ì—¬ë¶€ */\n  light?: boolean;\n}\n\nfunction Skeleton({\n  variant = 'rectangular',\n  width,\n  height,\n  animated = true,\n  light = false,\n  className = '',\n  style,\n  ...props\n}: SkeletonProps) {\n  // variantë³„ ê¸°ë³¸ ìŠ¤íƒ€ì¼\n  const variantClasses = {\n    rectangular: 'rounded-md',\n    circular: 'rounded-full',\n    rounded: 'rounded-lg',\n    text: 'rounded-sm'\n  };\n\n  // ê¸°ë³¸ í¬ê¸° ì„¤ì • (variantë³„)\n  const getDefaultStyles = (variant: string): React.CSSProperties => {\n    switch (variant) {\n      case 'rectangular':\n        return { width: width || '100%', height: height || '1.2rem' };\n      case 'circular':\n        return { width: width || '2.5rem', height: height || width || '2.5rem' };\n      case 'rounded':\n        return { width: width || '100%', height: height || '1.5rem' };\n      case 'text':\n        return { width: width || '100%', height: height || '1rem' };\n      default:\n        return { width: width || '100%', height: height || '1.2rem' };\n    }\n  };\n\n  // ë°°ê²½ìƒ‰ (ë¼ì´íŠ¸/ë‹¤í¬)\n  const backgroundClass = light \n    ? 'bg-gray-100'\n    : 'bg-gray-200 dark:bg-gray-700';\n\n  // ìŠ¤íƒ€ì¼ ì¡°í•©\n  const combinedStyle: React.CSSProperties = {\n    ...getDefaultStyles(variant),\n    ...style\n  };\n\n  return (\n    <div\n      className={`\n        ${backgroundClass}\n        ${variantClasses[variant]}\n        ${animated ? 'animate-pulse' : ''}\n        ${className}\n      `.trim().replace(/\\s+/g, ' ')}\n      style={combinedStyle}\n      {...props}\n    />\n  );\n}\n\n// ë¯¸ë¦¬ ì •ì˜ëœ ìŠ¤ì¼ˆë ˆí†¤ ì»´í¬ë„ŒíŠ¸ë“¤\nconst SkeletonText = ({ lines = 3, className = '', ...props }: { lines?: number } & SkeletonProps) => (\n  <div className={`space-y-2 ${className}`} {...props}>\n    {Array.from({ length: lines }).map((_, index) => (\n      <Skeleton \n        key={index} \n        variant=\"text\" \n        width={index === lines - 1 ? '75%' : '100%'}\n        height=\"0.875rem\"\n      />\n    ))}\n  </div>\n);\n\nconst SkeletonAvatar = ({ size = 'md', ...props }: { size?: 'sm' | 'md' | 'lg' | 'xl' } & SkeletonProps) => {\n  const sizes = {\n    sm: '2rem',\n    md: '2.5rem',\n    lg: '3rem',\n    xl: '4rem'\n  };\n\n  return (\n    <Skeleton \n      variant=\"circular\" \n      width={sizes[size]} \n      height={sizes[size]}\n      {...props}\n    />\n  );\n};\n\nconst SkeletonButton = ({ variant: buttonVariant = 'md', ...props }: { variant?: 'sm' | 'md' | 'lg' } & SkeletonProps) => {\n  const getButtonSize = (size: string) => {\n    switch (size) {\n      case 'sm':\n        return { width: '4rem', height: '2rem' };\n      case 'lg':\n        return { width: '8rem', height: '3rem' };\n      default:\n        return { width: '6rem', height: '2.5rem' };\n    }\n  };\n\n  const buttonSize = getButtonSize(buttonVariant);\n\n  return (\n    <Skeleton \n      variant=\"rounded\"\n      width={buttonSize.width}\n      height={buttonSize.height}\n      {...props}\n    />\n  );\n};\n\nconst SkeletonCard = ({ ...props }: SkeletonProps) => (\n  <div className=\"p-4 border border-gray-200 rounded-lg space-y-4\" {...props}>\n    <div className=\"flex items-center space-x-3\">\n      <SkeletonAvatar size=\"md\" />\n      <div className=\"flex-1 space-y-2\">\n        <Skeleton variant=\"text\" width=\"60%\" />\n        <Skeleton variant=\"text\" width=\"40%\" />\n      </div>\n    </div>\n    <SkeletonText lines={3} />\n    <div className=\"flex space-x-2\">\n      <SkeletonButton variant=\"sm\" />\n      <SkeletonButton variant=\"sm\" />\n    </div>\n  </div>\n);\n\nexport { \n  Skeleton,\n  SkeletonText,\n  SkeletonAvatar,\n  SkeletonButton,\n  SkeletonCard\n}; \n","// import useAuthStore from \"@stores/AuthStore\";\nimport axios, { InternalAxiosRequestConfig } from 'axios';\n\nconst baseURL = process.env.NEXT_PUBLIC_API_URL;\n\n// axios ì„¤ì • íƒ€ì… í™•ì¥\ninterface CustomAxiosRequestConfig extends InternalAxiosRequestConfig {\n  metadata?: {\n    skipLoader?: boolean;\n    loaderText?: string;\n    useMiniLoader?: boolean; // ì‘ì€ ë¡œë” ì‚¬ìš© ì—¬ë¶€\n  };\n}\n\n// í† í°ì€ ì‹œíì–´ ì¿ í‚¤ì— ì €ì¥ë˜ì–´ìˆë‹¤ê³  ê°€ì •í•˜ì—¬ withCredentials ì˜µì…˜ì„ ì¶”ê°€í•¨\nexport const axiosInstance = axios.create({\n  baseURL,\n  timeout: 60 * 60 * 1000,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n  },\n  withCredentials: true,\n});\n\n// API ë¡œë”© ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•œ ê¸€ë¡œë²Œ í•¨ìˆ˜ë“¤\nlet globalShowLoader: ((text?: string) => void) | null = null;\nlet globalHideLoader: (() => void) | null = null;\nlet globalSetLoaderText: ((text: string) => void) | null = null;\nlet globalShowMiniLoader: ((text?: string) => void) | null = null;\nlet globalHideMiniLoader: (() => void) | null = null;\nlet globalSetMiniLoaderText: ((text: string) => void) | null = null;\nlet activeRequestsCount = 0;\nlet activeMiniRequestsCount = 0;\n\n// ë¡œë” í•¨ìˆ˜ë“¤ì„ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ (í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ í˜¸ì¶œ)\nexport const setGlobalLoaderFunctions = (\n  showLoader: (text?: string) => void,\n  hideLoader: () => void,\n  setLoaderText: (text: string) => void,\n  showMiniLoader?: (text?: string) => void,\n  hideMiniLoader?: () => void,\n  setMiniLoaderText?: (text: string) => void\n) => {\n  globalShowLoader = showLoader;\n  globalHideLoader = hideLoader;\n  globalSetLoaderText = setLoaderText;\n  globalShowMiniLoader = showMiniLoader || null;\n  globalHideMiniLoader = hideMiniLoader || null;\n  globalSetMiniLoaderText = setMiniLoaderText || null;\n};\n\n// ìš”ì²­ ì¸í„°ì…‰í„° ì¶”ê°€ - FormData ê°ì§€ ë° ë¡œë” í‘œì‹œ + Authorization í—¤ë” ì¶”ê°€\naxiosInstance.interceptors.request.use(async (config: CustomAxiosRequestConfig) => {\n  // API ë¡œë” ë¹„í™œì„±í™” ì˜µì…˜ì´ ì—†ëŠ” ê²½ìš°ì—ë§Œ ë¡œë” í‘œì‹œ\n  if (!config.metadata?.skipLoader) {\n    const useMiniLoader = config.metadata?.useMiniLoader;\n    const loaderText = config.metadata?.loaderText || (useMiniLoader ? 'ì²˜ë¦¬ì¤‘...' : 'ìš”ì²­ì¤‘ì…ë‹ˆë‹¤..');\n    \n    if (useMiniLoader && globalShowMiniLoader) {\n      // ì‘ì€ ë¡œë” ì‚¬ìš©\n      if (activeMiniRequestsCount === 0) {\n        globalShowMiniLoader(loaderText);\n      }\n      activeMiniRequestsCount++;\n    } else if (!useMiniLoader && globalShowLoader) {\n      // ì „ì²´ í™”ë©´ ë¡œë” ì‚¬ìš©\n      if (activeRequestsCount === 0) {\n        globalShowLoader(loaderText);\n      }\n      activeRequestsCount++;\n    }\n  }\n\n  // FormDataì¸ ê²½ìš° Content-Type í—¤ë”ë¥¼ ì‚­ì œí•˜ì—¬ ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì„¤ì •í•˜ë„ë¡ í•¨\n  if (config.data instanceof FormData) {\n    if (config.headers) {\n      delete config.headers['Content-Type'];\n    }\n  }\n\n  // í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ í† í° ìœ íš¨ì„± ê²€ì¦ í›„ Authorization í—¤ë”ì— ì¶”ê°€\n  if (typeof window !== 'undefined') {\n    try {\n      // ì¿ í‚¤ì—ì„œ ì„¸ì…˜ ì •ë³´ ì½ê¸°\n      const sessionCookie = document.cookie\n        .split('; ')\n        .find(row => row.startsWith('sb-access-token='))\n        ?.split('=')[1];\n\n      if (sessionCookie) {\n        // URL ë””ì½”ë”© í›„ JSON íŒŒì‹±\n        const decodedSession = decodeURIComponent(sessionCookie);\n        const sessionData = JSON.parse(decodedSession);\n\n        // access_token ì¶”ì¶œ\n        const accessToken = sessionData?.access_token;\n\n        if (accessToken) {\n          // í† í° ë§Œë£Œ ê²€ì¦ (ë™ì  importë¡œ ìˆœí™˜ ì°¸ì¡° ë°©ì§€)\n          const { decodeJWTPayload, isTokenExpired, removeExpiredTokenFromCookie } = await import('../utils/jwtUtil');\n          const payload = decodeJWTPayload(accessToken);\n          \n          if (payload && !isTokenExpired(payload)) {\n            // ìœ íš¨í•œ í† í°ì¸ ê²½ìš°ì—ë§Œ í—¤ë” ì„¤ì •\n            if (config.headers) {\n              config.headers.Authorization = `Bearer ${accessToken}`;\n            }\n          } else {\n            // ë§Œë£Œë˜ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šì€ í† í° ì œê±°\n            console.log('ğŸ—‘ï¸ axios ì¸í„°ì…‰í„°: ë§Œë£Œëœ í† í° ê°ì§€, ì¿ í‚¤ì—ì„œ ì œê±°');\n            removeExpiredTokenFromCookie();\n          }\n        }\n      }\n    } catch (error) {\n      // ì—ëŸ¬ ë°œìƒ ì‹œ ë§Œë£Œëœ í† í° ì •ë¦¬ (ì•ˆì „ì¥ì¹˜)\n      try {\n        const { removeExpiredTokenFromCookie } = await import('../utils/jwtUtil');\n        removeExpiredTokenFromCookie();\n      } catch (importError) {\n        console.error('JWT ìœ í‹¸ë¦¬í‹° import ì‹¤íŒ¨:', importError);\n      }\n    }\n  }\n\n  return config;\n});\n\n// ì‘ë‹µ ì¸í„°ì…‰í„° - ë¡œë” ìˆ¨ê¹€ ë° ì—ëŸ¬ ì²˜ë¦¬\naxiosInstance.interceptors.response.use(\n  async response => {\n    // ë¡œë” ì¹´ìš´íŠ¸ ê°ì†Œ ë° ìˆ¨ê¹€\n    const config = response.config as CustomAxiosRequestConfig;\n    if (!config.metadata?.skipLoader) {\n      const useMiniLoader = config.metadata?.useMiniLoader;\n      \n      if (useMiniLoader && globalHideMiniLoader) {\n        // ì‘ì€ ë¡œë” ìˆ¨ê¹€\n        activeMiniRequestsCount = Math.max(0, activeMiniRequestsCount - 1);\n        if (activeMiniRequestsCount === 0) {\n          globalHideMiniLoader();\n        }\n      } else if (!useMiniLoader && globalHideLoader) {\n        // ì „ì²´ í™”ë©´ ë¡œë” ìˆ¨ê¹€\n        activeRequestsCount = Math.max(0, activeRequestsCount - 1);\n        if (activeRequestsCount === 0) {\n          globalHideLoader();\n        }\n      }\n    }\n\n    // ì‘ë‹µ ì„±ê³µì´ì§€ë§Œ ì¸ì¦ ê´€ë ¨ ì—ëŸ¬ì¸ ê²½ìš° ì²´í¬ (successOrNot: \"N\"ì¸ ê²½ìš°)\n    if (response.data?.successOrNot === 'N') {\n      const statusCode = response.data?.statusCode;\n      const errorMessage = response.data?.message || response.data?.data;\n\n      // ì„œë²„ì—ì„œ ëª…í™•í•œ ì¸ì¦ ê´€ë ¨ ì—ëŸ¬ë¥¼ ë°˜í™˜í•œ ê²½ìš°ë§Œ ì²˜ë¦¬\n      if (\n        statusCode === 'FORBIDDEN' &&\n        typeof errorMessage === 'string' &&\n        (errorMessage.includes('í•´ë‹¹ ê²Œì‹œê¸€ì— ì ‘ê·¼í•˜ë ¤ë©´ ë¡œê·¸ì¸ì´ í•„ìš”') ||\n          errorMessage.includes('ë¡œê·¸ì¸ì´ í•„ìš”í•œ ê²Œì‹œê¸€') ||\n          errorMessage.includes('ë¡œê·¸ì¸ì´ í•„ìš”í•œ ê²Œì‹œíŒ'))\n      ) {\n        // ì‹¤ì œ ì„¸ì…˜ ìƒíƒœë¥¼ í™•ì¸ í›„ ì´ë²¤íŠ¸ ë°œìƒ\n        const { clientSupabase } = await import('./Supabase/client');\n        const {\n          data: { session },\n        } = await clientSupabase.auth.getSession();\n\n        if (!session || !session.access_token) {\n          // ì„¸ì…˜ì´ ì •ë§ ì—†ëŠ” ê²½ìš°ì—ë§Œ ì´ë²¤íŠ¸ ë°œìƒ\n          const event = new CustomEvent('auth-error', {\n            detail: {\n              type: 'AUTH_REQUIRED',\n              message: errorMessage,\n            },\n          });\n          window.dispatchEvent(event);\n        }\n      }\n    }\n\n    return response;\n  },\n  async error => {\n    // ì—ëŸ¬ ì‹œì—ë„ ë¡œë” ìˆ¨ê¹€\n    const config = error.config as CustomAxiosRequestConfig;\n    if (!config?.metadata?.skipLoader) {\n      const useMiniLoader = config?.metadata?.useMiniLoader;\n      \n      if (useMiniLoader && globalHideMiniLoader) {\n        // ì‘ì€ ë¡œë” ìˆ¨ê¹€\n        activeMiniRequestsCount = Math.max(0, activeMiniRequestsCount - 1);\n        if (activeMiniRequestsCount === 0) {\n          globalHideMiniLoader();\n        }\n      } else if (!useMiniLoader && globalHideLoader) {\n        // ì „ì²´ í™”ë©´ ë¡œë” ìˆ¨ê¹€\n        activeRequestsCount = Math.max(0, activeRequestsCount - 1);\n        if (activeRequestsCount === 0) {\n          globalHideLoader();\n        }\n      }\n    }\n\n    // 401/403 ì—ëŸ¬ ì‹œ í† í° ê°±ì‹  í›„ ì¬ìš”ì²­ ì‹œë„\n    if (\n      (error.response?.status === 401 || error.response?.status === 403) &&\n      !error.config._retried\n    ) {\n      try {\n        console.log('ğŸ”„ axios: 401/403 ì—ëŸ¬ ê°ì§€, í† í° ê°±ì‹  ì‹œë„');\n\n        // í´ë¼ì´ì–¸íŠ¸ ìˆ˜íŒŒë² ì´ìŠ¤ ì„¸ì…˜ í™•ì¸ ë° ê°±ì‹ \n        const { clientSupabase } = await import('./Supabase/client');\n        const {\n          data: { session },\n          error: sessionError,\n        } = await clientSupabase.auth.getSession();\n\n        if (sessionError || !session) {\n          console.error('âŒ axios: ì„¸ì…˜ í™•ì¸ ì‹¤íŒ¨ ë˜ëŠ” ì„¸ì…˜ ì—†ìŒ');\n          throw new Error('ì„¸ì…˜ì´ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');\n        }\n\n        // í† í° ê°±ì‹  ì‹œë„\n        const { data: refreshData, error: refreshError } =\n          await clientSupabase.auth.refreshSession();\n\n        if (refreshError || !refreshData.session) {\n          console.error('âŒ axios: í† í° ê°±ì‹  ì‹¤íŒ¨');\n          throw new Error('í† í° ê°±ì‹ ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n        }\n\n        console.log('âœ… axios: í† í° ê°±ì‹  ì„±ê³µ');\n\n        // ê°±ì‹ ëœ í† í°ìœ¼ë¡œ ì›ë˜ ìš”ì²­ ì¬ì‹œë„\n        const originalConfig = error.config;\n        originalConfig._retried = true; // ë¬´í•œ ë£¨í”„ ë°©ì§€\n        originalConfig.headers.Authorization = `Bearer ${refreshData.session.access_token}`;\n\n        console.log('ğŸ”„ axios: ê°±ì‹ ëœ í† í°ìœ¼ë¡œ ìš”ì²­ ì¬ì‹œë„');\n        return axiosInstance(originalConfig);\n      } catch (refreshError) {\n        console.error('âŒ axios: í† í° ê°±ì‹  ê³¼ì •ì—ì„œ ì˜¤ë¥˜:', refreshError);\n\n        // ê°±ì‹  ì‹¤íŒ¨ ì‹œ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬\n        const { clientSupabase } = await import('./Supabase/client');\n        await clientSupabase.auth.signOut();\n\n        const event = new CustomEvent('auth-error', {\n          detail: { type: 'TOKEN_INVALID' },\n        });\n        window.dispatchEvent(event);\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n// ë¡œë” í…ìŠ¤íŠ¸ë¥¼ ë™ì ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜\nexport const setApiLoaderText = (text: string) => {\n  if (globalSetLoaderText) {\n    globalSetLoaderText(text);\n  }\n};\n\n// ì»¤ìŠ¤í…€ ë¡œë” í…ìŠ¤íŠ¸ë¡œ API ìš”ì²­ì„ ìˆ˜í–‰í•˜ëŠ” í—¬í¼ í•¨ìˆ˜\nexport const apiWithCustomLoader = <T = any>(\n  apiCall: () => Promise<T>,\n  loaderText: string\n): Promise<T> => {\n  // ìš”ì²­ ì „ì— ë¡œë” í…ìŠ¤íŠ¸ ì„¤ì •\n  setApiLoaderText(loaderText);\n  return apiCall();\n};\n\nexport default axiosInstance;\n","import { ReactNode } from 'react';\n\nexport interface OnlyChildrenProps {\n  children: ReactNode;\n}\n\nexport interface UserInfo {\n  name: string;\n  email?: string;\n  profileImg?: string;\n}\n\nexport enum CommonConstants {\n  SESSION_NAME = 'SESSION_NAME', // ì„±ê³µ\n  YES_FLAG = 'Y', // ì˜ˆ\n  NO_FLAG = 'N', // ì•„ë‹ˆì˜¤\n  NA = 'NA', // ë¯¸ì§€ì •\n}\n\nexport enum CommonStatus {\n  SUCCESS = 200, // ì„±ê³µ\n  BAD_REQUEST = 400, // ì˜ëª»ëœ ìš”ì²­\n  FAIL = 400, // ì‹¤íŒ¨\n  UNAUTHORIZED = 401, // ì¸ì¦ ì˜¤ë¥˜\n  FORBIDDEN = 403, // ê¶Œí•œ ì˜¤ë¥˜\n  NOT_FOUND = 404, // ì¡´ì¬í•˜ì§€ ì•ŠìŒ\n  INTERNAL_SERVER_ERROR = 500, // ì„œë²„ ì˜¤ë¥˜\n  BAD_GATEWAY = 502, // ê²Œì´íŠ¸ì›¨ì´ ì˜¤ë¥˜\n  SERVICE_UNAVAILABLE = 503, // ì„œë¹„ìŠ¤ ë¶ˆê°€\n  GATEWAY_TIMEOUT = 504, // ê²Œì´íŠ¸ì›¨ì´ íƒ€ì„ì•„ì›ƒ\n}\n\nexport interface CommonResponse<T> {\n  successOrNot: string;\n  statusCode: CommonStatus;\n  status?: number;\n  message?: string;\n  data: T | null;\n}\n\nexport interface LevelInfo {\n  level: number;\n  required_points: number;\n}\n\nexport interface Pagination {\n  currentPage: number;\n  totalPages: number;\n  totalItems: number;\n  itemsPerPage: number;\n  hasNextPage: boolean;\n  hasPrevPage: boolean;\n}\n","import axiosInstance from \"../config/axios\";\nimport { CommonResponse, CommonStatus } from \"../types/common\";\nimport { AxiosResponse, AxiosError } from \"axios\";\n\n/**\n * HTTP Method types for API requests\n */\nexport type HttpMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\n/**\n * Request options for API calls\n */\nexport interface RequestOptions {\n  headers?: Record<string, string>;\n  params?: Record<string, any>;\n  timeout?: number;\n  skipLoader?: boolean;\n  useMiniLoader?: boolean;\n  loaderText?: string;\n}\n\n/**\n * Base API Service Class\n * Provides standardized HTTP methods with global loading indicator integration\n * and consistent error handling following CommonResponse<T> pattern\n */\nexport class BaseService<T = any> {\n  protected baseUrl: string;\n  protected defaultHeaders: Record<string, string>;\n\n  constructor(baseUrl: string = '', defaultHeaders: Record<string, string> = {}) {\n    this.baseUrl = baseUrl;\n    this.defaultHeaders = {\n      'Content-Type': 'application/json',\n      ...defaultHeaders,\n    };\n  }\n\n  /**\n   * Handle API errors and transform them to CommonResponse format\n   */\n  protected handleError<R>(error: any): CommonResponse<R> {\n    if (error instanceof AxiosError) {\n      const status = error.response?.status || CommonStatus.INTERNAL_SERVER_ERROR;\n      const message = error.response?.data?.message || error.message || 'An error occurred';\n      \n      return {\n        successOrNot: 'N',\n        statusCode: status,\n        message,\n        data: null,\n      };\n    }\n\n    return {\n      successOrNot: 'N',\n      statusCode: CommonStatus.INTERNAL_SERVER_ERROR,\n      message: error.message || 'Unknown error occurred',\n      data: null,\n    };\n  }\n\n  /**\n   * Build complete endpoint URL\n   */\n  protected buildUrl(endpoint: string): string {\n    if (endpoint.startsWith('http')) {\n      return endpoint;\n    }\n    return `${this.baseUrl}${endpoint.startsWith('/') ? endpoint : `/${endpoint}`}`;\n  }\n\n  /**\n   * Prepare request config with options\n   */\n  protected prepareConfig(options?: RequestOptions) {\n    const config: any = {\n      headers: {\n        ...this.defaultHeaders,\n        ...options?.headers,\n      },\n      params: options?.params,\n      timeout: options?.timeout,\n    };\n\n    // Add metadata for loader control\n    if (options?.skipLoader || options?.useMiniLoader || options?.loaderText) {\n      config.metadata = {\n        skipLoader: options.skipLoader,\n        useMiniLoader: options.useMiniLoader,\n        loaderText: options.loaderText,\n      };\n    }\n\n    return config;\n  }\n\n  // Standard HTTP methods with global loader\n  public async get<R = T>(endpoint: string, options?: RequestOptions): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.get(url, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  public async post<R = T, D = any>(\n    endpoint: string, \n    data?: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.post(url, data, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  public async put<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.put(url, data, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  public async patch<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.patch(url, data, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  public async delete<R = T>(endpoint: string, options?: RequestOptions): Promise<CommonResponse<R>> {\n    try {\n      const url = this.buildUrl(endpoint);\n      const config = this.prepareConfig(options);\n      \n      const response: AxiosResponse<CommonResponse<R>> = await axiosInstance.delete(url, config);\n      return response.data;\n    } catch (error) {\n      return this.handleError<R>(error);\n    }\n  }\n\n  // Silent methods (bypass global loader)\n  public async getSilent<R = T>(endpoint: string, options?: RequestOptions): Promise<CommonResponse<R>> {\n    return this.get<R>(endpoint, { ...options, skipLoader: true });\n  }\n\n  public async postSilent<R = T, D = any>(\n    endpoint: string, \n    data?: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.post<R, D>(endpoint, data, { ...options, skipLoader: true });\n  }\n\n  public async putSilent<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.put<R, D>(endpoint, data, { ...options, skipLoader: true });\n  }\n\n  public async patchSilent<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.patch<R, D>(endpoint, data, { ...options, skipLoader: true });\n  }\n\n  public async deleteSilent<R = T>(endpoint: string, options?: RequestOptions): Promise<CommonResponse<R>> {\n    return this.delete<R>(endpoint, { ...options, skipLoader: true });\n  }\n\n  // Mini loader methods (use mini loader instead of global loader)\n  public async getMini<R = T>(\n    endpoint: string, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.get<R>(endpoint, { ...options, useMiniLoader: true, loaderText: text });\n  }\n\n  public async postMini<R = T, D = any>(\n    endpoint: string, \n    data?: D, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.post<R, D>(endpoint, data, { ...options, useMiniLoader: true, loaderText: text });\n  }\n\n  public async putMini<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.put<R, D>(endpoint, data, { ...options, useMiniLoader: true, loaderText: text });\n  }\n\n  public async patchMini<R = T, D = any>(\n    endpoint: string, \n    data: D, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.patch<R, D>(endpoint, data, { ...options, useMiniLoader: true, loaderText: text });\n  }\n\n  public async deleteMini<R = T>(\n    endpoint: string, \n    text?: string, \n    options?: RequestOptions\n  ): Promise<CommonResponse<R>> {\n    return this.delete<R>(endpoint, { ...options, useMiniLoader: true, loaderText: text });\n  }\n}\n\n// Legacy support - functional interface (deprecated, use BaseService class instead)\nconst baseService = {\n  async get<T>(endpoint: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.get<T>(endpoint);\n  },\n\n  async post<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.post<T, D>(endpoint, data);\n  },\n\n  async put<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.put<T, D>(endpoint, data);\n  },\n\n  async patch<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.patch<T, D>(endpoint, data);\n  },\n\n  async delete<T>(endpoint: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.delete<T>(endpoint);\n  },\n\n  // Silent methods\n  async getSilent<T>(endpoint: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.getSilent<T>(endpoint);\n  },\n\n  async postSilent<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.postSilent<T, D>(endpoint, data);\n  },\n\n  async putSilent<T, D>(endpoint: string, data: D): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.putSilent<T, D>(endpoint, data);\n  },\n\n  async deleteSilent<T>(endpoint: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.deleteSilent<T>(endpoint);\n  },\n\n  // Mini loader methods\n  async getMini<T>(endpoint: string, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.getMini<T>(endpoint, text);\n  },\n\n  async postMini<T, D>(endpoint: string, data: D, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.postMini<T, D>(endpoint, data, text);\n  },\n\n  async putMini<T, D>(endpoint: string, data: D, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.putMini<T, D>(endpoint, data, text);\n  },\n\n  async patchMini<T, D>(endpoint: string, data: D, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.patchMini<T, D>(endpoint, data, text);\n  },\n\n  async deleteMini<T>(endpoint: string, text?: string): Promise<CommonResponse<T>> {\n    const service = new BaseService();\n    return service.deleteMini<T>(endpoint, text);\n  },\n};\n\nexport { baseService };\nexport default BaseService;\n","import BaseService, { baseService } from './baseService';\nimport type { CommonResponse } from '../types/common';\nimport type { User } from '../types/User';\n\n/**\n * User service interfaces and types\n */\nexport interface UserServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface UserPermission {\n  level: number;\n  isAdmin: boolean;\n  permissions: string[];\n}\n\nexport interface UserUpdateData {\n  profileImage?: string;\n  nickname?: string;\n  email?: string;\n  bio?: string;\n}\n\nexport interface UserSearchOptions {\n  nickname?: string;\n  needPoint?: boolean;\n  includePermissions?: boolean;\n}\n\n/**\n * User Service Class\n * Handles all user-related API operations with consistent error handling\n * and global loading integration\n */\nexport class UserService extends BaseService<User> {\n  constructor(options?: UserServiceOptions) {\n    super(options?.baseUrl || '/api/user', options?.defaultHeaders);\n  }\n\n  /**\n   * Get current user's information\n   */\n  async getMyInfo(): Promise<CommonResponse<User>> {\n    return this.getMini<User>('/me', 'ì‚¬ìš©ì ì •ë³´ í™•ì¸ì¤‘...');\n  }\n\n  /**\n   * Get current user's permissions\n   * @deprecated Use getMyInfo() instead as it includes permission information\n   */\n  async getMyPermission(): Promise<CommonResponse<UserPermission>> {\n    return this.get<UserPermission>('/me/permission');\n  }\n\n  /**\n   * Get current user's point balance\n   */\n  async getMyPoint(): Promise<CommonResponse<number>> {\n    return this.getMini<number>('/me/point', 'í¬ì¸íŠ¸ ì¡°íšŒì¤‘...');\n  }\n\n  /**\n   * Get realtime user information (for live updates)\n   */\n  async getRealtimeUser(): Promise<CommonResponse<string>> {\n    return this.getSilent<string>('/realtime');\n  }\n\n  /**\n   * Get current user's ID\n   */\n  async getUserId(): Promise<CommonResponse<string>> {\n    return this.get<string>('/id');\n  }\n\n  /**\n   * Get current user's UUID\n   */\n  async getUserUuid(): Promise<CommonResponse<string>> {\n    return this.get<string>('/uuid');\n  }\n\n  /**\n   * Update user profile information\n   */\n  async updateUserProfile(data: UserUpdateData): Promise<CommonResponse<User>> {\n    return this.patch<User, UserUpdateData>('/profile', data);\n  }\n\n  /**\n   * Refresh current user information (bypasses cache)\n   */\n  async refreshMyInfo(): Promise<CommonResponse<User>> {\n    return this.get<User>('/me', { headers: { 'Cache-Control': 'no-cache' } });\n  }\n\n  /**\n   * Get user information by search criteria\n   */\n  async getUserInfo(options: UserSearchOptions = {}): Promise<CommonResponse<User>> {\n    const params: Record<string, string> = {};\n    \n    if (options.nickname) {\n      params.nickname = options.nickname;\n    }\n    if (options.needPoint) {\n      params.needPoint = 'true';\n    }\n    if (options.includePermissions) {\n      params.includePermissions = 'true';\n    }\n\n    return this.getMini<User>('/', 'ì‚¬ìš©ì ì •ë³´ ì¡°íšŒì¤‘...', { params });\n  }\n\n  /**\n   * Check if user ID already exists\n   */\n  async checkUserIdExist(userId: string): Promise<CommonResponse<boolean>> {\n    return this.post<boolean, { userId: string }>('/check/id', { userId });\n  }\n\n  /**\n   * Check if nickname already exists\n   */\n  async checkNicknameExist(nickname: string): Promise<CommonResponse<boolean>> {\n    return this.post<boolean, { nickname: string }>('/check/nickname', { nickname });\n  }\n\n  /**\n   * Get user by ID\n   */\n  async getUserById(userId: string): Promise<CommonResponse<User>> {\n    return this.get<User>(`/${userId}`);\n  }\n\n  /**\n   * Get users by IDs (batch operation)\n   */\n  async getUsersByIds(userIds: string[]): Promise<CommonResponse<User[]>> {\n    return this.post<User[], { userIds: string[] }>('/batch', { userIds });\n  }\n\n  /**\n   * Search users by keyword\n   */\n  async searchUsers(\n    keyword: string, \n    page: number = 1, \n    pageSize: number = 10\n  ): Promise<CommonResponse<{ users: User[]; totalCount: number }>> {\n    return this.get<{ users: User[]; totalCount: number }>('/search', {\n      params: { keyword, page, pageSize }\n    });\n  }\n\n  /**\n   * Update user level (admin only)\n   */\n  async updateUserLevel(userId: string, level: number): Promise<CommonResponse<User>> {\n    return this.patch<User, { level: number }>(`/${userId}/level`, { level });\n  }\n\n  /**\n   * Ban/Unban user (admin only)\n   */\n  async updateUserBanStatus(\n    userId: string, \n    isBanned: boolean, \n    reason?: string\n  ): Promise<CommonResponse<User>> {\n    return this.patch<User, { isBanned: boolean; reason?: string }>(\n      `/${userId}/ban-status`, \n      { isBanned, reason }\n    );\n  }\n}\n\n// Legacy support - functional interface (deprecated, use UserService class instead)\nconst userService = {\n  getMyInfo(): Promise<CommonResponse<User>> {\n    const service = new UserService();\n    return service.getMyInfo();\n  },\n  \n  /**\n   * @deprecated Use getMyInfo() instead as it includes permission information\n   */\n  getMyPermission(): Promise<CommonResponse<UserPermission>> {\n    const service = new UserService();\n    return service.getMyPermission();\n  },\n  \n  getMyPoint(): Promise<CommonResponse<number>> {\n    const service = new UserService();\n    return service.getMyPoint();\n  },\n  \n  getRealtimeUser(): Promise<CommonResponse<string>> {\n    const service = new UserService();\n    return service.getRealtimeUser();\n  },\n  \n  getUserId(): Promise<CommonResponse<string>> {\n    const service = new UserService();\n    return service.getUserId();\n  },\n  \n  getUserUuid(): Promise<CommonResponse<string>> {\n    const service = new UserService();\n    return service.getUserUuid();\n  },\n  \n  updateUserProfile(profileImage: string): Promise<CommonResponse<User>> {\n    const service = new UserService();\n    return service.updateUserProfile({ profileImage });\n  },\n  \n  refreshMyInfo(): Promise<CommonResponse<User>> {\n    const service = new UserService();\n    return service.refreshMyInfo();\n  },\n  \n  getUserInfo(\n    nickname?: string,\n    needPoint: boolean = false\n  ): Promise<CommonResponse<User>> {\n    const service = new UserService();\n    return service.getUserInfo({ nickname, needPoint });\n  },\n  \n  checkUserIdExist(userId: string): Promise<CommonResponse<boolean>> {\n    const service = new UserService();\n    return service.checkUserIdExist(userId);\n  },\n  \n  checkNicknameExist(nickname: string): Promise<CommonResponse<boolean>> {\n    const service = new UserService();\n    return service.checkNicknameExist(nickname);\n  },\n};\n\nexport { userService };\nexport default UserService;\n","import BaseService, { baseService } from './baseService';\nimport type { CommonResponse, Pagination } from '../types/common';\nimport type { SearchType, SortBy } from '../types/board';\nimport type { FileAttachment, GalleryListItem, Post, PostBookmark, PostDetail } from '../types/post';\n\n/**\n * Post service interfaces and types\n */\nexport interface PostServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface PostListOptions {\n  boardId: number;\n  page: number;\n  pageSize?: number;\n  sortBy?: SortBy;\n  searchType?: SearchType;\n  searchText?: string;\n  categoryId?: string | number | null;\n  needNotice?: boolean;\n  status?: 'published' | 'draft' | 'deleted';\n  writerId?: number;\n}\n\nexport interface PostCreateData {\n  title: string;\n  content: string;\n  files?: File[];\n  boardId: number;\n  attachments?: FileAttachment[];\n  downloadPoint?: number;\n  metadata?: {\n    thumbnail?: string | null;\n    [key: string]: string | null;\n  };\n  categoryId?: number | null;\n  isNotice?: boolean;\n  hasFiles?: boolean;\n}\n\nexport interface PostUpdateData {\n  title?: string;\n  content?: string;\n  files?: File[];\n  attachments?: FileAttachment[];\n  downloadPoint?: number;\n  metadata?: {\n    thumbnail?: string | null;\n    [key: string]: string | null;\n  };\n  categoryId?: number | null;\n  isNotice?: boolean;\n}\n\nexport interface PostDownloadHistory {\n  expires_at: string;\n  download_urls: FileAttachment[];\n  message: string;\n  point_deducted: number;\n  success: boolean;\n}\n\nexport interface DraftPostRequest {\n  title: string;\n  content: string;\n  boardId: number;\n  categoryId?: number;\n}\n\nexport interface DraftPostResponse {\n  id: number;\n  title: string;\n  content: string;\n  status: 'DRAFT';\n  createdAt: string;\n}\n\nexport interface AsyncUploadConfig {\n  needWatermark?: boolean;\n  watermarkPosition?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\n  watermarkOpacity?: number;\n}\n\nexport interface UploadStartResponse {\n  success: boolean;\n  data: {\n    uploadId: string;\n    postId: number;\n    totalFiles: number;\n    estimatedDuration: number;\n  };\n  message: string;\n}\n\nexport interface UploadProgressResponse {\n  success: boolean;\n  data: {\n    postId: number;\n    overallProgress: number;\n    status: 'processing' | 'completed' | 'failed';\n    totalFiles: number;\n    completedFiles: number;\n    files: FileAttachment[];\n  };\n  message: string;\n}\n\n/**\n * Post Service Class\n * Handles all post-related API operations including CRUD operations,\n * file uploads, async media processing, and bookmark management\n */\nexport class PostService extends BaseService<Post> {\n  constructor(options?: PostServiceOptions) {\n    super(options?.baseUrl || '/api/post', options?.defaultHeaders);\n  }\n\n  /**\n   * Get post list with pagination and search options\n   */\n  async getPostList(options: PostListOptions): Promise<CommonResponse<Post>> {\n    const params: Record<string, string> = {\n      boardId: options.boardId.toString(),\n      page: options.page.toString(),\n      pageSize: (options.pageSize || 10).toString(),\n      sortBy: options.sortBy || 'latest',\n      searchType: options.searchType || 'title',\n      searchText: options.searchText || '',\n      needNotice: (options.needNotice !== false).toString(),\n    };\n\n    if (options.categoryId !== undefined && options.categoryId !== null && options.categoryId !== '') {\n      params.categoryId = options.categoryId.toString();\n    }\n\n    if (options.status) {\n      params.status = options.status;\n    }\n\n    if (options.writerId) {\n      params.writerId = options.writerId.toString();\n    }\n\n    return this.getMini<Post>('/', 'ê²Œì‹œê¸€ ëª©ë¡ ë¡œë”©ì¤‘...', { params });\n  }\n\n  /**\n   * Get post by ID\n   */\n  async getPostById(postId: number): Promise<CommonResponse<PostDetail>> {\n    return this.get<PostDetail>(`/${postId}`);\n  }\n\n  /**\n   * Create new post (synchronous)\n   */\n  async createPost(data: PostCreateData): Promise<CommonResponse<PostDetail>> {\n    const formData = new FormData();\n    \n    // Basic post data\n    formData.append('title', data.title);\n    formData.append('content', data.content);\n    formData.append('boardId', data.boardId.toString());\n    formData.append('isNotice', (data.isNotice || false).toString());\n    formData.append('hasFiles', (data.hasFiles || false).toString());\n\n    // Optional fields\n    if (data.categoryId !== null && data.categoryId !== undefined) {\n      formData.append('categoryId', data.categoryId.toString());\n    }\n    \n    if (data.downloadPoint !== undefined && data.downloadPoint !== null) {\n      formData.append('downloadPoint', data.downloadPoint.toString());\n    }\n\n    // Attachments and metadata\n    if (data.attachments && data.attachments.length > 0) {\n      formData.append('attachments', JSON.stringify(data.attachments));\n    }\n\n    if (data.metadata) {\n      formData.append('metadata', JSON.stringify(data.metadata));\n    }\n\n    // Files\n    if (data.files && data.files.length > 0) {\n      data.files.forEach(file => {\n        formData.append('files', file);\n      });\n    }\n\n    return this.postMini<PostDetail, FormData>(\n      `/${data.boardId}`,\n      formData,\n      'ê²Œì‹œê¸€ ë“±ë¡ì¤‘...'\n    );\n  }\n\n  /**\n   * Update existing post\n   */\n  async updatePost(postId: number, data: PostUpdateData): Promise<CommonResponse<PostDetail>> {\n    return this.putMini<PostDetail, PostUpdateData>(\n      `/${postId}`,\n      data,\n      'ê²Œì‹œê¸€ ìˆ˜ì •ì¤‘...'\n    );\n  }\n\n  /**\n   * Delete post\n   */\n  async deletePost(postId: number): Promise<CommonResponse<PostDetail>> {\n    return this.deleteMini<PostDetail>(`/${postId}`, 'ê²Œì‹œê¸€ ì‚­ì œì¤‘...');\n  }\n\n  /**\n   * React to post (like/dislike)\n   */\n  async reactToPost(\n    postId: number,\n    reactionType: 'like' | 'dislike'\n  ): Promise<CommonResponse<PostDetail>> {\n    const reactionText = reactionType === 'like' ? 'ì¶”ì²œ ì²˜ë¦¬ì¤‘...' : 'ë¹„ì¶”ì²œ ì²˜ë¦¬ì¤‘...';\n    \n    return this.postMini<PostDetail, { reactionType: string }>(\n      `/${postId}/reaction`,\n      { reactionType },\n      reactionText\n    );\n  }\n\n  /**\n   * Purchase post files\n   */\n  async purchaseFiles(postId: number): Promise<CommonResponse<PostDownloadHistory>> {\n    return this.postMini<PostDownloadHistory, object>(\n      `/${postId}/purchase`,\n      {},\n      'íŒŒì¼ êµ¬ë§¤ ì²˜ë¦¬ì¤‘...'\n    );\n  }\n\n  /**\n   * Add post to bookmarks\n   */\n  async bookmarkPost(postId: number): Promise<CommonResponse<PostBookmark>> {\n    return this.postMini<PostBookmark, object>(\n      `/${postId}/bookmark`,\n      {},\n      'ë¶ë§ˆí¬ ì²˜ë¦¬ì¤‘...'\n    );\n  }\n\n  /**\n   * Remove post from bookmarks\n   */\n  async removeBookmark(postId: number): Promise<CommonResponse<boolean>> {\n    return this.deleteMini<boolean>(`/${postId}/bookmark`, 'ë¶ë§ˆí¬ ì‚­ì œì¤‘...');\n  }\n\n  /**\n   * Get user's bookmarked posts\n   */\n  async getBookmarkedPosts(): Promise<CommonResponse<GalleryListItem[]>> {\n    return this.getMini<GalleryListItem[]>('/bookmarks', 'ë¶ë§ˆí¬ëœ ê²Œì‹œê¸€ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...');\n  }\n\n  /**\n   * Move post to different board\n   */\n  async movePost(postId: number, boardId: number): Promise<CommonResponse<PostDetail>> {\n    return this.patchMini<PostDetail, { board_id: number }>(\n      `/${postId}`,\n      { board_id: boardId },\n      'ê²Œì‹œê¸€ ì´ë™ì¤‘...'\n    );\n  }\n\n  // Draft and Async Upload Methods\n\n  /**\n   * Create draft post\n   */\n  async createDraftPost(data: DraftPostRequest): Promise<CommonResponse<DraftPostResponse>> {\n    return this.postMini<DraftPostResponse, DraftPostRequest>(\n      '/draft',\n      data,\n      'ê²Œì‹œê¸€ ì´ˆì•ˆ ìƒì„±ì¤‘...'\n    );\n  }\n\n  /**\n   * Publish draft post\n   */\n  async publishPost(postId: number): Promise<CommonResponse<void>> {\n    return this.putMini<void, object>(`/${postId}/publish`, {}, 'ê²Œì‹œê¸€ ë°œí–‰ì¤‘...');\n  }\n\n  /**\n   * Start async file upload for post\n   */\n  async startAsyncFileUpload(\n    postId: number,\n    files: File[],\n    config?: AsyncUploadConfig\n  ): Promise<CommonResponse<UploadStartResponse['data']>> {\n    const formData = new FormData();\n\n    // Upload configuration\n    formData.append('postId', postId.toString());\n    formData.append('needWatermark', (config?.needWatermark !== false).toString());\n    formData.append('watermarkPosition', config?.watermarkPosition || 'bottom-right');\n    formData.append('watermarkOpacity', (config?.watermarkOpacity || 0.7).toString());\n\n    // Add files\n    files.forEach(file => {\n      formData.append('files', file);\n    });\n\n    const response = await this.postMini<UploadStartResponse, FormData>(\n      '/upload-async',\n      formData,\n      'íŒŒì¼ ì—…ë¡œë“œ ì‹œì‘ì¤‘...'\n    );\n\n    if (response.data && !response.data.success) {\n      throw new Error(response.data.message);\n    }\n\n    return {\n      ...response,\n      data: response.data?.data || null,\n    };\n  }\n\n  /**\n   * Get async upload progress\n   */\n  async getUploadProgress(postId: number): Promise<CommonResponse<UploadProgressResponse['data']>> {\n    const response = await this.getSilent<UploadProgressResponse>(`/upload-progress/${postId}`);\n\n    if (response.data && !response.data.success) {\n      throw new Error(response.data.message || 'ì§„í–‰ë„ ì¡°íšŒì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');\n    }\n\n    return {\n      ...response,\n      data: response.data?.data || null,\n    };\n  }\n\n  /**\n   * Retry failed file uploads\n   */\n  async retryFailedFiles(postId: number, failedFileUuids: string[]): Promise<CommonResponse<void>> {\n    return this.postMini<void, { failedFileUuids: string[] }>(\n      `/retry-upload/${postId}`,\n      { failedFileUuids },\n      'ì‹¤íŒ¨í•œ íŒŒì¼ ì¬ì—…ë¡œë“œ ì¤‘...'\n    );\n  }\n\n  /**\n   * Cancel async upload\n   */\n  async cancelUpload(postId: number): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/cancel-upload/${postId}`, 'ì—…ë¡œë“œ ì·¨ì†Œì¤‘...');\n  }\n\n  /**\n   * Create post with async file upload workflow\n   */\n  async createPostAsync(data: PostCreateData): Promise<CommonResponse<DraftPostResponse>> {\n    // 1. Create draft post first\n    const draftResponse = await this.createDraftPost({\n      title: data.title,\n      content: data.content,\n      boardId: data.boardId,\n      categoryId: data.categoryId || undefined,\n    });\n\n    if (draftResponse.successOrNot !== 'Y' || !draftResponse.data) {\n      return draftResponse;\n    }\n\n    // 2. Start async upload if files exist\n    if (data.files && data.files.length > 0) {\n      await this.startAsyncFileUpload(draftResponse.data.id, data.files);\n    } else {\n      // Publish immediately if no files\n      await this.publishPost(draftResponse.data.id);\n    }\n\n    return draftResponse;\n  }\n\n  /**\n   * Get draft posts\n   */\n  async getDraftPosts(options: Partial<PostListOptions> = {}): Promise<CommonResponse<Post>> {\n    const params: Record<string, string> = {\n      status: 'draft',\n      page: (options.page || 1).toString(),\n      pageSize: (options.pageSize || 10).toString(),\n      sortBy: options.sortBy || 'latest',\n    };\n\n    if (options.writerId) {\n      params.writerId = options.writerId.toString();\n    }\n\n    return this.getSilent<Post>('/', { params });\n  }\n\n  /**\n   * Search posts across multiple boards\n   */\n  async searchPosts(\n    keyword: string,\n    page: number = 1,\n    pageSize: number = 10,\n    boardIds?: number[]\n  ): Promise<CommonResponse<{ posts: Post[]; totalCount: number }>> {\n    const params: Record<string, string> = {\n      keyword,\n      page: page.toString(),\n      pageSize: pageSize.toString(),\n    };\n\n    if (boardIds && boardIds.length > 0) {\n      params.boardIds = boardIds.join(',');\n    }\n\n    return this.get<{ posts: Post[]; totalCount: number }>('/search', { params });\n  }\n\n  /**\n   * Get post statistics (admin only)\n   */\n  async getPostStats(boardId?: number): Promise<CommonResponse<{\n    totalPosts: number;\n    totalViews: number;\n    totalComments: number;\n    totalLikes: number;\n  }>> {\n    const params = boardId ? { boardId: boardId.toString() } : {};\n    return this.get<any>('/stats', { params });\n  }\n}\n\n// Legacy support - functional interface (deprecated, use PostService class instead)\nconst postService = {\n  getPost(options: PostListOptions): Promise<CommonResponse<Post>> {\n    const service = new PostService();\n    return service.getPostList(options);\n  },\n\n  createPost(data: PostCreateData): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.createPost(data);\n  },\n\n  reactionPost(postId: number, reactionType: 'like' | 'dislike'): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.reactToPost(postId, reactionType);\n  },\n\n  deletePost(postId: number): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.deletePost(postId);\n  },\n\n  updatePost(postId: number, data: PostUpdateData): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.updatePost(postId, data);\n  },\n\n  purchaseFiles(postId: number): Promise<CommonResponse<PostDownloadHistory>> {\n    const service = new PostService();\n    return service.purchaseFiles(postId);\n  },\n\n  bookmarkPost(postId: number): Promise<CommonResponse<PostBookmark>> {\n    const service = new PostService();\n    return service.bookmarkPost(postId);\n  },\n\n  deleteBookmarkPost(postId: number): Promise<CommonResponse<boolean>> {\n    const service = new PostService();\n    return service.removeBookmark(postId);\n  },\n\n  getBookmarkPosts(): Promise<CommonResponse<GalleryListItem[]>> {\n    const service = new PostService();\n    return service.getBookmarkedPosts();\n  },\n\n  movePost(postId: number, boardId: number): Promise<CommonResponse<PostDetail>> {\n    const service = new PostService();\n    return service.movePost(postId, boardId);\n  },\n\n  // Draft methods\n  createDraftPost(data: DraftPostRequest): Promise<CommonResponse<DraftPostResponse>> {\n    const service = new PostService();\n    return service.createDraftPost(data);\n  },\n\n  publishPost(postId: number): Promise<CommonResponse<void>> {\n    const service = new PostService();\n    return service.publishPost(postId);\n  },\n\n  getDraftPosts(options: Partial<PostListOptions> = {}): Promise<CommonResponse<Post>> {\n    const service = new PostService();\n    return service.getDraftPosts(options);\n  },\n\n  // Async upload methods\n  startAsyncFileUpload(\n    postId: number,\n    files: File[],\n    config?: AsyncUploadConfig\n  ): Promise<CommonResponse<UploadStartResponse['data']>> {\n    const service = new PostService();\n    return service.startAsyncFileUpload(postId, files, config);\n  },\n\n  getUploadProgress(postId: number): Promise<CommonResponse<UploadProgressResponse['data']>> {\n    const service = new PostService();\n    return service.getUploadProgress(postId);\n  },\n\n  retryFailedFiles(postId: number, failedFileUuids: string[]): Promise<CommonResponse<void>> {\n    const service = new PostService();\n    return service.retryFailedFiles(postId, failedFileUuids);\n  },\n\n  cancelUpload(postId: number): Promise<CommonResponse<void>> {\n    const service = new PostService();\n    return service.cancelUpload(postId);\n  },\n\n  createPostAsync(data: PostCreateData): Promise<CommonResponse<DraftPostResponse>> {\n    const service = new PostService();\n    return service.createPostAsync(data);\n  },\n};\n\nexport { postService };\nexport default PostService;\n","import BaseService, { baseService } from './baseService';\nimport type { CommonResponse, Pagination } from '../types/common';\nimport type { Board, BoardCategory, SearchType, SortBy } from '../types/board';\n\n/**\n * Board service interfaces and types\n */\nexport interface BoardServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface BoardListOptions {\n  page?: number;\n  pageSize?: number;\n  sortBy?: SortBy;\n  searchText?: string;\n  searchType?: SearchType;\n  isActive?: boolean;\n  categoryId?: number;\n}\n\nexport interface BoardCreateData {\n  name: string;\n  description?: string;\n  isActive?: boolean;\n  sortOrder?: number;\n  allowAnonymous?: boolean;\n  allowAttachment?: boolean;\n  requirePoints?: number;\n  categoryIds?: number[];\n  metadata?: {\n    icon?: string;\n    color?: string;\n    [key: string]: any;\n  };\n}\n\nexport interface BoardUpdateData {\n  name?: string;\n  description?: string;\n  isActive?: boolean;\n  sortOrder?: number;\n  allowAnonymous?: boolean;\n  allowAttachment?: boolean;\n  requirePoints?: number;\n  categoryIds?: number[];\n  metadata?: {\n    icon?: string;\n    color?: string;\n    [key: string]: any;\n  };\n}\n\nexport interface BoardCategoryCreateData {\n  name: string;\n  description?: string;\n  color?: string;\n  sortOrder?: number;\n  isActive?: boolean;\n}\n\nexport interface BoardStats {\n  totalPosts: number;\n  totalComments: number;\n  totalViews: number;\n  activeUsers: number;\n  lastActivity: string;\n}\n\n/**\n * Board Service Class\n * Handles all board-related API operations including board management,\n * categories, permissions, and statistics\n */\nexport class BoardService extends BaseService<Board> {\n  constructor(options?: BoardServiceOptions) {\n    super(options?.baseUrl || '/api/boards', options?.defaultHeaders);\n  }\n\n  /**\n   * Get list of all boards\n   */\n  async getBoards(options: BoardListOptions = {}): Promise<CommonResponse<Board[]>> {\n    const params: Record<string, string> = {};\n\n    if (options.page) {\n      params.page = options.page.toString();\n    }\n    if (options.pageSize) {\n      params.pageSize = options.pageSize.toString();\n    }\n    if (options.sortBy) {\n      params.sortBy = options.sortBy;\n    }\n    if (options.searchText) {\n      params.searchText = options.searchText;\n    }\n    if (options.searchType) {\n      params.searchType = options.searchType;\n    }\n    if (options.isActive !== undefined) {\n      params.isActive = options.isActive.toString();\n    }\n    if (options.categoryId) {\n      params.categoryId = options.categoryId.toString();\n    }\n\n    return this.getMini<Board[]>('/', 'ê²Œì‹œíŒ ëª©ë¡ ë¡œë”©ì¤‘...', { params });\n  }\n\n  /**\n   * Get board by ID\n   */\n  async getBoard(boardId: number): Promise<CommonResponse<Board>> {\n    return this.getMini<Board>(`/${boardId}`, 'ê²Œì‹œíŒ ì •ë³´ ë¡œë”©ì¤‘...');\n  }\n\n  /**\n   * Create new board (admin only)\n   */\n  async createBoard(data: BoardCreateData): Promise<CommonResponse<Board>> {\n    return this.postMini<Board, BoardCreateData>('/', data, 'ê²Œì‹œíŒ ìƒì„±ì¤‘...');\n  }\n\n  /**\n   * Update board (admin only)\n   */\n  async updateBoard(boardId: number, data: BoardUpdateData): Promise<CommonResponse<Board>> {\n    return this.putMini<Board, BoardUpdateData>(`/${boardId}`, data, 'ê²Œì‹œíŒ ìˆ˜ì •ì¤‘...');\n  }\n\n  /**\n   * Delete board (admin only)\n   */\n  async deleteBoard(boardId: number): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/${boardId}`, 'ê²Œì‹œíŒ ì‚­ì œì¤‘...');\n  }\n\n  /**\n   * Get board categories\n   */\n  async getBoardCategories(boardId: number): Promise<CommonResponse<BoardCategory[]>> {\n    return this.getMini<BoardCategory[]>(`/${boardId}/categories`, 'ì¹´í…Œê³ ë¦¬ ë¡œë”©ì¤‘...');\n  }\n\n  /**\n   * Create board category (admin only)\n   */\n  async createBoardCategory(\n    boardId: number, \n    data: BoardCategoryCreateData\n  ): Promise<CommonResponse<BoardCategory>> {\n    return this.postMini<BoardCategory, BoardCategoryCreateData>(\n      `/${boardId}/categories`,\n      data,\n      'ì¹´í…Œê³ ë¦¬ ìƒì„±ì¤‘...'\n    );\n  }\n\n  /**\n   * Update board category (admin only)\n   */\n  async updateBoardCategory(\n    boardId: number,\n    categoryId: number,\n    data: Partial<BoardCategoryCreateData>\n  ): Promise<CommonResponse<BoardCategory>> {\n    return this.putMini<BoardCategory, Partial<BoardCategoryCreateData>>(\n      `/${boardId}/categories/${categoryId}`,\n      data,\n      'ì¹´í…Œê³ ë¦¬ ìˆ˜ì •ì¤‘...'\n    );\n  }\n\n  /**\n   * Delete board category (admin only)\n   */\n  async deleteBoardCategory(boardId: number, categoryId: number): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/${boardId}/categories/${categoryId}`, 'ì¹´í…Œê³ ë¦¬ ì‚­ì œì¤‘...');\n  }\n\n  /**\n   * Get board statistics\n   */\n  async getBoardStats(boardId: number): Promise<CommonResponse<BoardStats>> {\n    return this.getSilent<BoardStats>(`/${boardId}/stats`);\n  }\n\n  /**\n   * Search boards by keyword\n   */\n  async searchBoards(\n    keyword: string,\n    page: number = 1,\n    pageSize: number = 10\n  ): Promise<CommonResponse<{ boards: Board[]; totalCount: number }>> {\n    return this.get<{ boards: Board[]; totalCount: number }>('/search', {\n      params: { keyword, page: page.toString(), pageSize: pageSize.toString() }\n    });\n  }\n\n  /**\n   * Get popular boards\n   */\n  async getPopularBoards(limit: number = 10): Promise<CommonResponse<Board[]>> {\n    return this.getSilent<Board[]>('/popular', {\n      params: { limit: limit.toString() }\n    });\n  }\n\n  /**\n   * Get recently active boards\n   */\n  async getRecentlyActiveBoards(limit: number = 10): Promise<CommonResponse<Board[]>> {\n    return this.getSilent<Board[]>('/recent-activity', {\n      params: { limit: limit.toString() }\n    });\n  }\n\n  /**\n   * Get user's favorite boards\n   */\n  async getFavoriteBoards(): Promise<CommonResponse<Board[]>> {\n    return this.getMini<Board[]>('/favorites', 'ì¦ê²¨ì°¾ê¸° ê²Œì‹œíŒ ë¡œë”©ì¤‘...');\n  }\n\n  /**\n   * Add board to favorites\n   */\n  async addToFavorites(boardId: number): Promise<CommonResponse<void>> {\n    return this.postMini<void, object>(`/${boardId}/favorite`, {}, 'ì¦ê²¨ì°¾ê¸° ì¶”ê°€ì¤‘...');\n  }\n\n  /**\n   * Remove board from favorites\n   */\n  async removeFromFavorites(boardId: number): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/${boardId}/favorite`, 'ì¦ê²¨ì°¾ê¸° ì œê±°ì¤‘...');\n  }\n\n  /**\n   * Get board permissions for current user\n   */\n  async getBoardPermissions(boardId: number): Promise<CommonResponse<{\n    canRead: boolean;\n    canWrite: boolean;\n    canComment: boolean;\n    canModerate: boolean;\n    requiredLevel: number;\n  }>> {\n    return this.getSilent<any>(`/${boardId}/permissions`);\n  }\n\n  /**\n   * Update board permissions (admin only)\n   */\n  async updateBoardPermissions(\n    boardId: number,\n    permissions: {\n      readLevel?: number;\n      writeLevel?: number;\n      commentLevel?: number;\n      allowAnonymous?: boolean;\n    }\n  ): Promise<CommonResponse<void>> {\n    return this.patchMini<void, typeof permissions>(\n      `/${boardId}/permissions`,\n      permissions,\n      'ê¶Œí•œ ì„¤ì • ì—…ë°ì´íŠ¸ ì¤‘...'\n    );\n  }\n\n  /**\n   * Get board moderators\n   */\n  async getBoardModerators(boardId: number): Promise<CommonResponse<{\n    id: string;\n    nickname: string;\n    profileImage?: string;\n    level: number;\n  }[]>> {\n    return this.get<any>(`/${boardId}/moderators`);\n  }\n\n  /**\n   * Add board moderator (admin only)\n   */\n  async addBoardModerator(boardId: number, userId: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { userId: string }>(\n      `/${boardId}/moderators`,\n      { userId },\n      'ëª¨ë”ë ˆì´í„° ì¶”ê°€ì¤‘...'\n    );\n  }\n\n  /**\n   * Remove board moderator (admin only)\n   */\n  async removeBoardModerator(boardId: number, userId: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/${boardId}/moderators/${userId}`, 'ëª¨ë”ë ˆì´í„° ì œê±°ì¤‘...');\n  }\n\n  /**\n   * Report board content or issue\n   */\n  async reportBoard(\n    boardId: number,\n    reason: string,\n    description?: string\n  ): Promise<CommonResponse<void>> {\n    return this.postMini<void, { reason: string; description?: string }>(\n      `/${boardId}/report`,\n      { reason, description },\n      'ì‹ ê³  ì ‘ìˆ˜ì¤‘...'\n    );\n  }\n\n  /**\n   * Get board activity feed\n   */\n  async getBoardActivity(\n    boardId: number,\n    page: number = 1,\n    pageSize: number = 20\n  ): Promise<CommonResponse<{\n    activities: Array<{\n      type: 'post' | 'comment' | 'like' | 'share';\n      postId?: number;\n      userId: string;\n      userName: string;\n      timestamp: string;\n      title?: string;\n      content?: string;\n    }>;\n    totalCount: number;\n  }>> {\n    return this.get<any>(`/${boardId}/activity`, {\n      params: { page: page.toString(), pageSize: pageSize.toString() }\n    });\n  }\n}\n\n// Legacy support - functional interface (deprecated, use BoardService class instead)\nconst boardService = {\n  getBoards(): Promise<CommonResponse<Board[]>> {\n    const service = new BoardService();\n    return service.getBoards();\n  },\n\n  getBoard(boardId: number): Promise<CommonResponse<Board>> {\n    const service = new BoardService();\n    return service.getBoard(boardId);\n  },\n\n  getBoardCategories(boardId: number): Promise<CommonResponse<BoardCategory[]>> {\n    const service = new BoardService();\n    return service.getBoardCategories(boardId);\n  },\n};\n\nexport { boardService };\nexport default BoardService;\n","import BaseService from './baseService';\nimport type { CommonResponse } from '../types/common';\nimport type { User } from '../types/User';\n\n/**\n * Authentication service interfaces and types\n */\nexport interface AuthServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface LoginCredentials {\n  userId: string;\n  password: string;\n  rememberMe?: boolean;\n}\n\nexport interface RegisterData {\n  userId: string;\n  password: string;\n  passwordConfirm: string;\n  nickname: string;\n  email?: string;\n  agreeToTerms: boolean;\n  agreeToPrivacy: boolean;\n  agreeToMarketing?: boolean;\n}\n\nexport interface AuthTokens {\n  accessToken: string;\n  refreshToken: string;\n  expiresIn: number;\n  tokenType: string;\n}\n\nexport interface AuthResponse {\n  user: User;\n  tokens: AuthTokens;\n  isFirstLogin?: boolean;\n  requiredActions?: string[];\n}\n\nexport interface PasswordResetData {\n  email?: string;\n  userId?: string;\n}\n\nexport interface PasswordChangeData {\n  currentPassword: string;\n  newPassword: string;\n  newPasswordConfirm: string;\n}\n\nexport interface SessionInfo {\n  isValid: boolean;\n  user?: User;\n  expiresAt?: string;\n  permissions?: string[];\n  level?: number;\n  isAdmin?: boolean;\n}\n\n/**\n * Authentication Service Class\n * Handles all authentication-related operations including login, logout,\n * registration, password management, and session validation\n */\nexport class AuthService extends BaseService {\n  constructor(options?: AuthServiceOptions) {\n    super(options?.baseUrl || '/api/auth', options?.defaultHeaders);\n  }\n\n  /**\n   * User login\n   */\n  async login(credentials: LoginCredentials): Promise<CommonResponse<AuthResponse>> {\n    return this.postMini<AuthResponse, LoginCredentials>(\n      '/login',\n      credentials,\n      'ë¡œê·¸ì¸ ì¤‘...'\n    );\n  }\n\n  /**\n   * User logout\n   */\n  async logout(): Promise<CommonResponse<void>> {\n    return this.postMini<void, object>('/logout', {}, 'ë¡œê·¸ì•„ì›ƒ ì¤‘...');\n  }\n\n  /**\n   * User registration\n   */\n  async register(data: RegisterData): Promise<CommonResponse<AuthResponse>> {\n    return this.postMini<AuthResponse, RegisterData>(\n      '/register',\n      data,\n      'íšŒì›ê°€ì… ì²˜ë¦¬ ì¤‘...'\n    );\n  }\n\n  /**\n   * Refresh access token\n   */\n  async refreshToken(refreshToken: string): Promise<CommonResponse<AuthTokens>> {\n    return this.postSilent<AuthTokens, { refreshToken: string }>(\n      '/refresh',\n      { refreshToken }\n    );\n  }\n\n  /**\n   * Validate current session\n   */\n  async validateSession(): Promise<CommonResponse<SessionInfo>> {\n    return this.getSilent<SessionInfo>('/validate');\n  }\n\n  /**\n   * Get current user info (from token)\n   */\n  async getCurrentUser(): Promise<CommonResponse<User>> {\n    return this.getMini<User>('/me', 'ì‚¬ìš©ì ì •ë³´ í™•ì¸ ì¤‘...');\n  }\n\n  /**\n   * Send password reset email\n   */\n  async requestPasswordReset(data: PasswordResetData): Promise<CommonResponse<void>> {\n    return this.postMini<void, PasswordResetData>(\n      '/password-reset/request',\n      data,\n      'ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ìš”ì²­ ì¤‘...'\n    );\n  }\n\n  /**\n   * Reset password with token\n   */\n  async resetPassword(\n    token: string, \n    newPassword: string,\n    newPasswordConfirm: string\n  ): Promise<CommonResponse<void>> {\n    return this.postMini<void, { \n      token: string; \n      newPassword: string; \n      newPasswordConfirm: string; \n    }>(\n      '/password-reset/confirm',\n      { token, newPassword, newPasswordConfirm },\n      'ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì¤‘...'\n    );\n  }\n\n  /**\n   * Change password (authenticated user)\n   */\n  async changePassword(data: PasswordChangeData): Promise<CommonResponse<void>> {\n    return this.putMini<void, PasswordChangeData>(\n      '/password',\n      data,\n      'ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì¤‘...'\n    );\n  }\n\n  /**\n   * Send email verification\n   */\n  async sendEmailVerification(email?: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { email?: string }>(\n      '/verify-email/send',\n      { email },\n      'ì¸ì¦ ë©”ì¼ ë°œì†¡ ì¤‘...'\n    );\n  }\n\n  /**\n   * Verify email with token\n   */\n  async verifyEmail(token: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { token: string }>(\n      '/verify-email/confirm',\n      { token },\n      'ì´ë©”ì¼ ì¸ì¦ ì¤‘...'\n    );\n  }\n\n  /**\n   * Check if user ID is available\n   */\n  async checkUserIdAvailability(userId: string): Promise<CommonResponse<{ available: boolean }>> {\n    return this.get<{ available: boolean }>('/check/userid', {\n      params: { userId }\n    });\n  }\n\n  /**\n   * Check if nickname is available\n   */\n  async checkNicknameAvailability(nickname: string): Promise<CommonResponse<{ available: boolean }>> {\n    return this.get<{ available: boolean }>('/check/nickname', {\n      params: { nickname }\n    });\n  }\n\n  /**\n   * Check if email is available\n   */\n  async checkEmailAvailability(email: string): Promise<CommonResponse<{ available: boolean }>> {\n    return this.get<{ available: boolean }>('/check/email', {\n      params: { email }\n    });\n  }\n\n  /**\n   * Get user sessions (for security management)\n   */\n  async getUserSessions(): Promise<CommonResponse<Array<{\n    id: string;\n    deviceInfo: string;\n    ipAddress: string;\n    lastActivity: string;\n    isCurrent: boolean;\n  }>>> {\n    return this.get<any>('/sessions');\n  }\n\n  /**\n   * Revoke specific session\n   */\n  async revokeSession(sessionId: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/sessions/${sessionId}`, 'ì„¸ì…˜ í•´ì œ ì¤‘...');\n  }\n\n  /**\n   * Revoke all sessions except current\n   */\n  async revokeAllSessions(): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>('/sessions/all', 'ëª¨ë“  ì„¸ì…˜ í•´ì œ ì¤‘...');\n  }\n\n  /**\n   * Enable two-factor authentication\n   */\n  async enable2FA(): Promise<CommonResponse<{\n    qrCodeUrl: string;\n    backupCodes: string[];\n    secret: string;\n  }>> {\n    return this.postMini<any, object>('/2fa/enable', {}, '2FA ì„¤ì • ì¤‘...');\n  }\n\n  /**\n   * Verify and confirm two-factor authentication\n   */\n  async confirm2FA(code: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { code: string }>(\n      '/2fa/confirm',\n      { code },\n      '2FA ì¸ì¦ ì¤‘...'\n    );\n  }\n\n  /**\n   * Disable two-factor authentication\n   */\n  async disable2FA(password: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>('/2fa/disable', '2FA í•´ì œ ì¤‘...');\n  }\n\n  /**\n   * Verify 2FA code during login\n   */\n  async verify2FACode(code: string): Promise<CommonResponse<AuthResponse>> {\n    return this.postMini<AuthResponse, { code: string }>(\n      '/2fa/verify',\n      { code },\n      '2FA ì½”ë“œ í™•ì¸ ì¤‘...'\n    );\n  }\n}\n\n// Legacy support - functional interface (deprecated, use AuthService class instead)\nconst authService = {\n  login(credentials: LoginCredentials): Promise<CommonResponse<AuthResponse>> {\n    const service = new AuthService();\n    return service.login(credentials);\n  },\n\n  logout(): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.logout();\n  },\n\n  register(data: RegisterData): Promise<CommonResponse<AuthResponse>> {\n    const service = new AuthService();\n    return service.register(data);\n  },\n\n  refreshToken(refreshToken: string): Promise<CommonResponse<AuthTokens>> {\n    const service = new AuthService();\n    return service.refreshToken(refreshToken);\n  },\n\n  validateSession(): Promise<CommonResponse<SessionInfo>> {\n    const service = new AuthService();\n    return service.validateSession();\n  },\n\n  getCurrentUser(): Promise<CommonResponse<User>> {\n    const service = new AuthService();\n    return service.getCurrentUser();\n  },\n\n  requestPasswordReset(data: PasswordResetData): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.requestPasswordReset(data);\n  },\n\n  resetPassword(\n    token: string, \n    newPassword: string,\n    newPasswordConfirm: string\n  ): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.resetPassword(token, newPassword, newPasswordConfirm);\n  },\n\n  changePassword(data: PasswordChangeData): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.changePassword(data);\n  },\n\n  sendEmailVerification(email?: string): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.sendEmailVerification(email);\n  },\n\n  verifyEmail(token: string): Promise<CommonResponse<void>> {\n    const service = new AuthService();\n    return service.verifyEmail(token);\n  },\n\n  checkUserIdAvailability(userId: string): Promise<CommonResponse<{ available: boolean }>> {\n    const service = new AuthService();\n    return service.checkUserIdAvailability(userId);\n  },\n\n  checkNicknameAvailability(nickname: string): Promise<CommonResponse<{ available: boolean }>> {\n    const service = new AuthService();\n    return service.checkNicknameAvailability(nickname);\n  },\n\n  checkEmailAvailability(email: string): Promise<CommonResponse<{ available: boolean }>> {\n    const service = new AuthService();\n    return service.checkEmailAvailability(email);\n  },\n};\n\nexport { authService };\nexport default AuthService;","import BaseService from './baseService';\nimport type { CommonResponse } from '../types/common';\nimport type { User } from '../types/User';\n\n/**\n * Permission service interfaces and types\n */\nexport interface PermissionServiceOptions {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n}\n\nexport interface PermissionCheck {\n  resource: string;\n  action: string;\n  context?: Record<string, any>;\n}\n\nexport interface PermissionResult {\n  allowed: boolean;\n  reason?: string;\n  requiredLevel?: number;\n  requiredPermissions?: string[];\n}\n\nexport interface UserPermissions {\n  level: number;\n  isAdmin: boolean;\n  permissions: string[];\n  roles: string[];\n  restrictions?: string[];\n}\n\nexport interface LevelInfo {\n  level: number;\n  name: string;\n  description: string;\n  requiredPoints: number;\n  permissions: string[];\n  benefits: string[];\n  color?: string;\n  icon?: string;\n}\n\nexport interface RoleInfo {\n  id: string;\n  name: string;\n  description: string;\n  permissions: string[];\n  level: number;\n  isSystem: boolean;\n}\n\nexport interface PermissionGrant {\n  userId: string;\n  permission: string;\n  context?: Record<string, any>;\n  expiresAt?: string;\n  grantedBy: string;\n  reason?: string;\n}\n\n/**\n * Permission Service Class\n * Handles all permission and authorization operations including\n * level management, role assignments, and access control\n */\nexport class PermissionService extends BaseService {\n  constructor(options?: PermissionServiceOptions) {\n    super(options?.baseUrl || '/api/permissions', options?.defaultHeaders);\n  }\n\n  /**\n   * Check if user has specific permission\n   */\n  async checkPermission(check: PermissionCheck): Promise<CommonResponse<PermissionResult>> {\n    return this.getSilent<PermissionResult>('/check', {\n      params: {\n        resource: check.resource,\n        action: check.action,\n        context: check.context ? JSON.stringify(check.context) : undefined\n      }\n    });\n  }\n\n  /**\n   * Check multiple permissions at once\n   */\n  async checkPermissions(\n    checks: PermissionCheck[]\n  ): Promise<CommonResponse<Record<string, PermissionResult>>> {\n    return this.postSilent<Record<string, PermissionResult>, { checks: PermissionCheck[] }>(\n      '/check-multiple',\n      { checks }\n    );\n  }\n\n  /**\n   * Get current user's permissions\n   */\n  async getMyPermissions(): Promise<CommonResponse<UserPermissions>> {\n    return this.getMini<UserPermissions>('/me', 'ê¶Œí•œ ì •ë³´ ì¡°íšŒ ì¤‘...');\n  }\n\n  /**\n   * Get user's permissions by ID (admin only)\n   */\n  async getUserPermissions(userId: string): Promise<CommonResponse<UserPermissions>> {\n    return this.get<UserPermissions>(`/users/${userId}`);\n  }\n\n  /**\n   * Get all available permission levels\n   */\n  async getLevels(): Promise<CommonResponse<LevelInfo[]>> {\n    return this.getSilent<LevelInfo[]>('/levels');\n  }\n\n  /**\n   * Get specific level information\n   */\n  async getLevel(level: number): Promise<CommonResponse<LevelInfo>> {\n    return this.get<LevelInfo>(`/levels/${level}`);\n  }\n\n  /**\n   * Update user level (admin only)\n   */\n  async updateUserLevel(userId: string, level: number, reason?: string): Promise<CommonResponse<void>> {\n    return this.patchMini<void, { level: number; reason?: string }>(\n      `/users/${userId}/level`,\n      { level, reason },\n      'ì‚¬ìš©ì ë ˆë²¨ ë³€ê²½ ì¤‘...'\n    );\n  }\n\n  /**\n   * Get all available roles\n   */\n  async getRoles(): Promise<CommonResponse<RoleInfo[]>> {\n    return this.get<RoleInfo[]>('/roles');\n  }\n\n  /**\n   * Get specific role information\n   */\n  async getRole(roleId: string): Promise<CommonResponse<RoleInfo>> {\n    return this.get<RoleInfo>(`/roles/${roleId}`);\n  }\n\n  /**\n   * Create new role (admin only)\n   */\n  async createRole(role: Omit<RoleInfo, 'id' | 'isSystem'>): Promise<CommonResponse<RoleInfo>> {\n    return this.postMini<RoleInfo, typeof role>(\n      '/roles',\n      role,\n      'ì—­í•  ìƒì„± ì¤‘...'\n    );\n  }\n\n  /**\n   * Update role (admin only)\n   */\n  async updateRole(\n    roleId: string, \n    updates: Partial<Omit<RoleInfo, 'id' | 'isSystem'>>\n  ): Promise<CommonResponse<RoleInfo>> {\n    return this.putMini<RoleInfo, typeof updates>(\n      `/roles/${roleId}`,\n      updates,\n      'ì—­í•  ìˆ˜ì • ì¤‘...'\n    );\n  }\n\n  /**\n   * Delete role (admin only)\n   */\n  async deleteRole(roleId: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(`/roles/${roleId}`, 'ì—­í•  ì‚­ì œ ì¤‘...');\n  }\n\n  /**\n   * Assign role to user (admin only)\n   */\n  async assignRole(userId: string, roleId: string, reason?: string): Promise<CommonResponse<void>> {\n    return this.postMini<void, { roleId: string; reason?: string }>(\n      `/users/${userId}/roles`,\n      { roleId, reason },\n      'ì—­í•  í• ë‹¹ ì¤‘...'\n    );\n  }\n\n  /**\n   * Remove role from user (admin only)\n   */\n  async removeRole(userId: string, roleId: string, reason?: string): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(\n      `/users/${userId}/roles/${roleId}`,\n      'ì—­í•  ì œê±° ì¤‘...'\n    );\n  }\n\n  /**\n   * Grant specific permission to user (admin only)\n   */\n  async grantPermission(grant: PermissionGrant): Promise<CommonResponse<void>> {\n    return this.postMini<void, PermissionGrant>(\n      '/grants',\n      grant,\n      'ê¶Œí•œ ë¶€ì—¬ ì¤‘...'\n    );\n  }\n\n  /**\n   * Revoke specific permission from user (admin only)\n   */\n  async revokePermission(\n    userId: string, \n    permission: string,\n    context?: Record<string, any>,\n    reason?: string\n  ): Promise<CommonResponse<void>> {\n    return this.deleteMini<void>(\n      `/grants/${userId}/${permission}`,\n      'ê¶Œí•œ íšŒìˆ˜ ì¤‘...'\n    );\n  }\n\n  /**\n   * Get user's permission grants\n   */\n  async getUserGrants(userId: string): Promise<CommonResponse<PermissionGrant[]>> {\n    return this.get<PermissionGrant[]>(`/grants/users/${userId}`);\n  }\n\n  /**\n   * Get permission grant history for user\n   */\n  async getPermissionHistory(\n    userId: string,\n    page: number = 1,\n    pageSize: number = 20\n  ): Promise<CommonResponse<{\n    history: Array<{\n      id: string;\n      action: 'grant' | 'revoke' | 'level_change' | 'role_assign' | 'role_remove';\n      permission?: string;\n      role?: string;\n      level?: number;\n      grantedBy: string;\n      reason?: string;\n      timestamp: string;\n    }>;\n    totalCount: number;\n  }>> {\n    return this.get<any>(`/history/${userId}`, {\n      params: { page: page.toString(), pageSize: pageSize.toString() }\n    });\n  }\n\n  /**\n   * Check if user can access specific board\n   */\n  async checkBoardAccess(\n    boardId: number,\n    action: 'read' | 'write' | 'comment' | 'moderate' = 'read'\n  ): Promise<CommonResponse<PermissionResult>> {\n    return this.checkPermission({\n      resource: 'board',\n      action,\n      context: { boardId }\n    });\n  }\n\n  /**\n   * Check if user can access specific post\n   */\n  async checkPostAccess(\n    postId: number,\n    action: 'read' | 'edit' | 'delete' | 'comment' = 'read'\n  ): Promise<CommonResponse<PermissionResult>> {\n    return this.checkPermission({\n      resource: 'post',\n      action,\n      context: { postId }\n    });\n  }\n\n  /**\n   * Check admin permissions\n   */\n  async checkAdminAccess(\n    section: 'users' | 'boards' | 'posts' | 'system' | 'reports' = 'system'\n  ): Promise<CommonResponse<PermissionResult>> {\n    return this.checkPermission({\n      resource: 'admin',\n      action: 'access',\n      context: { section }\n    });\n  }\n\n  /**\n   * Get user level benefits and progression info\n   */\n  async getLevelProgression(userId?: string): Promise<CommonResponse<{\n    currentLevel: LevelInfo;\n    nextLevel?: LevelInfo;\n    progress: {\n      currentPoints: number;\n      pointsToNext: number;\n      progressPercentage: number;\n    };\n    achievements: Array<{\n      id: string;\n      name: string;\n      description: string;\n      unlockedAt: string;\n      level: number;\n    }>;\n  }>> {\n    const endpoint = userId ? `/progression/${userId}` : '/progression/me';\n    return this.getMini<any>(endpoint, 'ë ˆë²¨ ì •ë³´ ì¡°íšŒ ì¤‘...');\n  }\n\n  /**\n   * Ban or unban user (admin only)\n   */\n  async updateUserBanStatus(\n    userId: string,\n    banned: boolean,\n    reason?: string,\n    duration?: number\n  ): Promise<CommonResponse<void>> {\n    return this.patchMini<void, {\n      banned: boolean;\n      reason?: string;\n      duration?: number;\n    }>(\n      `/users/${userId}/ban`,\n      { banned, reason, duration },\n      banned ? 'ì‚¬ìš©ì ì œì¬ ì¤‘...' : 'ì‚¬ìš©ì ì œì¬ í•´ì œ ì¤‘...'\n    );\n  }\n\n  /**\n   * Get user's restriction status\n   */\n  async getUserRestrictions(userId: string): Promise<CommonResponse<{\n    isBanned: boolean;\n    bannedUntil?: string;\n    banReason?: string;\n    restrictions: Array<{\n      type: string;\n      reason: string;\n      expiresAt?: string;\n    }>;\n  }>> {\n    return this.get<any>(`/users/${userId}/restrictions`);\n  }\n}\n\n// Legacy support - functional interface (deprecated, use PermissionService class instead)\nconst permissionService = {\n  checkPermission(check: PermissionCheck): Promise<CommonResponse<PermissionResult>> {\n    const service = new PermissionService();\n    return service.checkPermission(check);\n  },\n\n  getMyPermissions(): Promise<CommonResponse<UserPermissions>> {\n    const service = new PermissionService();\n    return service.getMyPermissions();\n  },\n\n  getLevels(): Promise<CommonResponse<LevelInfo[]>> {\n    const service = new PermissionService();\n    return service.getLevels();\n  },\n\n  checkBoardAccess(\n    boardId: number,\n    action: 'read' | 'write' | 'comment' | 'moderate' = 'read'\n  ): Promise<CommonResponse<PermissionResult>> {\n    const service = new PermissionService();\n    return service.checkBoardAccess(boardId, action);\n  },\n\n  checkAdminAccess(\n    section: 'users' | 'boards' | 'posts' | 'system' | 'reports' = 'system'\n  ): Promise<CommonResponse<PermissionResult>> {\n    const service = new PermissionService();\n    return service.checkAdminAccess(section);\n  },\n};\n\nexport { permissionService };\nexport default PermissionService;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.production.js');\n} else {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = React.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","/**\n * @license React\n * use-sync-external-store-with-selector.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function is(x, y) {\n      return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var React = require(\"react\"),\n      objectIs = \"function\" === typeof Object.is ? Object.is : is,\n      useSyncExternalStore = React.useSyncExternalStore,\n      useRef = React.useRef,\n      useEffect = React.useEffect,\n      useMemo = React.useMemo,\n      useDebugValue = React.useDebugValue;\n    exports.useSyncExternalStoreWithSelector = function (\n      subscribe,\n      getSnapshot,\n      getServerSnapshot,\n      selector,\n      isEqual\n    ) {\n      var instRef = useRef(null);\n      if (null === instRef.current) {\n        var inst = { hasValue: !1, value: null };\n        instRef.current = inst;\n      } else inst = instRef.current;\n      instRef = useMemo(\n        function () {\n          function memoizedSelector(nextSnapshot) {\n            if (!hasMemo) {\n              hasMemo = !0;\n              memoizedSnapshot = nextSnapshot;\n              nextSnapshot = selector(nextSnapshot);\n              if (void 0 !== isEqual && inst.hasValue) {\n                var currentSelection = inst.value;\n                if (isEqual(currentSelection, nextSnapshot))\n                  return (memoizedSelection = currentSelection);\n              }\n              return (memoizedSelection = nextSnapshot);\n            }\n            currentSelection = memoizedSelection;\n            if (objectIs(memoizedSnapshot, nextSnapshot))\n              return currentSelection;\n            var nextSelection = selector(nextSnapshot);\n            if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n              return (memoizedSnapshot = nextSnapshot), currentSelection;\n            memoizedSnapshot = nextSnapshot;\n            return (memoizedSelection = nextSelection);\n          }\n          var hasMemo = !1,\n            memoizedSnapshot,\n            memoizedSelection,\n            maybeGetServerSnapshot =\n              void 0 === getServerSnapshot ? null : getServerSnapshot;\n          return [\n            function () {\n              return memoizedSelector(getSnapshot());\n            },\n            null === maybeGetServerSnapshot\n              ? void 0\n              : function () {\n                  return memoizedSelector(maybeGetServerSnapshot());\n                }\n          ];\n        },\n        [getSnapshot, getServerSnapshot, selector, isEqual]\n      );\n      var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n      useEffect(\n        function () {\n          inst.hasValue = !0;\n          inst.value = value;\n        },\n        [value]\n      );\n      useDebugValue(value);\n      return value;\n    };\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n","// src/utils/react.ts\nimport * as React from \"react\";\n\n// src/utils/react-is.ts\nvar IS_REACT_19 = /* @__PURE__ */ React.version.startsWith(\"19\");\nvar REACT_ELEMENT_TYPE = /* @__PURE__ */ Symbol.for(\n  IS_REACT_19 ? \"react.transitional.element\" : \"react.element\"\n);\nvar REACT_PORTAL_TYPE = /* @__PURE__ */ Symbol.for(\"react.portal\");\nvar REACT_FRAGMENT_TYPE = /* @__PURE__ */ Symbol.for(\"react.fragment\");\nvar REACT_STRICT_MODE_TYPE = /* @__PURE__ */ Symbol.for(\"react.strict_mode\");\nvar REACT_PROFILER_TYPE = /* @__PURE__ */ Symbol.for(\"react.profiler\");\nvar REACT_CONSUMER_TYPE = /* @__PURE__ */ Symbol.for(\"react.consumer\");\nvar REACT_CONTEXT_TYPE = /* @__PURE__ */ Symbol.for(\"react.context\");\nvar REACT_FORWARD_REF_TYPE = /* @__PURE__ */ Symbol.for(\"react.forward_ref\");\nvar REACT_SUSPENSE_TYPE = /* @__PURE__ */ Symbol.for(\"react.suspense\");\nvar REACT_SUSPENSE_LIST_TYPE = /* @__PURE__ */ Symbol.for(\n  \"react.suspense_list\"\n);\nvar REACT_MEMO_TYPE = /* @__PURE__ */ Symbol.for(\"react.memo\");\nvar REACT_LAZY_TYPE = /* @__PURE__ */ Symbol.for(\"react.lazy\");\nvar REACT_OFFSCREEN_TYPE = /* @__PURE__ */ Symbol.for(\"react.offscreen\");\nvar REACT_CLIENT_REFERENCE = /* @__PURE__ */ Symbol.for(\n  \"react.client.reference\"\n);\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nfunction isValidElementType(type) {\n  return typeof type === \"string\" || typeof type === \"function\" || type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || type === REACT_OFFSCREEN_TYPE || typeof type === \"object\" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_CONSUMER_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_CLIENT_REFERENCE || type.getModuleId !== void 0) ? true : false;\n}\nfunction typeOf(object) {\n  if (typeof object === \"object\" && object !== null) {\n    const { $$typeof } = object;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        switch (object = object.type, object) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n            return object;\n          default:\n            switch (object = object && object.$$typeof, object) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return object;\n              case REACT_CONSUMER_TYPE:\n                return object;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n}\nfunction isContextConsumer(object) {\n  return IS_REACT_19 ? typeOf(object) === REACT_CONSUMER_TYPE : typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\n\n// src/utils/warning.ts\nfunction warning(message) {\n  if (typeof console !== \"undefined\" && typeof console.error === \"function\") {\n    console.error(message);\n  }\n  try {\n    throw new Error(message);\n  } catch (e) {\n  }\n}\n\n// src/connect/verifySubselectors.ts\nfunction verify(selector, methodName) {\n  if (!selector) {\n    throw new Error(`Unexpected value for ${methodName} in connect.`);\n  } else if (methodName === \"mapStateToProps\" || methodName === \"mapDispatchToProps\") {\n    if (!Object.prototype.hasOwnProperty.call(selector, \"dependsOnOwnProps\")) {\n      warning(\n        `The selector for ${methodName} of connect did not specify a value for dependsOnOwnProps.`\n      );\n    }\n  }\n}\nfunction verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps) {\n  verify(mapStateToProps, \"mapStateToProps\");\n  verify(mapDispatchToProps, \"mapDispatchToProps\");\n  verify(mergeProps, \"mergeProps\");\n}\n\n// src/connect/selectorFactory.ts\nfunction pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, {\n  areStatesEqual,\n  areOwnPropsEqual,\n  areStatePropsEqual\n}) {\n  let hasRunAtLeastOnce = false;\n  let state;\n  let ownProps;\n  let stateProps;\n  let dispatchProps;\n  let mergedProps;\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps)\n      dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps)\n      stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps)\n      dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n  function handleNewState() {\n    const nextStateProps = mapStateToProps(state, ownProps);\n    const statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n    if (statePropsChanged)\n      mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    const propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    const stateChanged = !areStatesEqual(\n      nextState,\n      state,\n      nextOwnProps,\n      ownProps\n    );\n    state = nextState;\n    ownProps = nextOwnProps;\n    if (propsChanged && stateChanged) return handleNewPropsAndNewState();\n    if (propsChanged) return handleNewProps();\n    if (stateChanged) return handleNewState();\n    return mergedProps;\n  }\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n}\nfunction finalPropsSelectorFactory(dispatch, {\n  initMapStateToProps,\n  initMapDispatchToProps,\n  initMergeProps,\n  ...options\n}) {\n  const mapStateToProps = initMapStateToProps(dispatch, options);\n  const mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  const mergeProps = initMergeProps(dispatch, options);\n  if (process.env.NODE_ENV !== \"production\") {\n    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps);\n  }\n  return pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}\n\n// src/utils/bindActionCreators.ts\nfunction bindActionCreators(actionCreators, dispatch) {\n  const boundActionCreators = {};\n  for (const key in actionCreators) {\n    const actionCreator = actionCreators[key];\n    if (typeof actionCreator === \"function\") {\n      boundActionCreators[key] = (...args) => dispatch(actionCreator(...args));\n    }\n  }\n  return boundActionCreators;\n}\n\n// src/utils/isPlainObject.ts\nfunction isPlainObject(obj) {\n  if (typeof obj !== \"object\" || obj === null) return false;\n  const proto = Object.getPrototypeOf(obj);\n  if (proto === null) return true;\n  let baseProto = proto;\n  while (Object.getPrototypeOf(baseProto) !== null) {\n    baseProto = Object.getPrototypeOf(baseProto);\n  }\n  return proto === baseProto;\n}\n\n// src/utils/verifyPlainObject.ts\nfunction verifyPlainObject(value, displayName, methodName) {\n  if (!isPlainObject(value)) {\n    warning(\n      `${methodName}() in ${displayName} must return a plain object. Instead received ${value}.`\n    );\n  }\n}\n\n// src/connect/wrapMapToProps.ts\nfunction wrapMapToPropsConstant(getConstant) {\n  return function initConstantSelector(dispatch) {\n    const constant = getConstant(dispatch);\n    function constantSelector() {\n      return constant;\n    }\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n}\nfunction getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n}\nfunction wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, { displayName }) {\n    const proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch, void 0);\n    };\n    proxy.dependsOnOwnProps = true;\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      let props = proxy(stateOrDispatch, ownProps);\n      if (typeof props === \"function\") {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n      if (process.env.NODE_ENV !== \"production\")\n        verifyPlainObject(props, displayName, methodName);\n      return props;\n    };\n    return proxy;\n  };\n}\n\n// src/connect/invalidArgFactory.ts\nfunction createInvalidArgFactory(arg, name) {\n  return (dispatch, options) => {\n    throw new Error(\n      `Invalid value of type ${typeof arg} for ${name} argument when connecting component ${options.wrappedComponentName}.`\n    );\n  };\n}\n\n// src/connect/mapDispatchToProps.ts\nfunction mapDispatchToPropsFactory(mapDispatchToProps) {\n  return mapDispatchToProps && typeof mapDispatchToProps === \"object\" ? wrapMapToPropsConstant(\n    (dispatch) => (\n      // @ts-ignore\n      bindActionCreators(mapDispatchToProps, dispatch)\n    )\n  ) : !mapDispatchToProps ? wrapMapToPropsConstant((dispatch) => ({\n    dispatch\n  })) : typeof mapDispatchToProps === \"function\" ? (\n    // @ts-ignore\n    wrapMapToPropsFunc(mapDispatchToProps, \"mapDispatchToProps\")\n  ) : createInvalidArgFactory(mapDispatchToProps, \"mapDispatchToProps\");\n}\n\n// src/connect/mapStateToProps.ts\nfunction mapStateToPropsFactory(mapStateToProps) {\n  return !mapStateToProps ? wrapMapToPropsConstant(() => ({})) : typeof mapStateToProps === \"function\" ? (\n    // @ts-ignore\n    wrapMapToPropsFunc(mapStateToProps, \"mapStateToProps\")\n  ) : createInvalidArgFactory(mapStateToProps, \"mapStateToProps\");\n}\n\n// src/connect/mergeProps.ts\nfunction defaultMergeProps(stateProps, dispatchProps, ownProps) {\n  return { ...ownProps, ...stateProps, ...dispatchProps };\n}\nfunction wrapMergePropsFunc(mergeProps) {\n  return function initMergePropsProxy(dispatch, { displayName, areMergedPropsEqual }) {\n    let hasRunOnce = false;\n    let mergedProps;\n    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {\n      const nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n      if (hasRunOnce) {\n        if (!areMergedPropsEqual(nextMergedProps, mergedProps))\n          mergedProps = nextMergedProps;\n      } else {\n        hasRunOnce = true;\n        mergedProps = nextMergedProps;\n        if (process.env.NODE_ENV !== \"production\")\n          verifyPlainObject(mergedProps, displayName, \"mergeProps\");\n      }\n      return mergedProps;\n    };\n  };\n}\nfunction mergePropsFactory(mergeProps) {\n  return !mergeProps ? () => defaultMergeProps : typeof mergeProps === \"function\" ? wrapMergePropsFunc(mergeProps) : createInvalidArgFactory(mergeProps, \"mergeProps\");\n}\n\n// src/utils/batch.ts\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\n// src/utils/Subscription.ts\nfunction createListenerCollection() {\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n    notify() {\n      defaultNoopBatch(() => {\n        let listener = first;\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n    get() {\n      const listeners = [];\n      let listener = first;\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n      return listeners;\n    },\n    subscribe(callback) {\n      let isSubscribed = true;\n      const listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n  };\n}\nvar nullListeners = {\n  notify() {\n  },\n  get: () => []\n};\nfunction createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners;\n  let subscriptionsAmount = 0;\n  let selfSubscribed = false;\n  function addNestedSub(listener) {\n    trySubscribe();\n    const cleanupListener = listeners.subscribe(listener);\n    let removed = false;\n    return () => {\n      if (!removed) {\n        removed = true;\n        cleanupListener();\n        tryUnsubscribe();\n      }\n    };\n  }\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n  function isSubscribed() {\n    return selfSubscribed;\n  }\n  function trySubscribe() {\n    subscriptionsAmount++;\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n  function tryUnsubscribe() {\n    subscriptionsAmount--;\n    if (unsubscribe && subscriptionsAmount === 0) {\n      unsubscribe();\n      unsubscribe = void 0;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n  function trySubscribeSelf() {\n    if (!selfSubscribed) {\n      selfSubscribed = true;\n      trySubscribe();\n    }\n  }\n  function tryUnsubscribeSelf() {\n    if (selfSubscribed) {\n      selfSubscribed = false;\n      tryUnsubscribe();\n    }\n  }\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe: trySubscribeSelf,\n    tryUnsubscribe: tryUnsubscribeSelf,\n    getListeners: () => listeners\n  };\n  return subscription;\n}\n\n// src/utils/useIsomorphicLayoutEffect.ts\nvar canUseDOM = () => !!(typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\");\nvar isDOM = /* @__PURE__ */ canUseDOM();\nvar isRunningInReactNative = () => typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\";\nvar isReactNative = /* @__PURE__ */ isRunningInReactNative();\nvar getUseIsomorphicLayoutEffect = () => isDOM || isReactNative ? React.useLayoutEffect : React.useEffect;\nvar useIsomorphicLayoutEffect = /* @__PURE__ */ getUseIsomorphicLayoutEffect();\n\n// src/utils/shallowEqual.ts\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// src/utils/hoistStatics.ts\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  $$typeof: true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  $$typeof: true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {\n  [ForwardRef]: FORWARD_REF_STATICS,\n  [Memo]: MEMO_STATICS\n};\nfunction getStatics(component) {\n  if (isMemo(component)) {\n    return MEMO_STATICS;\n  }\n  return TYPE_STATICS[component[\"$$typeof\"]] || REACT_STATICS;\n}\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent) {\n  if (typeof sourceComponent !== \"string\") {\n    if (objectPrototype) {\n      const inheritedComponent = getPrototypeOf(sourceComponent);\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent);\n      }\n    }\n    let keys = getOwnPropertyNames(sourceComponent);\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n    const targetStatics = getStatics(targetComponent);\n    const sourceStatics = getStatics(sourceComponent);\n    for (let i = 0; i < keys.length; ++i) {\n      const key = keys[i];\n      if (!KNOWN_STATICS[key] && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        const descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n        try {\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {\n        }\n      }\n    }\n  }\n  return targetComponent;\n}\n\n// src/components/Context.ts\nvar ContextKey = /* @__PURE__ */ Symbol.for(`react-redux-context`);\nvar gT = typeof globalThis !== \"undefined\" ? globalThis : (\n  /* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */\n  {}\n);\nfunction getContext() {\n  if (!React.createContext) return {};\n  const contextMap = gT[ContextKey] ??= /* @__PURE__ */ new Map();\n  let realContext = contextMap.get(React.createContext);\n  if (!realContext) {\n    realContext = React.createContext(\n      null\n    );\n    if (process.env.NODE_ENV !== \"production\") {\n      realContext.displayName = \"ReactRedux\";\n    }\n    contextMap.set(React.createContext, realContext);\n  }\n  return realContext;\n}\nvar ReactReduxContext = /* @__PURE__ */ getContext();\n\n// src/components/connect.tsx\nvar NO_SUBSCRIPTION_ARRAY = [null, null];\nvar stringifyComponent = (Comp) => {\n  try {\n    return JSON.stringify(Comp);\n  } catch (err) {\n    return String(Comp);\n  }\n};\nfunction useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {\n  useIsomorphicLayoutEffect(() => effectFunc(...effectArgs), dependencies);\n}\nfunction captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, childPropsFromStoreUpdate, notifyNestedSubs) {\n  lastWrapperProps.current = wrapperProps;\n  renderIsScheduled.current = false;\n  if (childPropsFromStoreUpdate.current) {\n    childPropsFromStoreUpdate.current = null;\n    notifyNestedSubs();\n  }\n}\nfunction subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, additionalSubscribeListener) {\n  if (!shouldHandleStateChanges) return () => {\n  };\n  let didUnsubscribe = false;\n  let lastThrownError = null;\n  const checkForUpdates = () => {\n    if (didUnsubscribe || !isMounted.current) {\n      return;\n    }\n    const latestStoreState = store.getState();\n    let newChildProps, error;\n    try {\n      newChildProps = childPropsSelector(\n        latestStoreState,\n        lastWrapperProps.current\n      );\n    } catch (e) {\n      error = e;\n      lastThrownError = e;\n    }\n    if (!error) {\n      lastThrownError = null;\n    }\n    if (newChildProps === lastChildProps.current) {\n      if (!renderIsScheduled.current) {\n        notifyNestedSubs();\n      }\n    } else {\n      lastChildProps.current = newChildProps;\n      childPropsFromStoreUpdate.current = newChildProps;\n      renderIsScheduled.current = true;\n      additionalSubscribeListener();\n    }\n  };\n  subscription.onStateChange = checkForUpdates;\n  subscription.trySubscribe();\n  checkForUpdates();\n  const unsubscribeWrapper = () => {\n    didUnsubscribe = true;\n    subscription.tryUnsubscribe();\n    subscription.onStateChange = null;\n    if (lastThrownError) {\n      throw lastThrownError;\n    }\n  };\n  return unsubscribeWrapper;\n}\nfunction strictEqual(a, b) {\n  return a === b;\n}\nvar hasWarnedAboutDeprecatedPureOption = false;\nfunction connect(mapStateToProps, mapDispatchToProps, mergeProps, {\n  // The `pure` option has been removed, so TS doesn't like us destructuring this to check its existence.\n  // @ts-ignore\n  pure,\n  areStatesEqual = strictEqual,\n  areOwnPropsEqual = shallowEqual,\n  areStatePropsEqual = shallowEqual,\n  areMergedPropsEqual = shallowEqual,\n  // use React's forwardRef to expose a ref of the wrapped component\n  forwardRef = false,\n  // the context consumer to use\n  context = ReactReduxContext\n} = {}) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (pure !== void 0 && !hasWarnedAboutDeprecatedPureOption) {\n      hasWarnedAboutDeprecatedPureOption = true;\n      warning(\n        'The `pure` option has been removed. `connect` is now always a \"pure/memoized\" component'\n      );\n    }\n  }\n  const Context = context;\n  const initMapStateToProps = mapStateToPropsFactory(mapStateToProps);\n  const initMapDispatchToProps = mapDispatchToPropsFactory(mapDispatchToProps);\n  const initMergeProps = mergePropsFactory(mergeProps);\n  const shouldHandleStateChanges = Boolean(mapStateToProps);\n  const wrapWithConnect = (WrappedComponent) => {\n    if (process.env.NODE_ENV !== \"production\") {\n      const isValid = /* @__PURE__ */ isValidElementType(WrappedComponent);\n      if (!isValid)\n        throw new Error(\n          `You must pass a component to the function returned by connect. Instead received ${stringifyComponent(\n            WrappedComponent\n          )}`\n        );\n    }\n    const wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    const displayName = `Connect(${wrappedComponentName})`;\n    const selectorFactoryOptions = {\n      shouldHandleStateChanges,\n      displayName,\n      wrappedComponentName,\n      WrappedComponent,\n      // @ts-ignore\n      initMapStateToProps,\n      initMapDispatchToProps,\n      initMergeProps,\n      areStatesEqual,\n      areStatePropsEqual,\n      areOwnPropsEqual,\n      areMergedPropsEqual\n    };\n    function ConnectFunction(props) {\n      const [propsContext, reactReduxForwardedRef, wrapperProps] = React.useMemo(() => {\n        const { reactReduxForwardedRef: reactReduxForwardedRef2, ...wrapperProps2 } = props;\n        return [props.context, reactReduxForwardedRef2, wrapperProps2];\n      }, [props]);\n      const ContextToUse = React.useMemo(() => {\n        let ResultContext = Context;\n        if (propsContext?.Consumer) {\n          if (process.env.NODE_ENV !== \"production\") {\n            const isValid = /* @__PURE__ */ isContextConsumer(\n              // @ts-ignore\n              /* @__PURE__ */ React.createElement(propsContext.Consumer, null)\n            );\n            if (!isValid) {\n              throw new Error(\n                \"You must pass a valid React context consumer as `props.context`\"\n              );\n            }\n            ResultContext = propsContext;\n          }\n        }\n        return ResultContext;\n      }, [propsContext, Context]);\n      const contextValue = React.useContext(ContextToUse);\n      const didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);\n      const didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);\n      if (process.env.NODE_ENV !== \"production\" && !didStoreComeFromProps && !didStoreComeFromContext) {\n        throw new Error(\n          `Could not find \"store\" in the context of \"${displayName}\". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to ${displayName} in connect options.`\n        );\n      }\n      const store = didStoreComeFromProps ? props.store : contextValue.store;\n      const getServerState = didStoreComeFromContext ? contextValue.getServerState : store.getState;\n      const childPropsSelector = React.useMemo(() => {\n        return finalPropsSelectorFactory(store.dispatch, selectorFactoryOptions);\n      }, [store]);\n      const [subscription, notifyNestedSubs] = React.useMemo(() => {\n        if (!shouldHandleStateChanges) return NO_SUBSCRIPTION_ARRAY;\n        const subscription2 = createSubscription(\n          store,\n          didStoreComeFromProps ? void 0 : contextValue.subscription\n        );\n        const notifyNestedSubs2 = subscription2.notifyNestedSubs.bind(subscription2);\n        return [subscription2, notifyNestedSubs2];\n      }, [store, didStoreComeFromProps, contextValue]);\n      const overriddenContextValue = React.useMemo(() => {\n        if (didStoreComeFromProps) {\n          return contextValue;\n        }\n        return {\n          ...contextValue,\n          subscription\n        };\n      }, [didStoreComeFromProps, contextValue, subscription]);\n      const lastChildProps = React.useRef(void 0);\n      const lastWrapperProps = React.useRef(wrapperProps);\n      const childPropsFromStoreUpdate = React.useRef(void 0);\n      const renderIsScheduled = React.useRef(false);\n      const isMounted = React.useRef(false);\n      const latestSubscriptionCallbackError = React.useRef(\n        void 0\n      );\n      useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n          isMounted.current = false;\n        };\n      }, []);\n      const actualChildPropsSelector = React.useMemo(() => {\n        const selector = () => {\n          if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {\n            return childPropsFromStoreUpdate.current;\n          }\n          return childPropsSelector(store.getState(), wrapperProps);\n        };\n        return selector;\n      }, [store, wrapperProps]);\n      const subscribeForReact = React.useMemo(() => {\n        const subscribe = (reactListener) => {\n          if (!subscription) {\n            return () => {\n            };\n          }\n          return subscribeUpdates(\n            shouldHandleStateChanges,\n            store,\n            subscription,\n            // @ts-ignore\n            childPropsSelector,\n            lastWrapperProps,\n            lastChildProps,\n            renderIsScheduled,\n            isMounted,\n            childPropsFromStoreUpdate,\n            notifyNestedSubs,\n            reactListener\n          );\n        };\n        return subscribe;\n      }, [subscription]);\n      useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [\n        lastWrapperProps,\n        lastChildProps,\n        renderIsScheduled,\n        wrapperProps,\n        childPropsFromStoreUpdate,\n        notifyNestedSubs\n      ]);\n      let actualChildProps;\n      try {\n        actualChildProps = React.useSyncExternalStore(\n          // TODO We're passing through a big wrapper that does a bunch of extra side effects besides subscribing\n          subscribeForReact,\n          // TODO This is incredibly hacky. We've already processed the store update and calculated new child props,\n          // TODO and we're just passing that through so it triggers a re-render for us rather than relying on `uSES`.\n          actualChildPropsSelector,\n          getServerState ? () => childPropsSelector(getServerState(), wrapperProps) : actualChildPropsSelector\n        );\n      } catch (err) {\n        if (latestSubscriptionCallbackError.current) {\n          ;\n          err.message += `\nThe error may be correlated with this previous error:\n${latestSubscriptionCallbackError.current.stack}\n\n`;\n        }\n        throw err;\n      }\n      useIsomorphicLayoutEffect(() => {\n        latestSubscriptionCallbackError.current = void 0;\n        childPropsFromStoreUpdate.current = void 0;\n        lastChildProps.current = actualChildProps;\n      });\n      const renderedWrappedComponent = React.useMemo(() => {\n        return (\n          // @ts-ignore\n          /* @__PURE__ */ React.createElement(\n            WrappedComponent,\n            {\n              ...actualChildProps,\n              ref: reactReduxForwardedRef\n            }\n          )\n        );\n      }, [reactReduxForwardedRef, WrappedComponent, actualChildProps]);\n      const renderedChild = React.useMemo(() => {\n        if (shouldHandleStateChanges) {\n          return /* @__PURE__ */ React.createElement(ContextToUse.Provider, { value: overriddenContextValue }, renderedWrappedComponent);\n        }\n        return renderedWrappedComponent;\n      }, [ContextToUse, renderedWrappedComponent, overriddenContextValue]);\n      return renderedChild;\n    }\n    const _Connect = React.memo(ConnectFunction);\n    const Connect = _Connect;\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.displayName = ConnectFunction.displayName = displayName;\n    if (forwardRef) {\n      const _forwarded = React.forwardRef(\n        function forwardConnectRef(props, ref) {\n          return /* @__PURE__ */ React.createElement(Connect, { ...props, reactReduxForwardedRef: ref });\n        }\n      );\n      const forwarded = _forwarded;\n      forwarded.displayName = displayName;\n      forwarded.WrappedComponent = WrappedComponent;\n      return /* @__PURE__ */ hoistNonReactStatics(forwarded, WrappedComponent);\n    }\n    return /* @__PURE__ */ hoistNonReactStatics(Connect, WrappedComponent);\n  };\n  return wrapWithConnect;\n}\nvar connect_default = connect;\n\n// src/components/Provider.tsx\nfunction Provider(providerProps) {\n  const { children, context, serverState, store } = providerProps;\n  const contextValue = React.useMemo(() => {\n    const subscription = createSubscription(store);\n    const baseContextValue = {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : void 0\n    };\n    if (process.env.NODE_ENV === \"production\") {\n      return baseContextValue;\n    } else {\n      const { identityFunctionCheck = \"once\", stabilityCheck = \"once\" } = providerProps;\n      return /* @__PURE__ */ Object.assign(baseContextValue, {\n        stabilityCheck,\n        identityFunctionCheck\n      });\n    }\n  }, [store, serverState]);\n  const previousState = React.useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const { subscription } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = void 0;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext;\n  return /* @__PURE__ */ React.createElement(Context.Provider, { value: contextValue }, children);\n}\nvar Provider_default = Provider;\n\n// src/hooks/useReduxContext.ts\nfunction createReduxContextHook(context = ReactReduxContext) {\n  return function useReduxContext2() {\n    const contextValue = React.useContext(context);\n    if (process.env.NODE_ENV !== \"production\" && !contextValue) {\n      throw new Error(\n        \"could not find react-redux context value; please ensure the component is wrapped in a <Provider>\"\n      );\n    }\n    return contextValue;\n  };\n}\nvar useReduxContext = /* @__PURE__ */ createReduxContextHook();\n\n// src/hooks/useStore.ts\nfunction createStoreHook(context = ReactReduxContext) {\n  const useReduxContext2 = context === ReactReduxContext ? useReduxContext : (\n    // @ts-ignore\n    createReduxContextHook(context)\n  );\n  const useStore2 = () => {\n    const { store } = useReduxContext2();\n    return store;\n  };\n  Object.assign(useStore2, {\n    withTypes: () => useStore2\n  });\n  return useStore2;\n}\nvar useStore = /* @__PURE__ */ createStoreHook();\n\n// src/hooks/useDispatch.ts\nfunction createDispatchHook(context = ReactReduxContext) {\n  const useStore2 = context === ReactReduxContext ? useStore : createStoreHook(context);\n  const useDispatch2 = () => {\n    const store = useStore2();\n    return store.dispatch;\n  };\n  Object.assign(useDispatch2, {\n    withTypes: () => useDispatch2\n  });\n  return useDispatch2;\n}\nvar useDispatch = /* @__PURE__ */ createDispatchHook();\n\n// src/hooks/useSelector.ts\nimport { useSyncExternalStoreWithSelector } from \"use-sync-external-store/with-selector.js\";\nvar refEquality = (a, b) => a === b;\nfunction createSelectorHook(context = ReactReduxContext) {\n  const useReduxContext2 = context === ReactReduxContext ? useReduxContext : createReduxContextHook(context);\n  const useSelector2 = (selector, equalityFnOrOptions = {}) => {\n    const { equalityFn = refEquality } = typeof equalityFnOrOptions === \"function\" ? { equalityFn: equalityFnOrOptions } : equalityFnOrOptions;\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!selector) {\n        throw new Error(`You must pass a selector to useSelector`);\n      }\n      if (typeof selector !== \"function\") {\n        throw new Error(`You must pass a function as a selector to useSelector`);\n      }\n      if (typeof equalityFn !== \"function\") {\n        throw new Error(\n          `You must pass a function as an equality function to useSelector`\n        );\n      }\n    }\n    const reduxContext = useReduxContext2();\n    const { store, subscription, getServerState } = reduxContext;\n    const firstRun = React.useRef(true);\n    const wrappedSelector = React.useCallback(\n      {\n        [selector.name](state) {\n          const selected = selector(state);\n          if (process.env.NODE_ENV !== \"production\") {\n            const { devModeChecks = {} } = typeof equalityFnOrOptions === \"function\" ? {} : equalityFnOrOptions;\n            const { identityFunctionCheck, stabilityCheck } = reduxContext;\n            const {\n              identityFunctionCheck: finalIdentityFunctionCheck,\n              stabilityCheck: finalStabilityCheck\n            } = {\n              stabilityCheck,\n              identityFunctionCheck,\n              ...devModeChecks\n            };\n            if (finalStabilityCheck === \"always\" || finalStabilityCheck === \"once\" && firstRun.current) {\n              const toCompare = selector(state);\n              if (!equalityFn(selected, toCompare)) {\n                let stack = void 0;\n                try {\n                  throw new Error();\n                } catch (e) {\n                  ;\n                  ({ stack } = e);\n                }\n                console.warn(\n                  \"Selector \" + (selector.name || \"unknown\") + \" returned a different result when called with the same parameters. This can lead to unnecessary rerenders.\\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization\",\n                  {\n                    state,\n                    selected,\n                    selected2: toCompare,\n                    stack\n                  }\n                );\n              }\n            }\n            if (finalIdentityFunctionCheck === \"always\" || finalIdentityFunctionCheck === \"once\" && firstRun.current) {\n              if (selected === state) {\n                let stack = void 0;\n                try {\n                  throw new Error();\n                } catch (e) {\n                  ;\n                  ({ stack } = e);\n                }\n                console.warn(\n                  \"Selector \" + (selector.name || \"unknown\") + \" returned the root state when called. This can lead to unnecessary rerenders.\\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.\",\n                  { stack }\n                );\n              }\n            }\n            if (firstRun.current) firstRun.current = false;\n          }\n          return selected;\n        }\n      }[selector.name],\n      [selector]\n    );\n    const selectedState = useSyncExternalStoreWithSelector(\n      subscription.addNestedSub,\n      store.getState,\n      getServerState || store.getState,\n      wrappedSelector,\n      equalityFn\n    );\n    React.useDebugValue(selectedState);\n    return selectedState;\n  };\n  Object.assign(useSelector2, {\n    withTypes: () => useSelector2\n  });\n  return useSelector2;\n}\nvar useSelector = /* @__PURE__ */ createSelectorHook();\n\n// src/exports.ts\nvar batch = defaultNoopBatch;\nexport {\n  Provider_default as Provider,\n  ReactReduxContext,\n  batch,\n  connect_default as connect,\n  createDispatchHook,\n  createSelectorHook,\n  createStoreHook,\n  shallowEqual,\n  useDispatch,\n  useSelector,\n  useStore\n};\n//# sourceMappingURL=react-redux.mjs.map","\"use client\";\nimport { updateDeviceTypeFromWidth } from \"@redux/Features/App/appSlice\";\nimport { RootState } from \"@redux/stores\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nexport const useDeviceType = () => {\n  const dispatch = useDispatch();\n  const deviceType = useSelector((state: RootState) => state.app.deviceType);\n\n  useEffect(() => {\n    // ì´ˆê¸° ë””ë°”ì´ìŠ¤ íƒ€ì… ì„¤ì •\n    const updateDeviceType = () => {\n      dispatch(updateDeviceTypeFromWidth(window.innerWidth));\n    };\n\n    // ì´ˆê¸° ì„¤ì •\n    updateDeviceType();\n\n    // ë¦¬ì‚¬ì´ì¦ˆ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€\n    window.addEventListener(\"resize\", updateDeviceType);\n\n    // í´ë¦°ì—…\n    return () => {\n      window.removeEventListener(\"resize\", updateDeviceType);\n    };\n  }, [dispatch]);\n\n  // í¸ì˜ í•¨ìˆ˜ë“¤\n  const isMobile = deviceType === \"mobile\";\n  const isTablet = deviceType === \"tablet\";\n  const isDesktop = deviceType === \"desktop\";\n  const isMobileOrTablet = deviceType === \"mobile\" || deviceType === \"tablet\";\n\n  return {\n    deviceType,\n    isMobile,\n    isTablet,\n    isDesktop,\n    isMobileOrTablet,\n  };\n}; ","import {\n  hideAllLoaders,\n  hideLoading,\n  hideMiniLoading,\n  selectUIState,\n  setLoadingText,\n  setMiniLoadingText,\n  showLoading,\n  showMiniLoading\n} from \"@redux/Features/UI/uiSlice\";\nimport { useCallback } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"./index\";\n\nexport const useGlobalLoader = () => {\n  const dispatch = useAppDispatch();\n  const { isAutoTransitioned } = useAppSelector(selectUIState);\n\n  // ê¸°ë³¸ ë¡œë” (ë¯¸ë‹ˆë¡œë” ì‚¬ìš©) - ê²Œì‹œê¸€ ì‘ì„± ì™¸ ëª¨ë“  ìƒí™©ì—ì„œ ì‚¬ìš©\n  const showLoader = useCallback((text?: string) => {\n    dispatch(showMiniLoading(text));\n  }, [dispatch]);\n\n  const hideLoader = useCallback(() => {\n    dispatch(hideMiniLoading());\n  }, [dispatch]);\n\n  const setLoaderText = useCallback((text?: string) => {\n    dispatch(setMiniLoadingText(text));\n  }, [dispatch]);\n\n  const withLoader = useCallback(\n    async <T>(asyncFn: () => Promise<T>): Promise<T> => {\n      try {\n        showLoader();\n        const result = await asyncFn();\n        return result;\n      } finally {\n        hideLoader();\n      }\n    },\n    [showLoader, hideLoader]\n  );\n\n  // ê²Œì‹œê¸€ ì‘ì„±ìš© í’€ìŠ¤í¬ë¦° ë¡œë”\n  const showPostLoader = useCallback((text?: string) => {\n    dispatch(showLoading(text));\n  }, [dispatch]);\n\n  const hidePostLoader = useCallback(() => {\n    // ìë™ ì „í™˜ëœ ê²½ìš° ëª¨ë“  ë¡œë”ë¥¼ ì¢…ë£Œ\n    if (isAutoTransitioned) {\n      dispatch(hideAllLoaders());\n    } else {\n      dispatch(hideLoading());\n    }\n  }, [dispatch, isAutoTransitioned]);\n\n  const setPostLoaderText = useCallback((text?: string) => {\n    dispatch(setLoadingText(text));\n  }, [dispatch]);\n\n  const withPostLoader = useCallback(\n    async <T>(asyncFn: () => Promise<T>): Promise<T> => {\n      try {\n        showPostLoader();\n        const result = await asyncFn();\n        return result;\n      } finally {\n        hidePostLoader();\n      }\n    },\n    [showPostLoader, hidePostLoader]\n  );\n\n  // Mini ë¡œë” ê´€ë ¨ í•¨ìˆ˜ë“¤ (ì§ì ‘ ì‚¬ìš©í•  ë•Œ)\n  const showMiniLoader = useCallback((text?: string) => {\n    dispatch(showMiniLoading(text));\n  }, [dispatch]);\n\n  const hideMiniLoader = useCallback(() => {\n    dispatch(hideMiniLoading());\n  }, [dispatch]);\n\n  const setMiniLoaderText = useCallback((text?: string) => {\n    dispatch(setMiniLoadingText(text));\n  }, [dispatch]);\n\n  const withMiniLoader = useCallback(\n    async <T>(asyncFn: () => Promise<T>): Promise<T> => {\n      try {\n        showMiniLoader();\n        const result = await asyncFn();\n        return result;\n      } finally {\n        hideMiniLoader();\n      }\n    },\n    [showMiniLoader, hideMiniLoader]\n  );\n\n  return {\n    // ê¸°ë³¸ ë¡œë” (ì´ì œ ë¯¸ë‹ˆë¡œë” ì‚¬ìš©) - ê²Œì‹œê¸€ ì‘ì„± ì™¸ ëª¨ë“  ìƒí™©\n    showLoader,\n    hideLoader,\n    withLoader,\n    setLoaderText,\n    \n    // ê²Œì‹œê¸€ ì‘ì„±ìš© í’€ìŠ¤í¬ë¦° ë¡œë”\n    showPostLoader,\n    hidePostLoader,\n    withPostLoader,\n    setPostLoaderText,\n    \n    // ì§ì ‘ ë¯¸ë‹ˆ ë¡œë” ì œì–´\n    showMiniLoader,\n    hideMiniLoader,\n    withMiniLoader,\n    setMiniLoaderText,\n  };\n}; ","\"use client\";\nimport { useRouter as useNextRouter, usePathname } from \"next/navigation\";\nimport { useCallback, useEffect } from \"react\";\nimport { useGlobalLoader } from \"./useGlobalLoader\";\n\nexport const useRouterWithLoader = () => {\n  const router = useNextRouter();\n  const pathname = usePathname();\n  const { showMiniLoader, hideMiniLoader } = useGlobalLoader();\n\n  // í˜ì´ì§€ ì´ë™ ì™„ë£Œ ì‹œ ë¡œë” ìˆ¨ê¸°ê¸°\n  useEffect(() => {\n    // pathnameì´ ë³€ê²½ë˜ë©´ ë¡œë”ë¥¼ ìˆ¨ê¹€\n    hideMiniLoader();\n  }, [pathname, hideMiniLoader]);\n\n  // ê²½ë¡œ ë¹„êµ ë° ì™¸ë¶€ ë„ë©”ì¸ ì²´í¬ í•¨ìˆ˜\n  const shouldShowLoader = useCallback((href: string): boolean => {\n    try {\n      let targetPath: string;\n      let isExternalDomain = false;\n\n      // ì ˆëŒ€ URLì¸ ê²½ìš°\n      if (href.startsWith('http')) {\n        const targetUrl = new URL(href);\n        const currentDomain = window.location.hostname;\n        \n        // ì™¸ë¶€ ë„ë©”ì¸ì¸ì§€ í™•ì¸\n        isExternalDomain = targetUrl.hostname !== currentDomain;\n        targetPath = targetUrl.pathname;\n      } \n      // ìƒëŒ€ URLì¸ ê²½ìš°\n      else {\n        targetPath = href.split('?')[0].split('#')[0]; // ì¿¼ë¦¬íŒŒë¼ë¯¸í„°ì™€ í•´ì‹œ ì œê±°\n      }\n      \n      // ì™¸ë¶€ ë„ë©”ì¸ì´ê±°ë‚˜ í˜„ì¬ ê²½ë¡œì™€ ê°™ì€ ê²½ìš° ë¡œë” í‘œì‹œí•˜ì§€ ì•ŠìŒ\n      if (isExternalDomain || targetPath === pathname) {\n        return false;\n      }\n      \n      return true;\n    } catch {\n      // URL íŒŒì‹± ì‹¤íŒ¨ ì‹œ - ì™¸ë¶€ ë§í¬ê°€ ì•„ë‹Œ ê²½ìš°ì—ë§Œ ë¡œë” í‘œì‹œ\n      return !href.startsWith('http');\n    }\n  }, [pathname]);\n\n  // router.pushë¥¼ ë˜í•‘í•˜ì—¬ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ë¡œë”ë¥¼ í‘œì‹œ\n  const push = useCallback(\n    (href: string, options?: { scroll?: boolean }) => {\n      if (shouldShowLoader(href)) {\n        showMiniLoader(\"í˜ì´ì§€ë¥¼ ì´ë™í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤.\");\n      }\n      return router.push(href, options);\n    },\n    [router, showMiniLoader, shouldShowLoader]\n  );\n\n  // router.replaceë¥¼ ë˜í•‘í•˜ì—¬ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ë¡œë”ë¥¼ í‘œì‹œ\n  const replace = useCallback(\n    (href: string, options?: { scroll?: boolean }) => {\n      if (shouldShowLoader(href)) {\n        showMiniLoader(\"í˜ì´ì§€ë¥¼ ì´ë™í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤.\");\n      }\n      return router.replace(href, options);\n    },\n    [router, showMiniLoader, shouldShowLoader]\n  );\n\n  // ë‹¤ë¥¸ router ë©”ì„œë“œë“¤ì€ ê·¸ëŒ€ë¡œ ì „ë‹¬\n  return {\n    ...router,\n    push,\n    replace,\n  };\n};\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport type { AppDispatch, RootState } from \"@redux/stores\";\nimport userService from \"@services/userService\";\nimport { debounce, throttle } from \"lodash\";\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\n// import { geohashForLocation } from 'geofire-common';\n// import Geocode from '@config/Geocode';\n// import type { GeoLocation } from '@model/Shop';\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const useDebounce = (lazyFn: any) => {\n  return debounce(lazyFn, 200);\n};\n\nexport const useThrottle = (lazyFn: (...args: unknown[]) => void) => {\n  return throttle(lazyFn, 200);\n};\n\nexport const useImageUpload = () => {\n  const uploadPreviewImage = (\n    e: React.ChangeEvent<HTMLInputElement>,\n    lazyFn?: ({\n      file,\n      result,\n    }: {\n      file: File;\n      result: string | ArrayBuffer | null;\n    }) => void\n  ) => {\n    if (e.currentTarget.files) {\n      const file = e.currentTarget.files[0];\n      const reader = new FileReader();\n      reader.onload = () => {\n        const { result } = reader;\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n        lazyFn && lazyFn({ file, result });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return { uploadPreviewImage };\n};\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nexport const getRealtimeUser = async (): Promise<string> => {\n  const res = await userService.getRealtimeUser();\n\n  if (res.successOrNot === \"N\") {\n    return \"0\";\n  }\n  return res.data || \"0\";\n};\n\nexport { useDeviceType } from \"./useDeviceType\";\nexport { useGlobalLoader } from './useGlobalLoader';\nexport { useGlobalPopup } from './useGlobalPopup';\nexport { useNavigation } from './useNavigation';\nexport { usePermission } from './usePermission';\nexport { useRouterWithLoader } from './useRouterWithLoader';\nexport { useSafeGlobalLoader } from './useSafeGlobalLoader';\n\n","import { AuthChangeEvent, createClient } from \"@supabase/supabase-js\";\n\nfunction createClientSupabase() {\n  const client = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      auth: {\n        persistSession: true,\n        autoRefreshToken: true,\n        detectSessionInUrl: true,\n        storageKey: \"sb-access-token\",\n        storage: {\n          getItem: (key: string) => {\n            if (typeof window === \"undefined\") return null;\n\n            try {\n              const value = document.cookie\n                .split(\"; \")\n                .find((row) => row.startsWith(`${key}=`))\n                ?.split(\"=\")[1];\n\n              if (!value) {\n                return null;\n              }\n\n              const decodedValue = decodeURIComponent(value);\n              \n              // í† í° ìœ íš¨ì„± ê²€ì¦ (ë§Œë£Œëœ í† í° ìë™ ì •ë¦¬)\n              try {\n                const sessionData = JSON.parse(decodedValue);\n                if (sessionData?.access_token) {\n                  // ë™ì  importë¡œ ìˆœí™˜ ì°¸ì¡° ë°©ì§€\n                  import('../../utils/jwtUtil').then(({ decodeJWTPayload, isTokenExpired, removeExpiredTokenFromCookie }) => {\n                    const payload = decodeJWTPayload(sessionData.access_token);\n                    if (payload && isTokenExpired(payload)) {\n                      console.log('ğŸ—‘ï¸ í´ë¼ì´ì–¸íŠ¸ Storage: ë§Œë£Œëœ í† í° ê°ì§€, ì •ë¦¬ ì¤‘...');\n                      removeExpiredTokenFromCookie(key);\n                    }\n                  });\n                }\n              } catch (parseError) {\n                // JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ë¡œê·¸ë§Œ ë‚¨ê¸°ê³  ì›ë³¸ ë°˜í™˜\n                console.warn('í´ë¼ì´ì–¸íŠ¸ Storage: ì„¸ì…˜ ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', parseError);\n              }\n              \n              return decodedValue;\n            } catch (error) {\n              console.error(\"âŒ í´ë¼ì´ì–¸íŠ¸: ì¿ í‚¤ ì½ê¸° ì‹¤íŒ¨:\", error);\n              return null;\n            }\n          },\n\n          setItem: (key: string, value: string) => {\n            if (typeof window === \"undefined\") return;\n\n            try {\n              // ì„¸ì…˜ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬\n              const sessionData = JSON.parse(value);\n              if (!sessionData.access_token) {\n                // console.warn(\"âš ï¸  í´ë¼ì´ì–¸íŠ¸: access_tokenì´ ì—†ëŠ” ì„¸ì…˜ ë°ì´í„°\");\n                return;\n              }\n\n              const encodedValue = encodeURIComponent(value);\n              \n              // ì¿ í‚¤ ì„¤ì • (30ì¼ ìœ íš¨)\n              const expires = new Date();\n              expires.setDate(expires.getDate() + 30);\n              \n              document.cookie = `${key}=${encodedValue}; expires=${expires.toUTCString()}; path=/; SameSite=Lax; Secure`;\n              \n              // console.log(\"ğŸ’¾ í´ë¼ì´ì–¸íŠ¸: ì„¸ì…˜ ì •ë³´ ì¿ í‚¤ ì €ì¥ ì„±ê³µ\");\n              // console.log(\"ğŸ”‘ í´ë¼ì´ì–¸íŠ¸: access_token ì¡´ì¬:\", !!sessionData.access_token);\n              // console.log(\"ğŸ‘¤ í´ë¼ì´ì–¸íŠ¸: ì‚¬ìš©ì ì •ë³´:\", sessionData.user?.email);\n            } catch (error) {\n              // console.error(\"âŒ í´ë¼ì´ì–¸íŠ¸: ì¿ í‚¤ ì €ì¥ ì‹¤íŒ¨:\", error);\n            }\n          },\n\n          removeItem: (key: string) => {\n            if (typeof window === \"undefined\") return;\n\n            try {\n              document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n              // console.log(\"ğŸ—‘ï¸  í´ë¼ì´ì–¸íŠ¸: ì¿ í‚¤ ì‚­ì œ ì™„ë£Œ\");\n            } catch (error) {\n              // console.error(\"âŒ í´ë¼ì´ì–¸íŠ¸: ì¿ í‚¤ ì‚­ì œ ì‹¤íŒ¨:\", error);\n            }\n          },\n        },\n      },\n    }\n  );\n\n  // ì„¸ì…˜ ìƒíƒœ ë³€ê²½ ê°ì§€ ë° ì²˜ë¦¬\n  if (typeof window !== \"undefined\") {\n    let isHandlingSignOut = false;  // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ ì¤‘ë³µ ë°©ì§€ í”Œë˜ê·¸\n\n    client.auth.onAuthStateChange((event: AuthChangeEvent, session) => {\n      // console.log(\"ğŸ”„ í´ë¼ì´ì–¸íŠ¸: ì¸ì¦ ìƒíƒœ ë³€ê²½:\", event);\n      \n      switch (event) {\n        case \"SIGNED_OUT\":\n          if (!isHandlingSignOut) {\n            isHandlingSignOut = true;\n            // ì¿ í‚¤ ë° ë¡œì»¬ ìƒíƒœ ì •ë¦¬\n            client.auth.getSession().then(() => {\n              isHandlingSignOut = false;\n            });\n          }\n          break;\n          \n        case \"TOKEN_REFRESHED\":\n          if (session) {\n            // console.log(\"ğŸ”„ í´ë¼ì´ì–¸íŠ¸: í† í° ê°±ì‹ ë¨\");\n            // í•„ìš”í•œ ê²½ìš° ì¶”ê°€ ì²˜ë¦¬\n          }\n          break;\n          \n        case \"USER_UPDATED\":\n          if (!session) {\n            // ì„¸ì…˜ì´ ì—†ëŠ” ê²½ìš°ì—ë§Œ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬\n            if (!isHandlingSignOut) {\n              isHandlingSignOut = true;\n              client.auth.signOut().then(() => {\n                isHandlingSignOut = false;\n              });\n            }\n          }\n          break;\n      }\n    });\n  }\n\n  return client;\n}\n\nexport const clientSupabase = createClientSupabase();\n","/**\n * Avatar Component\n * \n * User avatar component with fallback support and multiple sizes.\n * Integrates with community platform user system and image optimization.\n */\n\nimport React, { useState } from 'react';\nimport { normalizeImageSrc } from '../../../utils/imageUtil';\n\nexport interface AvatarProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n  /** User's display name for fallback text */\n  name?: string;\n  \n  /** Avatar size */\n  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n  \n  /** Show online status indicator */\n  status?: 'online' | 'offline' | 'away' | 'busy';\n  \n  /** Make avatar square instead of circular */\n  square?: boolean;\n}\n\n/**\n * Avatar component for user profile pictures\n * \n * @example\n * ```tsx\n * import { Avatar } from '@semicolon/community-core';\n * \n * // Basic usage\n * <Avatar src=\"/avatar.jpg\" name=\"ê¹€ì² ìˆ˜\" />\n * \n * // With status indicator\n * <Avatar \n *   src=\"/avatar.jpg\" \n *   name=\"ê¹€ì² ìˆ˜\" \n *   status=\"online\"\n *   size=\"lg\" \n * />\n * \n * // Square avatar for brand logos\n * <Avatar src=\"/logo.jpg\" name=\"Company\" square />\n * ```\n */\nexport const Avatar: React.FC<AvatarProps> = ({\n  src,\n  name = '',\n  size = 'md',\n  status,\n  square = false,\n  className = '',\n  alt,\n  ...props\n}) => {\n  const [imageError, setImageError] = useState(false);\n  const [imageLoaded, setImageLoaded] = useState(false);\n\n  // Size classes\n  const sizeClasses = {\n    xs: 'w-6 h-6 text-xs',\n    sm: 'w-8 h-8 text-sm',\n    md: 'w-10 h-10 text-base',\n    lg: 'w-12 h-12 text-lg',\n    xl: 'w-14 h-14 text-xl',\n    '2xl': 'w-16 h-16 text-2xl'\n  };\n\n  // Status indicator classes\n  const statusClasses = {\n    online: 'bg-green-400',\n    offline: 'bg-gray-400',\n    away: 'bg-yellow-400',\n    busy: 'bg-red-400'\n  };\n\n  // Status indicator size based on avatar size\n  const statusSizeClasses = {\n    xs: 'w-1.5 h-1.5',\n    sm: 'w-2 h-2',\n    md: 'w-2.5 h-2.5',\n    lg: 'w-3 h-3',\n    xl: 'w-3.5 h-3.5',\n    '2xl': 'w-4 h-4'\n  };\n\n  // Base classes\n  const baseClasses = [\n    'inline-block relative',\n    square ? 'rounded-lg' : 'rounded-full',\n    'bg-gray-100 overflow-hidden',\n    'ring-2 ring-white',\n    sizeClasses[size]\n  ];\n\n  // Generate fallback initials from name\n  const getInitials = (name: string): string => {\n    return name\n      .split(' ')\n      .map(part => part.charAt(0).toUpperCase())\n      .join('')\n      .slice(0, 2);\n  };\n\n  // Handle image load error\n  const handleImageError = () => {\n    setImageError(true);\n  };\n\n  const handleImageLoad = () => {\n    setImageLoaded(true);\n  };\n\n  // Optimize image src\n  const optimizedSrc = src ? normalizeImageSrc(src) : undefined;\n\n  // Combine classes\n  const avatarClasses = [...baseClasses, className].filter(Boolean).join(' ');\n\n  return (\n    <div className={avatarClasses}>\n      {optimizedSrc && !imageError ? (\n        <img\n          src={optimizedSrc}\n          alt={alt || name}\n          className=\"w-full h-full object-cover\"\n          onError={handleImageError}\n          onLoad={handleImageLoad}\n          {...props}\n        />\n      ) : (\n        // Fallback with initials\n        <div className=\"w-full h-full flex items-center justify-center bg-gray-300 text-gray-600 font-medium\">\n          {getInitials(name) || '?'}\n        </div>\n      )}\n      \n      {/* Status indicator */}\n      {status && (\n        <span \n          className={`absolute bottom-0 right-0 block ${statusSizeClasses[size]} ${statusClasses[status]} rounded-full ring-2 ring-white`}\n          title={`Status: ${status}`}\n          aria-label={`User status: ${status}`}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Avatar;","// @semicolon/community-core v1.0.0\n// Community platform core components and utilities\n\n// =============================================================================\n// MAIN EXPORTS - Most commonly used items\n// =============================================================================\n\n// Essential Utilities (most frequently used)\nexport { formatNumberWithComma } from './utils/numberUtil';\nexport { formatDate, timeAgo } from './utils/dateUtil';\nexport { isAdmin } from './utils/authUtil';\n\n// Core Types (essential for TypeScript users)\nexport type { User } from './types/User';\nexport type { CommonResponse } from './types/common';\n\n// =============================================================================\n// CATEGORY EXPORTS - Organized by domain\n// =============================================================================\n\n// All utilities\nexport * as Utils from './utils';\n\n// All types (commented out due to build complexity)\n// export * as Types from './types';\n\n// Constants will be added in Phase 2\n// export * as Constants from './constants';\n\n// =============================================================================\n// INITIALIZATION\n// =============================================================================\n\n// Package initialization function\nexport { initializeCommunityCore } from './config/init';\n\n// Configuration utilities\nexport { getPackageConfig } from './config/init';\n\n// =============================================================================\n// COMPONENT EXPORTS - New design system components\n// =============================================================================\n\n// Essential components (Phase 1)\nexport { Button, Badge, Avatar } from './components/atoms';\nexport type { ButtonProps, BadgeProps, AvatarProps } from './components/atoms';\n\n// Phase 2.1 Form Components\nexport { \n  Input, \n  Select, \n  Checkbox, \n  Radio, \n  Switch, \n  TextArea \n} from './components/atoms';\nexport type { \n  InputProps, \n  SelectProps, \n  SelectOption,\n  CheckboxProps, \n  RadioProps, \n  SwitchProps, \n  TextAreaProps \n} from './components/atoms';\n\n// Phase 2.2 Loading & Feedback Components\nexport {\n  Skeleton,\n  SkeletonText,\n  SkeletonAvatar,\n  SkeletonButton,\n  SkeletonCard\n} from './components/atoms';\nexport type { SkeletonProps } from './components/atoms';\n\n// =============================================================================  \n// SERVICE LAYER EXPORTS - Phase 2 Complete\n// =============================================================================\n\n// Service Classes (Modern API)\nexport { \n  BaseService, \n  UserService, \n  PostService, \n  BoardService,\n  AuthService,\n  PermissionService\n} from './services';\n\n// Legacy Service Objects (backward compatibility)\nexport {\n  baseService,\n  userService, \n  postService,\n  boardService,\n  authService,\n  permissionService\n} from './services';\n\n// Service Types\nexport type {\n  RequestOptions,\n  HttpMethod,\n  UserServiceOptions,\n  UserPermission,\n  UserUpdateData,\n  UserSearchOptions,\n  PostServiceOptions,\n  PostListOptions,\n  PostCreateData,\n  PostUpdateData,\n  PostDownloadHistory,\n  DraftPostRequest,\n  DraftPostResponse,\n  AsyncUploadConfig,\n  UploadStartResponse,\n  UploadProgressResponse,\n  BoardServiceOptions,\n  BoardListOptions,\n  BoardCreateData,\n  BoardUpdateData,\n  BoardCategoryCreateData,\n  BoardStats,\n  AuthServiceOptions,\n  LoginCredentials,\n  RegisterData,\n  AuthTokens,\n  AuthResponse,\n  PasswordResetData,\n  PasswordChangeData,\n  SessionInfo,\n  PermissionServiceOptions,\n  PermissionCheck,\n  PermissionResult,\n  UserPermissions,\n  LevelInfo,\n  RoleInfo,\n  PermissionGrant\n} from './services';\n\n// =============================================================================\n// HOOKS LAYER EXPORTS - Phase 3 Complete âœ…\n// =============================================================================\n\n// Authentication & State Management Hooks\nexport { useAuth } from './hooks/User/useAuth';\nexport { useGlobalLoader } from './hooks/common/useGlobalLoader';\nexport { usePermission } from './hooks/common/usePermission';\nexport { useAuthGuard } from './hooks/common/useAuthGuard';\n\n// React Query Data Fetching Hooks\nexport { useUserPointQuery, useUserPointHistoryQuery } from './hooks/queries/useUserQuery';\nexport { usePostQuery, usePostBookmarkQuery, useDraftPostQuery } from './hooks/queries/usePostQuery';\nexport { useBoardQuery } from './hooks/queries/useBoardQuery';\nexport { useCommentQuery } from './hooks/queries/useCommentQuery';\n\n// Common Utility Hooks\nexport { useDeviceType } from './hooks/common/useDeviceType';\nexport { useRouterWithLoader } from './hooks/common/useRouterWithLoader';\n\n// =============================================================================\n// DEVELOPMENT EXPORTS - Available but not prominently featured\n// =============================================================================\n\n// Full category exports (for advanced usage) - commented out to reduce build warnings\n// export * as Components from './components';  // All components (legacy + new)\n// export * as Hooks from './hooks';         // Phase 3\n// export * as Services from './services';   // Completed in Phase 2\n\n// =============================================================================\n// VERSION INFO\n// =============================================================================\nexport const VERSION = '1.3.0';\nexport const PACKAGE_NAME = '@team-semicolon/community-core';","\"use client\";\n\nimport { useAppDispatch, useAppSelector } from \"@hooks/common\";\nimport { useGlobalLoader } from \"@hooks/common/useGlobalLoader\";\nimport { useRouterWithLoader } from \"@hooks/common/useRouterWithLoader\";\nimport { showToast } from \"@redux/Features/Toast/toastSlice\";\nimport type { LoginFormData } from \"@redux/Features/User/userSlice\";\nimport { autoLogin, login, logout, selectUserInfo } from \"@redux/Features/User/userSlice\";\nimport { useCallback } from \"react\";\n\nexport const useAuth = () => {\n  const dispatch = useAppDispatch();\n  const userState = useAppSelector(selectUserInfo);\n  const { withLoader, showLoader, hideLoader } = useGlobalLoader();\n  const router = useRouterWithLoader();\n\n  // ë¡œë”©ê³¼ í•¨ê»˜ ë¡œê·¸ì¸ ì²˜ë¦¬\n  const loginWithLoader = useCallback(async (loginData: LoginFormData) => {\n    return withLoader(async () => {\n      const result = await dispatch(login(loginData));\n      \n      if (login.fulfilled.match(result)) {\n        dispatch(showToast({\n          title: \"ë¡œê·¸ì¸ ì„±ê³µ\",\n          content: `í™˜ì˜í•©ë‹ˆë‹¤, ${result.payload.nickname}ë‹˜!`,\n          headerTextColor: \"text-green-500\",\n        }));\n        return { success: true, user: result.payload };\n      } else {\n        const errorMessage = result.payload?.result || \"ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\";\n        dispatch(showToast({\n          title: \"ë¡œê·¸ì¸ ì‹¤íŒ¨\",\n          content: errorMessage,\n          headerTextColor: \"text-red-500\",\n        }));\n        return { success: false, error: errorMessage };\n      }\n    });\n  }, [dispatch, withLoader]);\n\n  // ë¡œë”©ê³¼ í•¨ê»˜ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬\n  const logoutWithLoader = useCallback(async () => {\n    return withLoader(async () => {\n      const result = await dispatch(logout());\n      \n      if (logout.fulfilled.match(result)) {\n        dispatch(showToast({\n          title: \"ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ\",\n          content: \"ì•ˆì „í•˜ê²Œ ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.\",\n          headerTextColor: \"text-blue-500\",\n        }));\n        \n        // ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™\n        router.push(\"/\");\n        return { success: true };\n      } else {\n        const errorMessage = result.payload?.result || \"ë¡œê·¸ì•„ì›ƒì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\";\n        dispatch(showToast({\n          title: \"ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨\",\n          content: errorMessage,\n          headerTextColor: \"text-red-500\",\n        }));\n        return { success: false, error: errorMessage };\n      }\n    });\n  }, [dispatch, withLoader, router]);\n\n  // ìë™ ë¡œê·¸ì¸ (ì´ˆê¸°í™” ì‹œ)\n  const initializeAuth = useCallback(async () => {\n    try {\n      showLoader(\"ì¸ì¦ ì •ë³´ë¥¼ í™•ì¸í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...\");\n      const result = await dispatch(autoLogin());\n      \n      if (autoLogin.fulfilled.match(result)) {\n        // console.log(\"ìë™ ë¡œê·¸ì¸ ì„±ê³µ:\", result.payload.nickname);\n        return { success: true, user: result.payload };\n      } else {\n        // console.log(\"ìë™ ë¡œê·¸ì¸ ì‹¤íŒ¨ ë˜ëŠ” ì„¸ì…˜ ì—†ìŒ\");\n        return { success: false, error: result.payload?.result };\n      }\n    } finally {\n      hideLoader();\n    }\n  }, [dispatch, showLoader, hideLoader]);\n\n  // ì„¸ì…˜ ìƒíƒœ í™•ì¸ (ìˆ˜ë™ í˜¸ì¶œìš©)\n  const checkSession = useCallback(async () => {\n    try {\n      const { getCurrentUserFromToken, isTokenExpired } = await import(\"@util/jwtUtil\");\n      const tokenPayload = await getCurrentUserFromToken();\n      \n      if (!tokenPayload) {\n        return { valid: false, reason: \"NO_TOKEN\" };\n      }\n      \n      if (isTokenExpired(tokenPayload)) {\n        return { valid: false, reason: \"EXPIRED\" };\n      }\n      \n      return { valid: true, user: tokenPayload };\n    } catch (error) {\n      console.error(\"ì„¸ì…˜ í™•ì¸ ì‹¤íŒ¨:\", error);\n      return { valid: false, reason: \"ERROR\" };\n    }\n  }, []);\n\n  // ê¶Œí•œ ì²´í¬ì™€ í•¨ê»˜ í˜ì´ì§€ ì´ë™\n  const navigateWithAuth = useCallback(async (\n    path: string, \n    requiredLevel?: number,\n    adminOnly?: boolean\n  ) => {\n    const sessionCheck = await checkSession();\n    \n    if (!sessionCheck.valid) {\n      dispatch(showToast({\n        title: \"ë¡œê·¸ì¸ í•„ìš”\",\n        content: \"ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.\",\n        headerTextColor: \"text-orange-500\",\n      }));\n      return false;\n    }\n\n    // ê¶Œí•œ ì²´í¬ ë¡œì§ ì¶”ê°€ ê°€ëŠ¥\n    if (adminOnly && sessionCheck.user && !sessionCheck.user.is_admin) {\n      dispatch(showToast({\n        title: \"ê¶Œí•œ ë¶€ì¡±\",\n        content: \"ê´€ë¦¬ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\",\n        headerTextColor: \"text-red-500\",\n      }));\n      return false;\n    }\n\n    router.push(path);\n    return true;\n  }, [checkSession, dispatch, router]);\n\n  return {\n    // ìƒíƒœ\n    userState,\n    isLoggedIn: userState.isLoggedIn,\n    user: userState.userInfo,\n    error: userState.error,\n    \n    // ì•¡ì…˜ë“¤\n    loginWithLoader,\n    logoutWithLoader,\n    initializeAuth,\n    checkSession,\n    navigateWithAuth,\n    \n    // í¸ì˜ í•¨ìˆ˜ë“¤\n    isAdmin: () => \n      (userState.userInfo?.permissionType === 'admin' || \n      userState.userInfo?.permissionType === 'super_admin') &&\n      (userState.userInfo?.level ?? 0) >= 99,\n    isUser: () => userState.isLoggedIn && userState.userInfo,\n  };\n}; ","'use client';\n\nimport { useAppSelector } from '@hooks/common';\nimport type { AuthErrorType } from '@organisms/AuthErrorHandler';\nimport { selectUserInfo } from '@redux/Features/User/userSlice';\nimport {\n  hasBoardPermission,\n  hasLevelPermission,\n  isAdmin,\n} from '@util/authUtil';\nimport { getCurrentUserFromToken, isTokenExpired } from '@util/jwtUtil';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nexport interface AuthGuardOptions {\n  requiredLevel?: number;\n  adminOnly?: boolean;\n  boardPermissions?: {\n    writeLevel?: number;\n    readLevel?: number;\n  };\n  redirectOnError?: string;\n  showToastOnError?: boolean;\n}\n\nexport interface AuthGuardResult {\n  isAuthenticated: boolean;\n  hasPermission: boolean;\n  isLoading: boolean;\n  user: any;\n  errorType: AuthErrorType | null;\n  checkPermissionAsync: () => Promise<boolean>;\n}\n\nexport const useAuthGuard = (\n  options: AuthGuardOptions = {}\n): AuthGuardResult => {\n  const userState = useAppSelector(selectUserInfo);\n  const { userInfo, isLoggedIn } = userState;\n  const [isLoading, setIsLoading] = useState(true);\n  const [errorType, setErrorType] = useState<AuthErrorType | null>(null);\n  const [tokenUser, setTokenUser] = useState<any>(null);\n\n  // ë¬´í•œ ì¬ì‹¤í–‰ ë°©ì§€ë¥¼ ìœ„í•œ ref\n  const isCheckingRef = useRef(false);\n  const lastTokenUserRef = useRef<string | null>(null);\n\n  // JWT í† í° ê¸°ë°˜ ì¸ì¦ ìƒíƒœ í™•ì¸ ë° ìë™ ì •ë¦¬\n  const checkTokenAuth = useCallback(async () => {\n    try {\n      // í† í° ìœ íš¨ì„± ê²€ì¦ ë° ìë™ ì •ë¦¬ í•¨ìˆ˜ ì‚¬ìš©\n      const { validateAndCleanToken } = await import('@util/jwtUtil');\n      const tokenPayload = await validateAndCleanToken();\n\n      if (!tokenPayload) {\n        setErrorType('LOGIN_REQUIRED');\n        return false;\n      }\n\n      // í† í° ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ë³€ê²½ëœ ê²½ìš°ì—ë§Œ ìƒíƒœ ì—…ë°ì´íŠ¸\n      const tokenUserString = JSON.stringify(tokenPayload);\n      if (lastTokenUserRef.current !== tokenUserString) {\n        lastTokenUserRef.current = tokenUserString;\n        setTokenUser(tokenPayload);\n      }\n\n      return true;\n    } catch (error) {\n      console.error('í† í° ì¸ì¦ í™•ì¸ ì‹¤íŒ¨:', error);\n      setErrorType('TOKEN_INVALID');\n      \n      // ì˜¤ë¥˜ ì‹œì—ë„ ë§Œë£Œëœ í† í° ì •ë¦¬\n      const { removeExpiredTokenFromCookie } = await import('@util/jwtUtil');\n      removeExpiredTokenFromCookie();\n      return false;\n    }\n  }, []);\n\n  // ê¶Œí•œ ì²´í¬ ë¡œì§ - Redux store ì •ë³´ ìš°ì„  ì‚¬ìš©\n  const checkPermissions = useCallback(\n    (user: any) => {\n      // ê´€ë¦¬ì ì „ìš© ì²´í¬\n      if (options.adminOnly && !isAdmin(user)) {\n        setErrorType('ADMIN_ONLY');\n        return false;\n      }\n\n      // ë ˆë²¨ ê¶Œí•œ ì²´í¬ - ë™ê¸° ì²˜ë¦¬ë¡œ ë³€ê²½ (Redux store ì •ë³´ ì‚¬ìš©)\n      if (\n        options.requiredLevel !== undefined &&\n        !hasLevelPermission(user, options.requiredLevel)\n      ) {\n        setErrorType('INSUFFICIENT_PERMISSION');\n        return false;\n      }\n\n      // ê²Œì‹œíŒ ê¶Œí•œ ì²´í¬\n      if (options.boardPermissions) {\n        const writeLevel = options.boardPermissions.writeLevel;\n        const readLevel = options.boardPermissions.readLevel;\n\n        if (\n          writeLevel !== undefined &&\n          !hasBoardPermission(user, writeLevel, true)\n        ) {\n          setErrorType('INSUFFICIENT_PERMISSION');\n          return false;\n        }\n\n        if (\n          readLevel !== undefined &&\n          !hasBoardPermission(user, readLevel, true)\n        ) {\n          setErrorType('INSUFFICIENT_PERMISSION');\n          return false;\n        }\n      }\n\n      return true;\n    },\n    [options.adminOnly, options.requiredLevel, options.boardPermissions]\n  );\n\n  // ë¹„ë™ê¸° ê¶Œí•œ ì²´í¬ (ìˆ˜ë™ í˜¸ì¶œìš©) - ì˜ì¡´ì„± ìµœì†Œí™”\n  const checkPermissionAsync = useCallback(async (): Promise<boolean> => {\n    // ì´ë¯¸ ì²´í¬ ì¤‘ì´ë©´ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€\n    if (isCheckingRef.current) {\n      return false;\n    }\n\n    isCheckingRef.current = true;\n    setIsLoading(true);\n    setErrorType(null);\n\n    try {\n      // 1. Redux storeì— ì‚¬ìš©ì ì •ë³´ê°€ ìˆìœ¼ë©´ ìš°ì„  ì‚¬ìš©\n      if (isLoggedIn && userInfo) {\n        const hasPermission = checkPermissions(userInfo);\n        return hasPermission;\n      }\n\n      // 2. Reduxì— ì •ë³´ê°€ ì—†ëŠ” ê²½ìš°ì—ë§Œ í† í° ê¸°ë°˜ ì¸ì¦ í™•ì¸ (ì˜ˆì™¸ì  ìƒí™©)\n      const isTokenValid = await checkTokenAuth();\n      if (!isTokenValid) {\n        return false;\n      }\n\n      // 3. í† í° ì‚¬ìš©ì ì •ë³´ë¡œ ê¶Œí•œ ì²´í¬ (ê·¹íˆ ì˜ˆì™¸ì  ìƒí™©)\n      if (!tokenUser) {\n        setErrorType('LOGIN_REQUIRED');\n        return false;\n      }\n\n      console.warn(\n        'Redux storeì— ì‚¬ìš©ì ì •ë³´ê°€ ì—†ì–´ JWT í† í° ì •ë³´ë¡œ ê¶Œí•œ ì²´í¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.'\n      );\n      const hasPermission = checkPermissions(tokenUser);\n      return hasPermission;\n    } catch (error) {\n      console.error('ê¶Œí•œ ì²´í¬ ì‹¤íŒ¨:', error);\n      setErrorType('TOKEN_INVALID');\n      return false;\n    } finally {\n      setIsLoading(false);\n      isCheckingRef.current = false;\n    }\n  }, [checkTokenAuth, checkPermissions, isLoggedIn, userInfo, tokenUser]);\n\n  // ì´ˆê¸° ê¶Œí•œ ì²´í¬ (ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œì—ë§Œ) - ì˜ì¡´ì„± ì œê±°\n  useEffect(() => {\n    checkPermissionAsync();\n  }, []); // ë¹ˆ ì˜ì¡´ì„± ë°°ì—´ë¡œ í•œ ë²ˆë§Œ ì‹¤í–‰\n\n  // Redux ì‚¬ìš©ì ì •ë³´ ë³€ê²½ ì‹œ ì¬ì²´í¬ - ë™ê¸° ì²˜ë¦¬ë¡œ ë³€ê²½\n  useEffect(() => {\n    if (isLoggedIn && userInfo && !isCheckingRef.current) {\n      const hasPermission = checkPermissions(userInfo);\n      if (!hasPermission) {\n        setIsLoading(false);\n      } else {\n        setIsLoading(false);\n        setErrorType(null);\n      }\n    }\n  }, [isLoggedIn, userInfo, checkPermissions]);\n\n  // Redux ì •ë³´ë¥¼ ìš°ì„ í•˜ë˜, ì—†ìœ¼ë©´ í† í° ì‚¬ìš©ì ì •ë³´ ì‚¬ìš©\n  const currentUser = userInfo || tokenUser;\n  const isAuthenticated = isLoggedIn && !!currentUser;\n  const hasPermission = isAuthenticated && !errorType;\n\n  return {\n    isAuthenticated,\n    hasPermission,\n    isLoading,\n    user: currentUser,\n    errorType,\n    checkPermissionAsync,\n  };\n};\n\n// í¸ì˜ Hookë“¤\nexport const useAdminGuard = (options?: Omit<AuthGuardOptions, 'adminOnly'>) =>\n  useAuthGuard({ ...options, adminOnly: true });\n\nexport const useLevelGuard = (\n  requiredLevel: number,\n  options?: Omit<AuthGuardOptions, 'requiredLevel'>\n) => useAuthGuard({ ...options, requiredLevel });\n\nexport const useBoardWriteGuard = (\n  writeLevel: number,\n  options?: Omit<AuthGuardOptions, 'boardPermissions'>\n) =>\n  useAuthGuard({\n    ...options,\n    boardPermissions: { writeLevel },\n  });\n","import type { CommonResponse } from \"../../types/common\";\nimport type { Board } from \"../../types/board\";\nimport boardService from \"@services/boardService\";\nimport { useQuery } from \"@tanstack/react-query\";\n\nexport const useBoardQuery = (options: { enabled: boolean }) =>\n  useQuery<CommonResponse<Board[]>>({\n    queryKey: [\"boards\"],\n    queryFn: () => boardService.getBoards(),\n    staleTime: 1000 * 60 * 60, // 1ì‹œê°„ ë™ì•ˆ ìºì‹œ ìœ ì§€\n    gcTime: 1000 * 60 * 60 * 24, // 24ì‹œê°„ ë™ì•ˆ ìºì‹œ ì €ì¥\n    retry: 3, // ì‹¤íŒ¨ ì‹œ 3ë²ˆê¹Œì§€ ì¬ì‹œë„\n    enabled: options?.enabled,\n    select: (data: CommonResponse<Board[]>) => {\n      if (data.successOrNot === \"N\" || !data.data) {\n        return {\n          ...data,\n          data: [],\n        };\n      }\n      return data;\n    },\n  });\n\nexport const useSingleBoardQuery = (boardId: number, options?: { enabled?: boolean }) =>\n  useQuery<CommonResponse<Board>>({\n    queryKey: [\"board\", boardId],\n    queryFn: () => boardService.getBoard(boardId),\n    staleTime: 1000 * 60 * 60, // 1ì‹œê°„ ë™ì•ˆ ìºì‹œ ìœ ì§€\n    gcTime: 1000 * 60 * 60 * 24, // 24ì‹œê°„ ë™ì•ˆ ìºì‹œ ì €ì¥\n    retry: 3, // ì‹¤íŒ¨ ì‹œ 3ë²ˆê¹Œì§€ ì¬ì‹œë„\n    enabled: options?.enabled !== false && boardId > 0,\n    select: (data: CommonResponse<Board>) => {\n      if (data.successOrNot === \"N\" || !data.data) {\n        return {\n          ...data,\n          data: null,\n        };\n      }\n      return data;\n    },\n  });\n","import type { CommonResponse } from \"../../types/common\";\nimport commentService from \"@services/commentService\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { timeAgo } from \"@util/dateUtil\";\n\n// ëŒ“ê¸€ ì¡°íšŒë¥¼ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤\ninterface CommentQueryParams {\n  postId: number;\n  page: number;\n  pageSize?: number;\n}\n\n// ëŒ“ê¸€ ì¡°íšŒ í›…\nexport const useCommentQuery = (\n  params: CommentQueryParams,\n  options?: { enabled?: boolean }\n) => {\n\n  \n  return useQuery({\n    queryKey: [\"comments\", params],\n    queryFn: () => {\n      return commentService.getComments(params);\n    },\n    staleTime: 1000 * 60 * 5, // 5ë¶„ ë™ì•ˆ ìºì‹œ ìœ ì§€\n    gcTime: 1000 * 60 * 30, // 30ë¶„ ë™ì•ˆ ìºì‹œ ì €ì¥\n    retry: 2, // ì‹¤íŒ¨ ì‹œ 2ë²ˆê¹Œì§€ ì¬ì‹œë„\n    enabled: options?.enabled ?? true,\n    select: (data: CommonResponse<any>) => {\n      \n      if (data.successOrNot === \"N\") {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n          },\n        };\n      }\n      if (!data.data) {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n          },\n        };\n      }\n      \n      const result = {\n        data: {\n          items: Array.isArray(data.data.items)\n            ? data.data.items.map((item: any) => ({\n                ...item,\n                created_at: timeAgo(item.created_at),\n              }))\n            : [],\n          totalCount: data.data.totalCount || 0,\n        },\n      };\n      \n      return result;\n    },\n  });\n};\n","import { SearchType, SortBy } from \"../../types/board\";\nimport type { CommonResponse } from \"../../types/common\";\nimport type { GalleryListItem, Post } from \"../../types/post\";\nimport postService from \"@services/postService\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { timeAgo } from \"@util/dateUtil\";\n\ninterface PostService {\n  boardId: number;\n  page: number;\n  pageSize?: number;\n  sortBy?: SortBy;\n  searchType?: SearchType;\n  searchText?: string;\n  categoryId?: string | number | null;\n}\n\nexport const usePostQuery = (\n  params: PostService,\n  options: { enabled: boolean }\n) =>\n  useQuery({\n    queryKey: [\"post\", params],\n    queryFn: () => postService.getPost(params),\n    staleTime: 10000, // 10ì´ˆ ë™ì•ˆ ìºì‹œ ìœ ì§€\n    gcTime: 1000 * 60 * 60 * 24, // 24ì‹œê°„ ë™ì•ˆ ìºì‹œ ì €ì¥\n    retry: 3, // ì‹¤íŒ¨ ì‹œ 3ë²ˆê¹Œì§€ ì¬ì‹œë„\n    enabled: options?.enabled,\n    placeholderData: (prev) => prev,\n    refetchOnMount: false,\n    select: (data: CommonResponse<Post>) => {\n      if (data.successOrNot === \"N\") {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n            notices: [],\n          },\n        };\n      }\n      if (!data.data) {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n            notices: [],\n          },\n        };\n      }\n      return {\n        data: {\n          items: data.data.items.map((item) => ({\n            ...item,\n            created_at: timeAgo(item.created_at || new Date().toISOString()),\n          })),\n          totalCount: data.data.totalCount,\n          notices: data.data.notices,\n        },\n      };\n    },\n  });\n\nexport const usePostBookmarkQuery = () =>\n  useQuery({\n    queryKey: [\"postBookmark\"],\n    queryFn: () => postService.getBookmarkPosts(),\n    staleTime: 1000 * 30, // 30ì´ˆ ë™ì•ˆ ìºì‹œ ìœ ì§€\n    gcTime: 1000 * 60 * 60 * 24, // 24ì‹œê°„ ë™ì•ˆ ìºì‹œ ì €ì¥\n    retry: 3, // ì‹¤íŒ¨ ì‹œ 3ë²ˆê¹Œì§€ ì¬ì‹œë„\n    select: (data: CommonResponse<GalleryListItem[]>) => {\n      if (data.successOrNot === \"N\") {\n        return {\n          data: [],\n        };\n      }\n      return data.data;\n    },\n  });\n\nexport const useDraftPostQuery = (\n  params: {\n    page?: number;\n    pageSize?: number;\n    sortBy?: SortBy;\n    writerId?: number;\n  } = {},\n  options: { enabled: boolean; enablePolling?: boolean } = { enabled: true, enablePolling: false }\n) =>\n  useQuery({\n    queryKey: [\"draftPost\", params],\n    queryFn: () => postService.getDraftPosts(params),\n    staleTime: 0, // í´ë§ ì‚¬ìš© ì‹œ ìºì‹œ ë¹„í™œì„±í™”\n    gcTime: 1000 * 60 * 5, // 5ë¶„ ë™ì•ˆ ìºì‹œ ì €ì¥\n    retry: 3, // ì‹¤íŒ¨ ì‹œ 3ë²ˆê¹Œì§€ ì¬ì‹œë„\n    enabled: options?.enabled,\n    refetchInterval: (query) => {\n      // í´ë§ì´ ë¹„í™œì„±í™”ëœ ê²½ìš°\n      if (!options?.enablePolling) return false;\n      \n      // ì¿¼ë¦¬ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì—¬ ëª¨ë“  ì—…ë¡œë“œê°€ ì™„ë£Œë˜ì—ˆìœ¼ë©´ í´ë§ ì¤‘ì§€\n      const result = query.state.data;\n      if (result && result.data && Array.isArray(result.data)) {\n        const allCompleted = result.data.every((post: any) => {\n          if (!post.attachments || post.attachments.length === 0) return true;\n          return post.attachments.every((attachment: any) => attachment.status === 'uploaded');\n        });\n        \n        if (allCompleted) {\n          console.log('âœ… ëª¨ë“  íŒŒì¼ ì—…ë¡œë“œê°€ ì™„ë£Œë˜ì–´ í´ë§ì„ ì¤‘ì§€í•©ë‹ˆë‹¤.');\n          return false;\n        }\n      }\n      \n      return 2000; // 2ì´ˆë§ˆë‹¤ í´ë§\n    },\n    refetchIntervalInBackground: false, // ë°±ê·¸ë¼ìš´ë“œì—ì„œëŠ” í´ë§ ë¹„í™œì„±í™”\n    select: (data: CommonResponse<Post>) => {\n      if (data.successOrNot === \"N\") {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n            notices: [],\n          },\n        };\n      }\n      if (!data.data) {\n        return {\n          data: {\n            items: [],\n            totalCount: 0,\n            notices: [],\n          },\n        };\n      }\n      return {\n        data: {\n          items: data.data.items.map((item) => ({\n            ...item,\n            created_at: timeAgo(item.created_at || new Date().toISOString()),\n          })),\n          totalCount: data.data.totalCount,\n          notices: data.data.notices,\n        },\n      };\n    },\n  });","'use client';\n\nimport { useAppDispatch, useAppSelector } from '@hooks/common';\nimport { showToast } from '@redux/Features/Toast/toastSlice';\nimport { selectUserInfo } from '@redux/Features/User/userSlice';\nimport { getUserLevel, hasLevelPermission, isAdmin } from '@util/authUtil';\nimport { getCurrentUserFromToken } from '@util/jwtUtil';\nimport { useCallback, useEffect, useState } from 'react';\n\nexport const usePermission = () => {\n  const dispatch = useAppDispatch();\n  const userInfo = useAppSelector(selectUserInfo);\n  const reduxUser = userInfo?.userInfo;\n  const [jwtUser, setJwtUser] = useState<any>(null);\n\n  // í˜„ì¬ ì‚¬ìš©ì: Redux ì‚¬ìš©ì ì •ë³´ë¥¼ ìš°ì„ í•˜ë˜, ì—†ìœ¼ë©´ JWT ì •ë³´ ì‚¬ìš© (ê·¹íˆ ì˜ˆì™¸ì  ìƒí™©)\n  const currentUser = reduxUser || jwtUser;\n  const userLevel = getUserLevel(currentUser);\n  const adminStatus = isAdmin(currentUser);\n  const isLoggedIn = userInfo?.isLoggedIn || !!jwtUser;\n\n  // JWT í† í°ì—ì„œ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸° (Reduxì— ì •ë³´ê°€ ì—†ì„ ë•Œë§Œ ëŒ€ë¹„ìš©)\n  useEffect(() => {\n    const getJwtUser = async () => {\n      // Reduxì— ì‚¬ìš©ì ì •ë³´ê°€ ì´ë¯¸ ìˆìœ¼ë©´ JWT ì¡°íšŒ ìƒëµ\n      if (reduxUser) {\n        setJwtUser(null);\n        return;\n      }\n\n      try {\n        const tokenUser = await getCurrentUserFromToken();\n        setJwtUser(tokenUser);\n      } catch (error) {\n        // JWT í† í°ì´ ì—†ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš°\n        setJwtUser(null);\n      }\n    };\n\n    getJwtUser();\n  }, [reduxUser]);\n\n  // ê¶Œí•œ ì²´í¬ í•¨ìˆ˜ - Redux store ì •ë³´ ìš°ì„  ì‚¬ìš© (ë™ê¸° ì²˜ë¦¬)\n  const checkPermission = useCallback(\n    (requiredLevel?: number) => {\n      if (requiredLevel === undefined) return true;\n\n      // Redux storeì˜ ì‚¬ìš©ì ì •ë³´ê°€ ìˆìœ¼ë©´ ìš°ì„  ì‚¬ìš© (ì´ê²ƒì´ ì¼ë°˜ì ì¸ ê²½ìš°)\n      if (reduxUser) {\n        return hasLevelPermission(reduxUser, requiredLevel);\n      }\n\n      // Reduxì— ì •ë³´ê°€ ì—†ëŠ” ì˜ˆì™¸ì  ìƒí™©ì—ì„œë§Œ JWT ì‚¬ìš©\n      if (jwtUser) {\n        console.warn(\n          'Redux storeì— ì‚¬ìš©ì ì •ë³´ê°€ ì—†ì–´ JWT í† í° ì •ë³´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.'\n        );\n        return hasLevelPermission(jwtUser, requiredLevel);\n      }\n\n      // ì‚¬ìš©ì ì •ë³´ê°€ ì „í˜€ ì—†ëŠ” ê²½ìš°\n      return requiredLevel === 0;\n    },\n    [reduxUser, jwtUser]\n  );\n\n  // ê¶Œí•œì´ ì—†ëŠ” ê²½ìš° í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í‘œì‹œ\n  const showAccessDeniedToast = useCallback(() => {\n    dispatch(\n      showToast({\n        title: 'ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.',\n        content: 'í•´ë‹¹ ë©”ë‰´ì— ì ‘ê·¼í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.',\n        headerTextColor: 'text-red-500',\n      })\n    );\n  }, [dispatch]);\n\n  return {\n    checkPermission,\n    showAccessDeniedToast,\n    userLevel,\n    isAdmin: adminStatus,\n    isLoggedIn,\n    currentUser,\n  };\n};\n","import { CommonResponse } from \"../../types/common\";\nimport pointService from \"@services/pointService\";\nimport { useQuery } from \"@tanstack/react-query\";\n\nexport const useUserPointQuery = (userId: string) => {\n  return useQuery({\n    queryKey: [\"userPoint\", userId],\n    queryFn: () => pointService.getUserPoint(userId),\n    staleTime: 1000 * 60 * 3, // 3ë¶„ ë™ì•ˆ ìºì‹œ ìœ ì§€ (êµ¬ë§¤ ë‚´ì—­ì€ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‹¨ì¶•)\n    gcTime: 1000 * 60 * 60, // 1ì‹œê°„ ë™ì•ˆ ìºì‹œ ì €ì¥\n    retry: 3, // ì‹¤íŒ¨ ì‹œ 3ë²ˆê¹Œì§€ ì¬ì‹œë„\n    select: (data: CommonResponse<number>) => {\n      if (data.successOrNot === \"Y\" && data.data) {\n        return data.data;\n      }\n      throw new Error(\"Failed to fetch user point\");\n    }\n  });\n};\n\nexport const useUserPointHistoryQuery = (userId: string) => {\n  return useQuery({\n    queryKey: [\"userPointHistory\", userId],\n    queryFn: () => pointService.getUserPointHistory(userId),\n  });\n};"],"names":["formatNumberWithComma","num","parts","toString","split","replace","length","join","str","parseFloat","formatDate","dateString","isSimple","date","Date","isNaN","getTime","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","timeAgo","now","Math","floor","DateUtil","toChar","input","format","map","yyyy","MM","dd","HH","mm","ss","Object","entries","reduce","result","key","value","isJWTPayload","user","sub","user_metadata","isUserObject","id","nickname","permissionType","checkIsAdmin","level","isAdmin","hasLevelPermission","requiredLevel","keys","console","warn","is_admin","isLoggedIn","IMAGE_SIZE","sm","md","lg","xl","xxl","transformSupabaseImageUrl","url","size","quality","includes","transformedUrl","width","validQuality","max","min","separator","error","generateImageSrcSet","sizes","forEach","supabaseImageLoader","src","normalizeImageSrc","resourceUrl","process","env","NEXT_PUBLIC_STORAGE_URL","startsWith","relativePath","optimizeImageSrc","normalizedSrc","undefined","isGifImage","lowerSrc","toLowerCase","endsWith","unoptimized","LevelUtil","calculateUserLevel","currentPoints","levelTable","sortedLevels","sort","a","b","userLevel","required_points","getLevelProgress","currentLevel","currentLevelPoints","nextLevel","nextLevelPoints","progressPercentage","pointsToNext","this","currentLevelInfo","find","nextLevelInfo","pointsNeededForNext","pointsEarnedInCurrentLevel","round","getNextLevelInfo","requiredPoint","levelUpPercentage","isMaxLevel","levelUpPercent","toCamelCase","_","letter","toUpperCase","toSnakeCase","keysToCamelCase","obj","Array","isArray","item","camelKey","keysToSnakeCase","snakeKey","addUrlParams","baseUrl","params","URL","window","location","origin","searchParams","URLSearchParams","search","set","pathname","Error","getPreviousUrlWithParams","storageKey","fallbackUrl","previousUrl","sessionStorage","getItem","decodeJWTPayload","token","payload","decodeURIComponent","atob","c","charCodeAt","slice","base64UrlDecode","JSON","parse","async","getCurrentUserFromToken","clientSupabase","Promise","resolve","then","client","data","session","auth","getSession","access_token","isTokenExpired","exp","getTokenTimeToExpiry","removeExpiredTokenFromCookie","cookieName","cookieString","document","cookie","row","decodedCookie","sessionData","accessToken","log","name","validateAndCleanToken","signOut","shouldRefreshToken","UploadErrorType","ERROR_MESSAGES","FILE_TOO_LARGE","UNSUPPORTED_FORMAT","PERMISSION_DENIED","NETWORK_ERROR","SERVER_ERROR","UPLOAD_TIMEOUT","QUOTA_EXCEEDED","INVALID_POST","files","startTime","totalFiles","completedFiles","filter","f","status","failedFiles","totalBytes","sum","fileSize","uploadedBytes","progress","retryCount","metrics","elapsed","uploadedMB","remaining","errorMessage","message","errorResponse","response","code","errorCode","context","errorInfo","stack","timestamp","toISOString","userAgent","navigator","NODE_ENV","group","groupEnd","globalConfig","Button","forwardRef","variant","loading","fullWidth","startIcon","endIcon","disabled","className","children","props","ref","buttonClasses","primary","secondary","outline","ghost","danger","Boolean","_jsxs","_jsx","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","displayName","Input","label","helper","type","startAdornment","endAdornment","containerClassName","labelClassName","errorClassName","helperClassName","required","inputId","random","substr","inputClasses","trim","htmlFor","Select","options","onChange","placeholder","multiple","searchable","searchPlaceholder","showIcon","showDescription","maxHeight","noOptionsText","dropdownClassName","isOpen","setIsOpen","useState","searchTerm","setSearchTerm","dropdownRef","useRef","selectId","selectedOption","useMemo","option","useEffect","handleClickOutside","event","current","contains","target","addEventListener","removeEventListener","selectClasses","role","tabIndex","onClick","strokeLinecap","strokeLinejoin","style","isSelected","handleOptionClick","description","Checkbox","checked","indeterminate","labelPosition","checkboxId","checkboxClasses","checkboxElement","labelElement","Radio","radioId","labelText","radioElement","Switch","onText","offText","switchId","currentSize","track","thumb","translate","text","trackClasses","thumbClasses","switchElement","TextArea","autoResize","minHeight","maxLength","showCount","countClassName","textareaId","textareaHeight","setTextareaHeight","handleAutoResize","useCallback","element","height","scrollHeight","newHeight","textareaClasses","currentLength","isOverLimit","Skeleton","animated","light","backgroundClass","combinedStyle","getDefaultStyles","rectangular","circular","rounded","SkeletonText","lines","from","index","SkeletonAvatar","SkeletonButton","buttonVariant","buttonSize","getButtonSize","baseURL","NEXT_PUBLIC_API_URL","axiosInstance","axios","create","timeout","headers","Accept","withCredentials","CommonConstants","CommonStatus","interceptors","request","use","config","metadata","skipLoader","FormData","sessionCookie","decodedSession","jwtUtil","Authorization","importError","successOrNot","statusCode","CustomEvent","detail","dispatchEvent","_retried","sessionError","refreshData","refreshError","refreshSession","originalConfig","reject","BaseService","constructor","defaultHeaders","handleError","AxiosError","INTERNAL_SERVER_ERROR","buildUrl","endpoint","prepareConfig","useMiniLoader","loaderText","get","post","put","patch","delete","getSilent","postSilent","putSilent","patchSilent","deleteSilent","getMini","postMini","putMini","patchMini","deleteMini","baseService","UserService","super","getMyInfo","getMyPermission","getMyPoint","getRealtimeUser","getUserId","getUserUuid","updateUserProfile","refreshMyInfo","getUserInfo","needPoint","includePermissions","checkUserIdExist","userId","checkNicknameExist","getUserById","getUsersByIds","userIds","searchUsers","keyword","page","pageSize","updateUserLevel","updateUserBanStatus","isBanned","reason","userService","profileImage","PostService","getPostList","boardId","sortBy","searchType","searchText","needNotice","categoryId","writerId","getPostById","postId","createPost","formData","append","title","content","isNotice","hasFiles","downloadPoint","attachments","stringify","file","updatePost","deletePost","reactToPost","reactionType","reactionText","purchaseFiles","bookmarkPost","removeBookmark","getBookmarkedPosts","movePost","board_id","createDraftPost","publishPost","startAsyncFileUpload","needWatermark","watermarkPosition","watermarkOpacity","success","getUploadProgress","retryFailedFiles","failedFileUuids","cancelUpload","createPostAsync","draftResponse","getDraftPosts","searchPosts","boardIds","getPostStats","postService","getPost","reactionPost","deleteBookmarkPost","getBookmarkPosts","BoardService","getBoards","isActive","getBoard","createBoard","updateBoard","deleteBoard","getBoardCategories","createBoardCategory","updateBoardCategory","deleteBoardCategory","getBoardStats","searchBoards","getPopularBoards","limit","getRecentlyActiveBoards","getFavoriteBoards","addToFavorites","removeFromFavorites","getBoardPermissions","updateBoardPermissions","permissions","getBoardModerators","addBoardModerator","removeBoardModerator","reportBoard","getBoardActivity","boardService","AuthService","login","credentials","logout","register","refreshToken","validateSession","getCurrentUser","requestPasswordReset","resetPassword","newPassword","newPasswordConfirm","changePassword","sendEmailVerification","email","verifyEmail","checkUserIdAvailability","checkNicknameAvailability","checkEmailAvailability","getUserSessions","revokeSession","sessionId","revokeAllSessions","enable2FA","confirm2FA","disable2FA","password","verify2FACode","authService","PermissionService","checkPermission","check","resource","action","checkPermissions","checks","getMyPermissions","getUserPermissions","getLevels","getLevel","getRoles","getRole","roleId","createRole","updateRole","updates","deleteRole","assignRole","removeRole","grantPermission","grant","revokePermission","permission","getUserGrants","getPermissionHistory","checkBoardAccess","checkPostAccess","checkAdminAccess","section","getLevelProgression","banned","duration","getUserRestrictions","permissionService","withSelectorModule","exports","React","require$$0","objectIs","is","x","y","useSyncExternalStore","useDebugValue","useSyncExternalStoreWithSelector_production","useSyncExternalStoreWithSelector","subscribe","getSnapshot","getServerSnapshot","selector","isEqual","instRef","inst","hasValue","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","__REACT_DEVTOOLS_GLOBAL_HOOK__","registerInternalModuleStart","useSyncExternalStoreWithSelector_development","registerInternalModuleStop","ContextKey","Symbol","for","gT","globalThis","getContext","createContext","contextMap","Map","realContext","ReactReduxContext","createReduxContextHook","contextValue","useContext","useReduxContext","createStoreHook","useReduxContext2","useStore2","store","assign","withTypes","useStore","createDispatchHook","useDispatch2","dispatch","useDispatch","refEquality","createSelectorHook","useSelector2","equalityFnOrOptions","equalityFn","reduxContext","subscription","getServerState","firstRun","wrappedSelector","state","selected","devModeChecks","identityFunctionCheck","stabilityCheck","finalIdentityFunctionCheck","finalStabilityCheck","toCompare","e","selected2","selectedState","addNestedSub","getState","useSelector","useGlobalLoader","useAppDispatch","isAutoTransitioned","useAppSelector","selectUIState","showLoader","showMiniLoading","hideLoader","hideMiniLoading","setLoaderText","setMiniLoadingText","withLoader","asyncFn","showPostLoader","showLoading","hidePostLoader","hideAllLoaders","hideLoading","setPostLoaderText","setLoadingText","withPostLoader","showMiniLoader","hideMiniLoader","setMiniLoaderText","withMiniLoader","useRouterWithLoader","router","useNextRouter","usePathname","shouldShowLoader","href","targetPath","isExternalDomain","targetUrl","currentDomain","hostname","push","createClient","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","persistSession","autoRefreshToken","detectSessionInUrl","storage","decodedValue","parseError","setItem","encodedValue","encodeURIComponent","expires","setDate","toUTCString","removeItem","isHandlingSignOut","onAuthStateChange","createClientSupabase","square","alt","imageError","setImageError","imageLoaded","setImageLoaded","baseClasses","xs","optimizedSrc","avatarClasses","onError","onLoad","part","charAt","getInitials","online","offline","away","busy","dot","dotClasses","warning","info","badgeClasses","freeze","development","userState","selectUserInfo","loginWithLoader","loginData","fulfilled","match","showToast","headerTextColor","logoutWithLoader","initializeAuth","autoLogin","checkSession","import","tokenPayload","valid","navigateWithAuth","path","adminOnly","sessionCheck","userInfo","isUser","isLoading","setIsLoading","errorType","setErrorType","tokenUser","setTokenUser","isCheckingRef","lastTokenUserRef","checkTokenAuth","tokenUserString","boardPermissions","writeLevel","readLevel","hasBoardPermission","checkPermissionAsync","currentUser","isAuthenticated","hasPermission","useQuery","queryKey","queryFn","staleTime","gcTime","retry","enabled","select","commentService","getComments","items","totalCount","created_at","deviceType","app","updateDeviceType","updateDeviceTypeFromWidth","innerWidth","isMobile","isTablet","isDesktop","isMobileOrTablet","enablePolling","refetchInterval","query","every","attachment","refetchIntervalInBackground","notices","reduxUser","jwtUser","setJwtUser","getUserLevel","adminStatus","getJwtUser","showAccessDeniedToast","placeholderData","prev","refetchOnMount","pointService","getUserPointHistory","getUserPoint"],"mappings":"o1BAKO,MAAMA,EAAyBC,IAElC,GAAIA,SAA6C,KAARA,EACrC,MAAO,GAIX,MAGMC,GAHgC,iBAARD,EAAmBA,EAAIE,WAAaF,GAG7CG,MAAM,KAM3B,OAHAF,EAAM,GAAKA,EAAM,GAAGG,QAAQ,wBAAyB,KAG9CH,EAAMI,OAAS,EAAIJ,EAAMK,KAAK,KAAOL,EAAM,sFAQhBM,GAC/BA,EACEC,WAAWD,EAAIH,QAAQ,KAAM,KADnB,aC5BHK,EAAWC,EAAoBC,GAAW,GACxD,IAAKD,EAAY,MAAO,GAExB,MAAME,EAAO,IAAIC,KAAKH,GAGtB,GAAII,MAAMF,EAAKG,WACb,OAAOL,EAIT,MAAMM,EAAOJ,EAAKK,cACZC,EAAQC,OAAOP,EAAKQ,WAAa,GAAGC,SAAS,EAAG,KAChDC,EAAMH,OAAOP,EAAKW,WAAWF,SAAS,EAAG,KACzCG,EAAQL,OAAOP,EAAKa,YAAYJ,SAAS,EAAG,KAC5CK,EAAUP,OAAOP,EAAKe,cAAcN,SAAS,EAAG,KAChDO,EAAUT,OAAOP,EAAKiB,cAAcR,SAAS,EAAG,KAEtD,OAAOV,EACH,GAAGK,KAAQE,KAASI,IACpB,GAAGN,KAAQE,KAASI,MAAQE,KAASE,KAAWE,GACtD,UAEgBE,EAAQpB,EAAoBC,GAAoB,GAC9D,IAAKD,EAAY,MAAO,GAExB,MAAME,EAAO,IAAIC,KAAKH,GAGtB,GAAII,MAAMF,EAAKG,WACb,OAAOL,EAST,MAAMqB,EAAM,IAAIlB,KACVe,EAAUI,KAAKC,OAAOF,EAAIhB,UAAYH,EAAKG,WAAa,KAG9D,GAAIa,EAAU,GACZ,MAAO,OAIT,MAAMF,EAAUM,KAAKC,MAAML,EAAU,IACrC,GAAIF,EAAU,GACZ,MAAO,GAAGA,OAIZ,MAAMF,EAAQQ,KAAKC,MAAMP,EAAU,IACnC,OAAIF,EAAQ,GACH,GAAGA,QAGLb,EAAWuB,EAASC,OAAOzB,EAAY,SAAWwB,EAASC,OAAOzB,EAAY,uBAiBvF,CAEO,MAAMwB,EAAW,CACtB,MAAAC,CACEC,EACAC,EAAiB,wBAEjB,MAAMzB,EAAwB,iBAAVwB,EAAqB,IAAIvB,KAAKuB,GAASA,EAE3D,IAAKxB,GAAQE,MAAMF,EAAKG,WAAY,MAAO,GAE3C,MAAMuB,EAA8B,CAClCC,KAAMpB,OAAOP,EAAKK,eAClBuB,GAAIrB,OAAOP,EAAKQ,WAAa,GAAGC,SAAS,EAAG,KAC5CoB,GAAItB,OAAOP,EAAKW,WAAWF,SAAS,EAAG,KACvCqB,GAAIvB,OAAOP,EAAKa,YAAYJ,SAAS,EAAG,KACxCsB,GAAIxB,OAAOP,EAAKe,cAAcN,SAAS,EAAG,KAC1CuB,GAAIzB,OAAOP,EAAKiB,cAAcR,SAAS,EAAG,MAG5C,OAAOwB,OAAOC,QAAQR,GAAKS,OACzB,CAACC,GAASC,EAAKC,KAAWF,EAAO5C,QAAQ6C,EAAKC,GAC9Cb,EAEJ,2EC9EI,SAAUc,EAAaC,GAC3B,OAAOA,GAA4B,iBAAbA,EAAKC,KAAoBD,EAAKE,aACtD,CAKM,SAAUC,EAAaH,GAC3B,OACEA,GACmB,iBAAZA,EAAKI,IACZJ,EAAKK,UACLL,EAAKM,cAET,CAEO,MAUMC,EAAgBP,GAKzBA,EAAKQ,OAAS,IACU,UAAxBR,EAAKM,gBACmB,gBAAxBN,EAAKM,eAIIG,EAAWT,KACjBA,GACEO,EAAaP,GAmBTU,EAAqB,CAChCV,EACAW,EAAwB,KAGxB,IAAKX,GAAyB,iBAATA,GAAkD,IAA7BP,OAAOmB,KAAKZ,GAAM/C,OAC1D,OAAyB,IAAlB0D,EAIT,GAAIF,EAAQT,GAAO,OAAO,EAG1B,GAAIG,EAAaH,GACf,OAAOA,EAAKQ,OAASG,EAIvB,GAAIZ,EAAaC,GAAO,CACtBa,QAAQC,KACN,0GAIF,OADkBd,EAAKe,SAAW,GAAMf,EAAKQ,OAAS,IAClCG,CACtB,CAGA,OAAOX,EAAKQ,OAASG,mEAiCMX,GACtBA,EAGDG,EAAaH,GACRA,EAAKQ,OAAS,EAInBT,EAAaC,IACfa,QAAQC,KACN,0GAGKd,EAAKe,SAAW,GAAMf,EAAKQ,OAAS,GAItCR,EAAKQ,OAAS,EAjBH,wBAoBkBR,GAC/BA,EAIEA,EAAKM,gBAAkB,OAHrB,wCAciCN,GACrCA,EAIEA,EAAKM,gBAAkB,OAHrB,yCAVkCN,GACtCA,EAIEA,EAAKM,gBAAkB,OAHrB,+BAtDuB,CAChCN,EACAW,EAAiC,EACjCK,GAAsB,IAGA,SAAlBL,GAA8C,IAAlBA,MAK3BK,IAAehB,IAIbU,EAAmBV,EAAMW,sDAhEEX,KAC7BA,GACEO,EAAaP,+BAPOA,KACtBA,GACEO,EAAaP,8BA5BMA,KAEtBA,GACiB,iBAAZA,EAAKI,MACVJ,EAAKK,YACLL,EAAKM,iBC5CJ,MAAMW,EAAa,CACxBC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,KAYD,SAAUC,EACdC,EACAC,EAA8B,KAC9BC,EAAkB,IAElB,IAAKF,IAAQA,EAAIG,SAAS,uBACxB,OAAOH,EAGT,IAEE,MAAMI,EAAiBJ,EAAIxE,QACzB,sBACA,6BAII6E,EAAwB,iBAATJ,EAAoBA,EAAOR,EAAWQ,GAGrDK,EAAelD,KAAKmD,IAAI,GAAInD,KAAKoD,IAAI,IAAKN,IAG1CO,EAAYL,EAAeD,SAAS,KAAO,IAAM,IAGvD,MAAO,GAAGC,IAAiBK,IAFZ,SAASJ,aAAiBC,KAG3C,CAAE,MAAOI,GAEP,OADArB,QAAQqB,MAAM,0CAA2CA,GAClDV,CACT,CACF,CASM,SAAUW,EACdX,EACAY,EAAwB,CAAC,KAAM,KAAM,MACrCV,EAAkB,IAElB,MAAM9B,EAAS,CAAA,EAMf,OAJAwC,EAAMC,QAAQZ,IACZ7B,EAAO6B,GAAQF,EAA0BC,EAAKC,EAAMC,KAG/C9B,CACT,CASM,SAAU0C,GAAoBC,IAClCA,EAAGV,MACHA,EAAKH,QACLA,IASA,MAAO,qEAA6Ca,WAAaV,aAF5CH,GAAW,IAGlC,CAQM,SAAUc,EAAkBD,GAChC,IAAKA,GAAsB,iBAARA,EACjB,OAAOA,EAGT,IACE,MAAME,EAAcC,QAAQC,IAAIC,wBAGhC,GAAIH,GAAeF,EAAIM,WAAWJ,GAAc,CAE9C,MAAMK,EAAeP,EAAIvF,QAAQyF,EAAa,IAG9C,OAAKK,EAAaD,WAAW,KAGtBC,EAFE,IAAIA,GAGf,CAGA,OAAOP,CACT,CAAE,MAAOL,GAEP,OADArB,QAAQqB,MAAM,iCAAkCA,GACzCK,CACT,CACF,UAUgBQ,EACdR,EACAd,EACAC,GAGA,MAAMsB,EAAgBR,EAAkBD,GAGxC,YAAaU,IAATxB,GAAsBuB,EAAcrB,SAAS,uBACxCJ,EAA0ByB,EAAevB,EAAMC,GAGjDsB,CACT,CAOM,SAAUE,EAAWX,GACzB,IAAKA,GAAsB,iBAARA,EACjB,OAAO,EAIT,MAAMY,EAAWZ,EAAIa,cACrB,OAAOD,EAASE,SAAS,SAAWF,EAASxB,SAAS,QACxD,sFAwBM,SAAwBY,GAE5B,OAAIW,EAAWX,GACN,CAAEe,aAAa,GAGjB,CAAA,CACT,kBAxBM,SAA0Bf,GAC9B,SAAKA,GAAsB,iBAARA,KAIFA,EAAIa,cAGdF,EAAWX,GACpB,gHC5KagB,EAIX,yBAAOC,CAAmBC,EAAuBC,GAC/C,IAAKA,EAAWzG,OAAQ,OAAO,EAG/B,MAAM0G,EAAe,IAAID,GAAYE,KAAK,CAACC,EAAGC,IAAMD,EAAErD,MAAQsD,EAAEtD,OAEhE,IAAIuD,EAAY,EAChB,IAAK,MAAMvD,KAASmD,EAAc,CAChC,KAAIF,GAAiBjD,EAAMwD,iBAGzB,MAFAD,EAAYvD,EAAMA,KAItB,CAEA,OAAOuD,CACT,CAKA,uBAAOE,CAAiBR,EAAuBC,GAE7C,IAAKA,EAAWzG,OACd,MAAO,CACLiH,aAAc,EACdC,mBAAoB,EACpBC,UAAW,EACXC,gBAAiB,EACjBC,mBAAoB,EACpBC,aAAc,GAIlB,MAAMZ,EAAe,IAAID,GAAYE,KAAK,CAACC,EAAGC,IAAMD,EAAErD,MAAQsD,EAAEtD,OAC1DuD,EAAYS,KAAKhB,mBAAmBC,EAAeC,GAGnDe,EAAmBd,EAAae,KAAKlE,GAASA,EAAMA,QAAUuD,GAC9DI,EAAqBM,GAAkBT,iBAAmB,EAG1DW,EAAgBhB,EAAae,KAAKlE,GAASA,EAAMA,QAAUuD,EAAY,GACvEK,EAAYO,GAAenE,OAASuD,EACpCM,EAAkBM,GAAeX,iBAAmBG,EAG1D,IAAIG,EAAqB,EACrBC,EAAe,EAEnB,GAAII,EAAe,CAEjB,MAAMC,EAAsBP,EAAkBF,EAExCU,EAA6BpB,EAAgBU,EAEnDG,EAAqBM,EAAsB,EACvChG,KAAKoD,IAAI,IAAM6C,EAA6BD,EAAuB,KACnE,IAEJL,EAAe3F,KAAKmD,IAAI,EAAGsC,EAAkBZ,EAC/C,MAEEa,EAAqB,IACrBC,EAAe,EAGjB,MAAO,CACLL,aAAcH,EACdI,qBACAC,YACAC,kBACAC,mBAAoB1F,KAAKkG,MAAMR,GAC/BC,eAEJ,CAIA,uBAAOQ,CAAiBtB,EAAuBC,GAC7C,IAAKA,EAAWzG,OACd,MAAO,CACLmH,UAAW,EACXY,cAAe,EACfC,kBAAmB,EACnBC,YAAY,GAKhB,MAAMvB,EAAe,IAAID,GAAYE,KAAK,CAACC,EAAGC,IAAMD,EAAErD,MAAQsD,EAAEtD,OAC1DuD,EAAYS,KAAKhB,mBAAmBC,EAAeC,GAGnDe,EAAmBd,EAAae,KAAKlE,GAASA,EAAMA,QAAUuD,GAC9DI,EAAqBM,GAAkBT,iBAAmB,EAG1DW,EAAgBhB,EAAae,KAAKlE,GAASA,EAAMA,QAAUuD,EAAY,GAE7E,IAAKY,EAEH,MAAO,CACLP,UAAWL,EACXiB,cAAe,EACfG,eAAgB,IAChBD,YAAY,GAIhB,MAAMd,EAAYO,EAAcnE,MAC1B6D,EAAkBM,EAAcX,gBAMhCY,EAAsBP,EAAkBF,EACxCU,EAA6BpB,EAAgBU,EAMnD,MAAO,CACLC,YACAY,cAZoBpG,KAAKmD,IAAI,EAAGsC,EAAkBZ,GAalD0B,eAPqBP,EAAsB,EACzChG,KAAKoD,IAAI,IAAKpD,KAAKkG,MAAOD,EAA6BD,EAAuB,MAC9E,IAMFM,YAAY,EAEhB,oDCtIK,MAAME,EAAejI,GACnBA,EAAIH,QAAQ,YAAa,CAACqI,EAAGC,IAAWA,EAAOC,eAQ3CC,EAAerI,GACnBA,EAAIH,QAAQ,SAAUsI,GAAU,IAAIA,EAAOlC,iBAQvCqC,EACXC,IAEA,GAAIA,QACF,OAAOA,EAGT,GAAIC,MAAMC,QAAQF,GAChB,OAAOA,EAAIxG,IAAI2G,GACG,iBAATA,GAA8B,OAATA,EAAgBJ,EAAgBI,GAAQA,GAIxE,GAAmB,iBAARH,EAAkB,CAC3B,MAAM9F,EAA8B,CAAA,EAEpC,IAAK,MAAOC,EAAKC,KAAUL,OAAOC,QAAQgG,GAAM,CAC9C,MAAMI,EAAWV,EAAYvF,GAER,iBAAVC,GAAgC,OAAVA,GAAmB6F,MAAMC,QAAQ9F,GAEvD6F,MAAMC,QAAQ9F,GACvBF,EAAOkG,GAAYhG,EAAMZ,IAAI2G,GACX,iBAATA,GAA8B,OAATA,EAAgBJ,EAAgBI,GAAQA,GAGtEjG,EAAOkG,GAAYhG,EANnBF,EAAOkG,GAAYL,EAAgB3F,EAQvC,CAEA,OAAOF,CACT,CAEA,OAAO8F,GAQIK,EACXL,IAEA,GAAIA,QACF,OAAOA,EAGT,GAAIC,MAAMC,QAAQF,GAChB,OAAOA,EAAIxG,IAAI2G,GACG,iBAATA,GAA8B,OAATA,EAAgBE,EAAgBF,GAAQA,GAIxE,GAAmB,iBAARH,EAAkB,CAC3B,MAAM9F,EAA8B,CAAA,EAEpC,IAAK,MAAOC,EAAKC,KAAUL,OAAOC,QAAQgG,GAAM,CAC9C,MAAMM,EAAWR,EAAY3F,GAER,iBAAVC,GAAgC,OAAVA,GAAmB6F,MAAMC,QAAQ9F,GAEvD6F,MAAMC,QAAQ9F,GACvBF,EAAOoG,GAAYlG,EAAMZ,IAAI2G,GACX,iBAATA,GAA8B,OAATA,EAAgBE,EAAgBF,GAAQA,GAGtEjG,EAAOoG,GAAYlG,EANnBF,EAAOoG,GAAYD,EAAgBjG,EAQvC,CAEA,OAAOF,CACT,CAEA,OAAO8F,yGClGF,MAAMO,EAAe,CAC1BC,EACAC,KAEA,IAEE,MAAM3E,EAAM0E,EAAQrD,WAAW,QAC3B,IAAIuD,IAAIF,GACR,IAAIE,IAAIF,EAASG,OAAOC,SAASC,QAE/BC,EAAe,IAAIC,gBAAgBjF,EAAIkF,QAQ7C,OALAjH,OAAOC,QAAQyG,GAAQ9D,QAAQ,EAAExC,EAAKC,MACpC0G,EAAaG,IAAI9G,EAAKC,KAIjB,GAAG0B,EAAIoF,YAAYJ,EAAa1J,YACzC,CAAE,MAAOoF,GAEP,MADArB,QAAQqB,MAAM,aAAcA,GACtB,IAAI2E,MAAM,kBAClB,GAMWC,EAA2B,CACtCC,EACAZ,EACAa,EAAsB,OAEtB,MAAMC,EAAcC,eAAeC,QAAQJ,GAE3C,IAAKE,EACH,OAAOD,EAGT,IACE,OAAOf,EAAagB,EAAad,EACnC,CAAE,MAAOjE,GAEP,OADArB,QAAQqB,MAAM,gBAAiBA,GACxB8E,CACT,mFCkBI,SAAUI,EAAiBC,GAC/B,IAEE,MAAMxK,EAAQwK,EAAMtK,MAAM,KAC1B,GAAqB,IAAjBF,EAAMI,OAER,OADA4D,QAAQqB,MAAM,sBACP,KAIT,MAAMoF,EAjCV,SAAyBnK,GAKvB,IAHAA,EAAMA,EAAIH,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KAGpCG,EAAIF,OAAS,GAClBE,GAAO,IAIT,OAAOoK,mBACLC,KAAKrK,GACFJ,MAAM,IACNmC,IAAIuI,GAAK,KAAO,KAAOA,EAAEC,WAAW,GAAG5K,SAAS,KAAK6K,OAAM,IAC3DzK,KAAK,IAEZ,CAiBoB0K,CAAgB/K,EAAM,IACtC,OAAOgL,KAAKC,MAAMR,EACpB,CAAE,MAAOpF,GAEP,OADArB,QAAQqB,MAAM,cAAeA,GACtB,IACT,CACF,CAMO6F,eAAeC,IACpB,IACE,MAAMC,eAAEA,SAAyBC,QAAAC,UAAAC,KAAA,WAAA,OAAAC,EAAA,IACzBC,MAAMC,QAAEA,UAAoBN,EAAeO,KAAKC,aAExD,OAAKF,GAASG,aAIPtB,EAAiBmB,EAAQG,cAHvB,IAIX,CAAE,MAAOxG,GAEP,OADArB,QAAQqB,MAAM,qBAAsBA,GAC7B,IACT,CACF,CAOM,SAAUyG,EAAerB,GAC7B,MAAM3I,EAAMC,KAAKC,MAAMpB,KAAKkB,MAAQ,KACpC,OAAO2I,EAAQsB,KAAOjK,CACxB,CAOM,SAAUkK,EAAqBvB,GACnC,MAAM3I,EAAMC,KAAKC,MAAMpB,KAAKkB,MAAQ,KACpC,OAAO2I,EAAQsB,IAAMjK,CACvB,CAMM,SAAUmK,EAA6BC,EAAqB,mBAChE,GAAsB,oBAAX1C,OAEX,IAEE,MAAM2C,EAAeC,SAASC,OAC3BnM,MAAM,MACN2H,KAAKyE,GAAOA,EAAItG,WAAW,GAAGkG,QAC7BhM,MAAM,KAAK,GAEf,IAAKiM,EAAc,OAGnB,MAAMI,EAAgB7B,mBAAmByB,GACnCK,EAAcxB,KAAKC,MAAMsB,GACzBE,EAAcD,GAAaX,aAEjC,IAAKY,EAAa,OAGlB,MAAMhC,EAAUF,EAAiBkC,GACjC,GAAIhC,GAAWqB,EAAerB,GAAU,CACtCzG,QAAQ0I,IAAI,+BAGZN,SAASC,OAAS,GAAGH,kEAGE,CAAC,sBAAuB,gBAAiB,cACjD1G,QAAQmH,IACrBP,SAASC,OAAS,GAAGM,oEAGvB3I,QAAQ0I,IAAI,oBACd,CACF,CAAE,MAAOrH,GACPrB,QAAQqB,MAAM,oBAAqBA,EACrC,CACF,CAMO6F,eAAe0B,IACpB,IACE,MAAMxB,eAAEA,SAAyBC,QAAAC,UAAAC,KAAA,WAAA,OAAAC,EAAA,IACzBC,MAAMC,QAAEA,UAAoBN,EAAeO,KAAKC,aAExD,IAAKF,GAASG,aAGZ,OADAI,IACO,KAGT,MAAMxB,EAAUF,EAAiBmB,EAAQG,cACzC,OAAKpB,EAMDqB,EAAerB,IAEjBwB,UAGMb,EAAeO,KAAKkB,UACnB,MAGFpC,GAbLwB,IACO,KAaX,CAAE,MAAO5G,GAGP,OAFArB,QAAQqB,MAAM,iBAAkBA,GAChC4G,IACO,IACT,CACF,CAOM,SAAUa,EAAmBrC,GAEjC,OADqBuB,EAAqBvB,IACnB,GACzB,KCrNYsC,wMAAZ,SAAYA,GACVA,EAAA,cAAA,gBACAA,EAAA,eAAA,iBACAA,EAAA,mBAAA,qBACAA,EAAA,kBAAA,oBACAA,EAAA,aAAA,eACAA,EAAA,eAAA,iBACAA,EAAA,eAAA,iBACAA,EAAA,aAAA,cACD,CATD,CAAYA,KAAAA,GAAe,CAAA,IAY3B,MAAMC,GAAkD,CACtD,CAACD,GAAgBE,gBAAiB,oDAClC,CAACF,GAAgBG,oBAAqB,sEACtC,CAACH,GAAgBI,mBAAoB,mCACrC,CAACJ,GAAgBK,eAAgB,2CACjC,CAACL,GAAgBM,cAAe,iCAChC,CAACN,GAAgBO,gBAAiB,2CAClC,CAACP,GAAgBQ,gBAAiB,+CAClC,CAACR,GAAgBS,cAAe,wRAwI5B,SAAiCC,EAAcC,GASnD,MAAO,CACLA,YACAC,WAViBF,EAAMrN,OAWvBwN,eAVqBH,EAAMI,OAAOC,GAAkB,cAAbA,EAAEC,QAAwB3N,OAWjE4N,YAVkBP,EAAMI,OAAOC,GAAkB,WAAbA,EAAEC,QAAqB3N,OAW3D6N,WAViBR,EAAM3K,OAAO,CAACoL,EAAKJ,IAAMI,GAAOJ,EAAEK,UAAY,GAAI,GAWnEC,cAVoBX,EAAM3K,OAAO,CAACoL,EAAKJ,IAChCI,GAAOJ,EAAEK,UAAY,KAAOL,EAAEO,UAAY,GAAK,KACrD,GASDC,WAAY,EAEhB,uBAgBM,SAA+BC,GACnC,MAAMC,GAAW5N,KAAKkB,MAAQyM,EAAQb,WAAa,IAC7Ce,EAAaF,EAAQH,cAAa,QAExC,OAAOI,EAAU,EAAIC,EAAaD,EAAU,CAC9C,4CAlBM,SAAiCD,GACrC,MAAMC,EAAU5N,KAAKkB,MAAQyM,EAAQb,UAC/BW,EAAWE,EAAQH,cAAgBG,EAAQN,WAEjD,GAAiB,IAAbI,EAAgB,OAAO,KAE3B,MACMK,EADiBF,EAAUH,EACEG,EAEnC,OAAOzM,KAAKmD,IAAI,EAAGwJ,EACrB,+JAnKM,SAAgCrJ,GACpC,MAAMsJ,EAAetJ,GAAOuJ,SAASrI,eAAiB,GAChDsI,EAAgBxJ,GAAOyJ,UAAUrD,KAGvC,GAAIoD,GAAexJ,OAAO0J,KAAM,CAC9B,MAAMC,EAAYH,EAAcxJ,MAAM0J,KACtC,GAAI/B,GAAegC,GACjB,OAAOhC,GAAegC,EAE1B,CAGA,OAAIL,EAAa7J,SAAS,mBAAqB6J,EAAa7J,SAAS,OAC5DkI,GAAeD,GAAgBE,gBAGpC0B,EAAa7J,SAAS,gBACtB6J,EAAa7J,SAAS,mBACtB6J,EAAa7J,SAAS,OACjBkI,GAAeD,GAAgBG,oBAGpCyB,EAAa7J,SAAS,eACtB6J,EAAa7J,SAAS,iBACtB6J,EAAa7J,SAAS,QACtB6J,EAAa7J,SAAS,OACjBkI,GAAeD,GAAgBI,mBAGpCwB,EAAa7J,SAAS,YACtB6J,EAAa7J,SAAS,UACtB6J,EAAa7J,SAAS,YACN,kBAAhBO,GAAO0J,KACF/B,GAAeD,GAAgBK,eAGpCuB,EAAa7J,SAAS,UACtB6J,EAAa7J,SAAS,iBACtB6J,EAAa7J,SAAS,OACjBkI,GAAeD,GAAgBQ,gBAGpCoB,EAAa7J,SAAS,mBACtB6J,EAAa7J,SAAS,iBACtB6J,EAAa7J,SAAS,OACjBkI,GAAeD,GAAgBS,cAIjC,sCACT,6BAGM,SAA2BnI,GAC/B,MAAMsJ,EAAetJ,GAAOuJ,SAASrI,eAAiB,GAChDyI,EAAY3J,GAAOyJ,UAAUrD,MAAMpG,OAAO0J,KAWhD,OAR2B,CACzBhC,GAAgBE,eAChBF,GAAgBG,mBAChBH,GAAgBI,kBAChBJ,GAAgBQ,eAChBR,GAAgBS,cAGK1I,SAASkK,MAK5BL,EAAa7J,SAAS,mBACtB6J,EAAa7J,SAAS,gBACtB6J,EAAa7J,SAAS,mBACtB6J,EAAa7J,SAAS,eACtB6J,EAAa7J,SAAS,iBACtB6J,EAAa7J,SAAS,SAM5B,sEAGM,SACJO,EACA4J,GAQA,MAAMC,EAAY,CAChBN,QAASvJ,GAAOuJ,SAAW,gBAC3BO,MAAO9J,GAAO8J,MACdL,SAAUzJ,GAAOyJ,UAAUrD,KAC3BwD,UACAG,WAAW,IAAIxO,MAAOyO,cACtBC,UAAWC,UAAUD,WAIM,gBAAzBzJ,QAAQC,IAAI0J,WACdxL,QAAQyL,MAAM,mBACdzL,QAAQqB,MAAM,iBAAkB6J,GAChClL,QAAQ0L,YAImB,eAAzB7J,QAAQC,IAAI0J,UAGdxL,QAAQqB,MAAM,gBAAiB6J,EAEnC,+MCvHA,IAAIS,GAAuC,CAAA,ECyBpC,MAAMC,GAASC,EAAAA,WAA2C,EAC/DC,UAAU,UACVlL,OAAO,KACPmL,WAAU,EACVC,aAAY,EACZC,YACAC,UACAC,WACAC,YAAY,GACZC,cACGC,GACFC,KAED,MA0BMC,EAAgB,CAzBpB,wEACA,sDACA,kDAIqB,CACrBC,QAAS,+DACTC,UAAW,+DACXC,QAAS,8EACTC,MAAO,sDACPC,OAAQ,6DAgBOf,GAZG,CAClBzL,GAAI,iCACJC,GAAI,iCACJC,GAAI,gCAUQK,GANKoL,EAAY,SAAW,GAQxCI,GACAvC,OAAOiD,SAASzQ,KAAK,KA0BvB,OACE0Q,EAAAA,KAAA,SAAA,CACER,IAAKA,EACLH,UAAWI,EACXL,SAAUA,GAAYJ,KAClBO,EAAKD,SAAA,CAERN,GAAWiB,EAAAA,IA9BO,IACrBD,EAAAA,KAAA,MAAA,CACEX,UAAU,kCACVa,KAAK,OACLC,QAAQ,YAAW,cACP,OAAMb,SAAA,CAElBW,EAAAA,IAAA,SAAA,CACEZ,UAAU,aACVe,GAAG,KACHC,GAAG,KACHC,EAAE,KACFC,OAAO,eACPC,YAAY,MAEdP,EAAAA,IAAA,OAAA,CACEZ,UAAU,aACVa,KAAK,eACLO,EAAE,uHAYuB,CAAA,IACzBzB,GAAWE,GACXe,EAAAA,IAAA,OAAA,CAAMZ,UAAU,OAAMC,SAAEJ,IAEzBI,GACCN,GAAWG,GACXc,MAAA,OAAA,CAAMZ,UAAU,OAAMC,SAAEH,SAMhCN,GAAO6B,YAAc,SChGd,MCdDC,GAAQ7B,EAAAA,WAAyC,EACrD8B,QACAtM,QACAuM,SACAC,OAAO,OACPjN,OAAO,KACPoL,aAAY,EACZ8B,iBACAC,eACA3B,YAAY,GACZ4B,qBAAqB,GACrBC,iBAAiB,GACjBC,iBAAiB,GACjBC,kBAAkB,GAClBhC,YAAW,EACXiC,YAAW,EACX7O,QACG+M,GACFC,KACD,MAAM8B,EAAU9O,GAAM,SAASxB,KAAKuQ,SAASrS,SAAS,IAAIsS,OAAO,EAAG,KAiC9DC,EAAe,0SA9BD,CAClBnO,GAAI,mBACJC,GAAI,oBACJC,GAAI,uBA6BUK,WAPMS,EAClB,sCACA,sEAOAyM,EAAiB,OAAS,WAC1BC,EAAe,OAAS,WACxB3B,QACFqC,OAAOtS,QAAQ,OAAQ,KAEzB,OACE4Q,EAAAA,KAAA,MAAA,CAAKX,UAAW,GAAGJ,EAAY,SAAW,YAAYgC,IAAoB3B,SAAA,CAEvEsB,GACCX,EAAAA,IAAA,QAAA,CACE0B,QAASL,EACTjC,UAAW,sJAOPgC,EAAW,oDAAsD,mBACjEjC,EAAW,aAAe,mBAC1B8B,gBACFQ,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAE5BsB,IAKLZ,EAAAA,KAAA,MAAA,CAAKX,UAAU,WAAUC,SAAA,CAEtByB,GACCd,EAAAA,IAAA,MAAA,CAAKZ,UAAU,6EAA4EC,SACxFyB,IAKLd,EAAAA,IAAA,QAAA,CACET,IAAKA,EACLhN,GAAI8O,EACJR,KAAMA,EACN1B,SAAUA,EACViC,SAAUA,EACVhC,UAAWoC,KACPlC,IAILyB,GACCf,MAAA,MAAA,CAAKZ,UAAU,0DAAyDC,SACrE0B,OAMN1M,GACC2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,+FAKV8B,cACFO,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAC1BhL,IAKJuM,IAAWvM,GACV2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,gGAKV+B,cACFM,OAAOtS,QAAQ,OAAQ,cACtByR,SAOXF,GAAMD,YAAc,QC7GpB,MAAMkB,GAAS9C,EAAAA,WAAwC,EACrD+C,UACA3P,QACA4P,WACAC,cAAc,SACd3C,YAAW,EACXwB,QACAtM,QACAuM,SACAhN,OAAO,KACPoL,aAAY,EACZ+C,YAAW,EACXC,cAAa,EACbC,oBAAoB,QACpBC,YAAW,EACXC,mBAAkB,EAClBC,YAAY,QACZC,gBAAgB,WAChBjD,YAAY,GACZkD,oBAAoB,GACpBrB,iBAAiB,GACjBC,iBAAiB,GACjBC,kBAAkB,IACjB5B,KACD,MAAOgD,EAAQC,GAAaC,EAAAA,UAAS,IAC9BC,EAAYC,GAAiBF,EAAAA,SAAS,IAEvCG,EAAcC,EAAAA,OAAuB,MACrCC,EAAW,UAAU/R,KAAKuQ,SAASrS,SAAS,IAAIsS,OAAO,EAAG,KAG1DwB,EAAiBC,EAAAA,QAAQ,IACzBjB,EAAiB,KACdH,EAAQ/K,KAAKoM,GAAUA,EAAOhR,QAAUA,GAC9C,CAAC2P,EAAS3P,EAAO8P,IAUpBmB,EAAAA,UAAU,KACR,MAAMC,EAAsBC,IAExBR,EAAYS,UACXT,EAAYS,QAAQC,SAASF,EAAMG,UAEpCf,GAAU,GACVG,EAAc,MAKlB,OADAvH,SAASoI,iBAAiB,YAAaL,GAChC,KACL/H,SAASqI,oBAAoB,YAAaN,KAE3C,IAEH,MA2CMO,EAAgB,4VAnEF,CAClBrQ,GAAI,mBACJC,GAAI,oBACJC,GAAI,uBAkEUK,WAPMS,EAClB,sCACA,sEAOA+K,QACFqC,OAAOtS,QAAQ,OAAQ,KAEzB,OACE4Q,EAAAA,KAAA,MAAA,CACER,IAAKA,EACLH,WAAcJ,EAAY,SAAW,UAA1B,YAA6CK,SAAA,CAGvDsB,GACCX,EAAAA,IAAA,QAAA,CACE0B,QAASoB,EACT1D,UAAW,sJAOPD,EAAW,aAAe,mBAC1B8B,gBACFQ,OAAOtS,QAAQ,OAAQ,cAExBwR,IAKLZ,EAAAA,KAAA,MAAA,CACER,IAAKqD,EACLrQ,GAAIuQ,EACJa,KAAK,SACLC,SAAUzE,GAAW,EAAK,kBACXoD,EAAM,gBACP,UACdsB,QAzEiB,KAChB1E,IACHqD,GAAWD,GACXI,EAAc,MAuEZvD,UAAWsE,EAAarE,SAAA,CAExBW,EAAAA,IAAA,MAAA,CAAKZ,UAAU,0DACZ2D,EACC/C,EAAAA,YAAMZ,UAAU,yBAAwBC,SAAE0D,EAAepC,QAEzDX,EAAAA,IAAA,OAAA,CAAMZ,UAAU,kCAA0B0C,MAK9C9B,EAAAA,WACEZ,UAAW,0EACTmD,EAAS,aAAe,IAE1BtC,KAAK,OACLK,OAAO,eACPJ,QAAQ,qBAERF,EAAAA,IAAA,OAAA,CACE8D,cAAc,QACdC,eAAe,QACfxD,YAAa,EACbC,EAAE,wBAMP+B,GACCvC,EAAAA,WACEZ,UAAW,mHAAmHkD,aAG9HtC,EAAAA,IAAA,MAAA,CACEZ,UAAU,kBACV4E,MAAO,CAAE5B,aACTuB,KAAK,mBAEe,IAAnB/B,EAAQxS,OACP4Q,EAAAA,IAAA,MAAA,CAAKZ,UAAU,8CAA6CC,SACzDgD,IAGHT,EAAQvQ,IAAI4R,IACV,MAAMgB,EAAahB,EAAOhR,QAAUA,EAEpC,OACE+N,EAAAA,IAAA,SAAA,CAEEa,KAAK,SACL8C,KAAK,SAAQ,gBACEM,EACfJ,QAAS,IAxID,CAACZ,IACrBA,EAAO9D,WACX0C,EAASoB,GACJlB,IACHS,GAAU,GACVG,EAAc,OAmIeuB,CAAkBjB,GACjC9D,SAAU8D,EAAO9D,SACjBC,UAAW,kLAGP6D,EAAO9D,SACL,2CACA8E,EACE,2BACA,0HAGNxC,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAE7BU,OAAA,MAAA,CAAKX,UAAU,2BACbY,EAAAA,IAAA,MAAA,CAAKZ,UAAU,WAAUC,SAAE4D,EAAOtC,QACjCwB,GAAmBc,EAAOkB,aACzBnE,EAAAA,IAAA,MAAA,CAAKZ,UAAU,sCAAqCC,SACjD4D,EAAOkB,kBAtBTlB,EAAO1Q,UAmCzB8B,GACC2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,+FAKV8B,cACFO,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAC1BhL,IAKJuM,IAAWvM,GACV2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,gGAKV+B,cACFM,OAAOtS,QAAQ,OAAQ,cACtByR,SAOXe,GAAOlB,YAAc,SC/RrB,MAAM2D,GAAWvF,EAAAA,WAA4C,EAC3DwF,WAAU,EACVxC,WACAlB,QACAtM,QACAuM,SACAhN,OAAO,KACP0Q,iBAAgB,EAChBC,gBAAgB,QAChBpF,YAAW,EACXC,YAAY,GACZ4B,qBAAqB,GACrBC,iBAAiB,GACjBC,iBAAiB,GACjBC,kBAAkB,GAClB5O,QACG+M,GACFC,KACD,MAAMiF,EAAajS,GAAM,YAAYxB,KAAKuQ,SAASrS,SAAS,IAAIsS,OAAO,EAAG,KAoCpEkD,EAAkB,ySAjCJ,CAClBpR,GAAI,UACJC,GAAI,UACJC,GAAI,WAgCUK,WAPMS,EAClB,iBACA,gDAOA+K,QACFqC,OAAOtS,QAAQ,OAAQ,KAEnBuV,EACJ1E,MAAA,QAAA,CACET,IAAKA,EACLhN,GAAIiS,EACJ3D,KAAK,WACLwD,QAASA,EACTxC,SAxCkBuB,IACpBvB,IAAWuB,EAAMG,OAAOc,QAASjB,IAwC/BjE,SAAUA,EACVC,UAAWqF,KACPnF,IAIFqF,EAAehE,GACnBX,EAAAA,IAAA,QAAA,CACE0B,QAAS8C,EACTpF,UAAW,6HAMPD,EAAW,gCAAkC,6BAC7C8B,YACFQ,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAE5BsB,IAIL,OACEZ,OAAA,MAAA,CAAKX,UAAW4B,EAAkB3B,SAAA,CAEhCU,EAAAA,KAAA,MAAA,CAAKX,UAAW,4BAA6C,SAAlBmF,EAA2B,mBAAqB,cACxFG,EACAC,KAIFtQ,GACC2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,+FAKV8B,cACFO,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAC1BhL,IAKJuM,IAAWvM,GACV2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,gGAKV+B,cACFM,OAAOtS,QAAQ,OAAQ,cACtByR,SAOXwD,GAAS3D,YAAc,WC5HvB,MAAMmE,GAAQ/F,EAAAA,WAAyC,EACrDwF,WAAU,EACVxC,WACAlG,OACA1J,QACA0O,QACAtM,QACAuM,SACAhN,OAAO,KACP2Q,gBAAgB,QAChBpF,YAAW,EACXC,YAAY,GACZ4B,qBAAqB,GACrBC,iBAAiB,GACjBC,iBAAiB,GACjBC,kBAAkB,GAClB9B,WACA9M,QACG+M,GACFC,KACD,MAAMsF,EAAUtS,GAAM,SAASxB,KAAKuQ,SAASrS,SAAS,IAAIsS,OAAO,EAAG,KAoB9DuD,EAAYzF,GAAYsB,EAExBoE,EACJhF,EAAAA,KAAA,MAAA,CAAKX,UAAU,oCAAmCC,SAAA,CAChDW,EAAAA,IAAA,QAAA,CACET,IAAKA,EACLhN,GAAIsS,EACJhE,KAAK,QACLlF,KAAMA,EACN1J,MAAOA,EACPoS,QAASA,EACTxC,SAhBgBuB,IACpBvB,IAAWuB,EAAMG,OAAOtR,MAAOmR,IAgB3BjE,SAAUA,EACVC,UAAU,aACNE,IAENU,EAAAA,IAAA,OAAA,CACEZ,UAAW,sIAlCG,CAClB/L,GAAI,UACJC,GAAI,UACJC,GAAI,WAkCgBK,iBACZyQ,EACEhQ,EACE,4BACA,8BACFA,EACE,iBACA,sDAEJ8K,EACE,gCACA,+BAEFC,cACFqC,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAE7BW,EAAAA,IAAA,OAAA,CACEZ,UAAW,gFAhDI,CACrB/L,GAAI,cACJC,GAAI,cACJC,GAAI,WA+CqBK,mBACfyQ,EAAU,wBAA0B,mCACtC5C,OAAOtS,QAAQ,OAAQ,YAM3BwV,EAAeG,GACnB9E,EAAAA,IAAA,QAAA,CACE0B,QAASmD,EACTzF,UAAW,wJAOPD,EAAW,gCAAkC,6BAC7C8B,YACFQ,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAE5ByF,IAIL,OACE/E,OAAA,MAAA,CAAKX,UAAW4B,EAAkB3B,SAAA,CAEhCU,EAAAA,KAAA,MAAA,CAAKX,UAAW,mCAAoD,SAAlBmF,EAA2B,mBAAqB,cAC/FQ,EACAJ,KAIFtQ,GACC2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,+FAKV8B,cACFO,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAC1BhL,IAKJuM,IAAWvM,GACV2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,gGAKV+B,cACFM,OAAOtS,QAAQ,OAAQ,cACtByR,SAOXgE,GAAMnE,YAAc,QChJpB,MAAMuE,GAASnG,EAAAA,WAA0C,EACvDwF,WAAU,EACVxC,WACAlB,QACAtM,QACAuM,SACAhN,OAAO,KACP2Q,gBAAgB,QAChBU,SACAC,UACA/F,YAAW,EACXC,YAAY,GACZ4B,qBAAqB,GACrBC,iBAAiB,GACjBC,iBAAiB,GACjBC,kBAAkB,GAClB5O,QACG+M,GACFC,KACD,MAAM4F,EAAW5S,GAAM,UAAUxB,KAAKuQ,SAASrS,SAAS,IAAIsS,OAAO,EAAG,KA4BhE6D,EAzBc,CAClB/R,GAAI,CACFgS,MAAO,UACPC,MAAO,UACPC,UAAW,gBACXC,KAAM,gBAERlS,GAAI,CACF+R,MAAO,WACPC,MAAO,UACPC,UAAW,gBACXC,KAAM,kBAERjS,GAAI,CACF8R,MAAO,WACPC,MAAO,UACPC,UAAW,gBACXC,KAAM,iBAQsB5R,GAG1B6R,EAAe,gDAEjBL,EAAYC,2KAMZhB,EACEhQ,EACE,aACA,cACFA,EACE,aACA,sBAEJ8K,EACE,gCACA,yBAEFC,QACFqC,OAAOtS,QAAQ,OAAQ,KAGnBuW,EAAe,2BAEjBN,EAAYE,4HAMZjB,EAAUe,EAAYG,UAAY,wBACpC9D,OAAOtS,QAAQ,OAAQ,KAEnBwW,EACJ5F,EAAAA,KAAA,MAAA,CAAKX,UAAU,uBAAsBC,SAAA,CACnCW,EAAAA,IAAA,QAAA,CACET,IAAKA,EACLhN,GAAI4S,EACJtE,KAAK,WACLwD,QAASA,EACTxC,SAjDgBuB,IACpBvB,IAAWuB,EAAMG,OAAOc,QAASjB,IAiD7BjE,SAAUA,EACVC,UAAU,aACNE,IAENS,EAAAA,KAAA,QAAA,CACE2B,QAASyD,EACT/F,UAAWqG,EAAYpG,SAAA,EAGrB4F,GAAUC,IACVlF,EAAAA,IAAA,OAAA,CAAMZ,UAAW,8HAGbgG,EAAYI,oDAEfnG,SACEgF,EAAUY,EAASC,IAKxBlF,EAAAA,IAAA,OAAA,CAAMZ,UAAWsG,UAKjBf,EAAehE,GACnBX,EAAAA,IAAA,QAAA,CACE0B,QAASyD,EACT/F,UAAW,6HAMPD,EAAW,gCAAkC,6BAC7C8B,YACFQ,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAE5BsB,IAIL,OACEZ,OAAA,MAAA,CAAKX,UAAW4B,EAAkB3B,SAAA,CAEhCU,EAAAA,KAAA,MAAA,CAAKX,UAAW,mCAAoD,SAAlBmF,EAA2B,mBAAqB,cAC/FoB,EACAhB,KAIFtQ,GACC2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,+FAKV8B,cACFO,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAC1BhL,IAKJuM,IAAWvM,GACV2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,gGAKV+B,cACFM,OAAOtS,QAAQ,OAAQ,cACtByR,SAOXoE,GAAOvE,YAAc,SCzKrB,MAAMmF,GAAW/G,EAAAA,WAA+C,EAC9D8B,QACAtM,QACAuM,SACAhN,OAAO,KACPoL,aAAY,EACZ6G,cAAa,EACbC,YAAY,GACZ1D,YAAY,IACZ2D,YACAC,aAAY,EACZ7G,YAAW,EACXiC,YAAW,EACXhC,YAAY,GACZ4B,qBAAqB,GACrBC,iBAAiB,GACjBC,iBAAiB,GACjBC,kBAAkB,GAClB8E,iBAAiB,GACjBhU,QACA4P,WACAtP,QACG+M,GACFC,KACD,MAAM2G,EAAa3T,GAAM,YAAYxB,KAAKuQ,SAASrS,SAAS,IAAIsS,OAAO,EAAG,MACnE4E,EAAgBC,GAAqB3D,EAAAA,SAAiBqD,GAUvDO,EAAmBC,cAAaC,IACpC,IAAKV,EAAY,OAGjBU,EAAQvC,MAAMwC,OAAS,OAGvB,MAAMC,EAAeF,EAAQE,aACvBC,EAAY3V,KAAKoD,IAAIpD,KAAKmD,IAAIuS,EAAcX,GAAY1D,GAE9DgE,EAAkBM,GAClBH,EAAQvC,MAAMwC,OAAS,GAAGE,OACzB,CAACb,EAAYC,EAAW1D,IA0CrBuE,EAAkB,2TA7DJ,CAClBtT,GAAI,sBACJC,GAAI,oBACJC,GAAI,uBA4DUK,WAPMS,EAClB,sCACA,sEAOAwR,EAAa,cAAgB,mBAC7BzG,QACFqC,OAAOtS,QAAQ,OAAQ,KAGnByX,EAAiC,iBAAV3U,EAAqBA,EAAM7C,OAAS,EAC3DyX,IAAcd,GAAYa,EAAgBb,EAEhD,OACEhG,OAAA,MAAA,CAAKX,UAAW,GAAGJ,EAAY,SAAW,YAAYgC,IAAoB3B,SAAA,CAExEU,EAAAA,KAAA,MAAA,CAAKX,UAAU,mDAEZuB,GACCX,EAAAA,IAAA,QAAA,CACE0B,QAASwE,EACT9G,UAAW,gJAMPgC,EAAW,oDAAsD,qBACjEjC,EAAW,aAAe,qBAC1B8B,kBACFQ,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAE5BsB,IAKJqF,IAAcD,GAAaa,EAAgB,IAC1C7G,OAAA,OAAA,CAAMX,UAAW,6DAGbyH,EACE,eACAD,GAAiBb,GAAa,KAAO,GACnC,kBACA,gCAEJE,gBACFxE,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAAA,CAC1BuH,EAAeb,GAAa,IAAIA,UAMvC/F,EAAAA,IAAA,WAAA,CACET,IAAKA,EACLhN,GAAI2T,EACJjU,MAAOA,EACP4P,SAjGgBuB,IAEhB2C,GAAa3C,EAAMG,OAAOtR,MAAM7C,OAAS2W,IAI7ClE,IAAWuB,GAGPyC,GACFQ,EAAiBjD,EAAMG,UAwFrBpE,SAAUA,EACViC,SAAUA,EACV2E,UAAWA,EACX3G,UAAWuH,EACX3C,MAAO6B,EAAa,CAAEW,OAAQL,EAAgBL,YAAW1D,aAAc,CAAE0D,gBACrExG,IAINS,EAAAA,KAAA,MAAA,CAAKX,UAAU,kDAEbW,EAAAA,KAAA,MAAA,CAAKX,UAAU,SAAQC,SAAA,CACpBhL,GACC2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,+FAIV8B,kBACFO,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAC1BhL,IAIJuM,IAAWvM,GACV2L,EAAAA,IAAA,IAAA,CAAGZ,UAAW,gGAIV+B,kBACFM,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAC1BuB,OAMNoF,IAAcrF,IAAUoF,GAAaa,EAAgB,IACpD7G,EAAAA,KAAA,OAAA,CAAMX,UAAW,0GAKbyH,EACE,eACAD,GAAiBb,GAAa,KAAO,GACnC,kBACA,gCAEJE,gBACFxE,OAAOtS,QAAQ,OAAQ,KAAIkQ,SAAA,CAC1BuH,EAAeb,GAAa,IAAIA,eCxN7C,SAASe,IAAShI,QAChBA,EAAU,cAAa9K,MACvBA,EAAKwS,OACLA,EAAMO,SACNA,GAAW,EAAIC,MACfA,GAAQ,EAAK5H,UACbA,EAAY,GAAE4E,MACdA,KACG1E,IAGH,MAwBM2H,EAAkBD,EACpB,cACA,+BAGEE,EAAqC,IArBlB,CAACpI,IACxB,OAAQA,GACN,IAAK,cAQL,QACE,MAAO,CAAE9K,MAAOA,GAAS,OAAQwS,OAAQA,GAAU,UAPrD,IAAK,WACH,MAAO,CAAExS,MAAOA,GAAS,SAAUwS,OAAQA,GAAUxS,GAAS,UAChE,IAAK,UACH,MAAO,CAAEA,MAAOA,GAAS,OAAQwS,OAAQA,GAAU,UACrD,IAAK,OACH,MAAO,CAAExS,MAAOA,GAAS,OAAQwS,OAAQA,GAAU,UAapDW,CAAiBrI,MACjBkF,GAGL,OACEhE,EAAAA,IAAA,MAAA,CACEZ,UAAW,aACP6H,cArCe,CACrBG,YAAa,aACbC,SAAU,eACVC,QAAS,aACT9B,KAAM,cAkCe1G,eACfiI,EAAW,gBAAkB,eAC7B3H,YACFqC,OAAOtS,QAAQ,OAAQ,KACzB6U,MAAOkD,KACH5H,GAGV,CDuKAsG,GAASnF,YAAc,WCpKvB,MAAM8G,GAAe,EAAGC,QAAQ,EAAGpI,YAAY,MAAOE,KACpDU,EAAAA,IAAA,MAAA,CAAKZ,UAAW,aAAaA,OAAiBE,WAC3CxH,MAAM2P,KAAK,CAAErY,OAAQoY,IAASnW,IAAI,CAACmG,EAAGkQ,IACrC1H,EAAAA,IAAC8G,GAAQ,CAEPhI,QAAQ,OACR9K,MAAO0T,IAAUF,EAAQ,EAAI,MAAQ,OACrChB,OAAO,YAHFkB,MASPC,GAAiB,EAAG/T,OAAO,QAAS0L,MACxC,MAAM/K,EAAQ,CACZlB,GAAI,OACJC,GAAI,SACJC,GAAI,OACJC,GAAI,QAGN,OACEwM,EAAAA,IAAC8G,GAAQ,CACPhI,QAAQ,WACR9K,MAAOO,EAAMX,GACb4S,OAAQjS,EAAMX,MACV0L,KAKJsI,GAAiB,EAAG9I,QAAS+I,EAAgB,QAASvI,MAC1D,MAWMwI,EAXgB,CAAClU,IACrB,OAAQA,GACN,IAAK,KACH,MAAO,CAAEI,MAAO,OAAQwS,OAAQ,QAClC,IAAK,KACH,MAAO,CAAExS,MAAO,OAAQwS,OAAQ,QAClC,QACE,MAAO,CAAExS,MAAO,OAAQwS,OAAQ,YAInBuB,CAAcF,GAEjC,OACE7H,EAAAA,IAAC8G,GAAQ,CACPhI,QAAQ,UACR9K,MAAO8T,EAAW9T,MAClBwS,OAAQsB,EAAWtB,UACflH,KC5HJ0I,GAAUnT,QAAQC,IAAImT,oBAYfC,GAAgBC,EAAMC,OAAO,CACxCJ,WACAK,QAAS,KACTC,QAAS,CACP,eAAgB,mBAChBC,OAAQ,oBAEVC,iBAAiB,ICVnB,IAAYC,GAOAC,GDkCZR,GAAcS,aAAaC,QAAQC,IAAI3O,MAAO4O,IAE5C,IAAKA,EAAOC,UAAUC,WAAY,CACVF,EAAOC,SACVD,EAAOC,QAe5B,CAUA,GAPID,EAAOrO,gBAAgBwO,UACrBH,EAAOR,gBACFQ,EAAOR,QAAQ,gBAKJ,oBAAX9P,OACT,IAEE,MAAM0Q,EAAgB9N,SAASC,OAC5BnM,MAAM,MACN2H,KAAKyE,GAAOA,EAAItG,WAAW,sBAC1B9F,MAAM,KAAK,GAEf,GAAIga,EAAe,CAEjB,MAAMC,EAAiBzP,mBAAmBwP,GACpC1N,EAAcxB,KAAKC,MAAMkP,GAGzB1N,EAAcD,GAAaX,aAEjC,GAAIY,EAAa,CAEf,MAAMlC,iBAAEA,EAAgBuB,eAAEA,EAAcG,6BAAEA,SAAuCZ,QAAAC,UAAAC,KAAA,WAAA,OAAA6O,EAAA,GAC3E3P,EAAUF,EAAiBkC,GAE7BhC,IAAYqB,EAAerB,GAEzBqP,EAAOR,UACTQ,EAAOR,QAAQe,cAAgB,UAAU5N,MAI3CzI,QAAQ0I,IAAI,sCACZT,IAEJ,CACF,CACF,CAAE,MAAO5G,GAEP,IACE,MAAM4G,6BAAEA,SAAuCZ,QAAAC,UAAAC,KAAA,WAAA,OAAA6O,EAAA,GAC/CnO,GACF,CAAE,MAAOqO,GACPtW,QAAQqB,MAAM,sBAAuBiV,EACvC,CACF,CAGF,OAAOR,IAITZ,GAAcS,aAAa7K,SAAS+K,IAClC3O,MAAM4D,IAEJ,MAAMgL,EAAShL,EAASgL,OAoBxB,GAnBKA,EAAOC,UAAUC,YACEF,EAAOC,SAkBK,MAAhCjL,EAASrD,MAAM8O,aAAsB,CACvC,MAAMC,EAAa1L,EAASrD,MAAM+O,WAC5B7L,EAAeG,EAASrD,MAAMmD,SAAWE,EAASrD,MAAMA,KAG9D,GACiB,cAAf+O,GACwB,iBAAjB7L,IACNA,EAAa7J,SAAS,0BACrB6J,EAAa7J,SAAS,iBACtB6J,EAAa7J,SAAS,iBACxB,CAEA,MAAMsG,eAAEA,SAAyBC,QAAAC,UAAAC,KAAA,WAAA,OAAAC,EAAA,IAE/BC,MAAMC,QAAEA,UACAN,EAAeO,KAAKC,aAE9B,IAAKF,IAAYA,EAAQG,aAAc,CAErC,MAAMuI,EAAQ,IAAIqG,YAAY,aAAc,CAC1CC,OAAQ,CACN7I,KAAM,gBACNjD,QAASD,KAGbnF,OAAOmR,cAAcvG,EACvB,CACF,CACF,CAEA,OAAOtF,GAET5D,MAAM7F,IAEWA,EAAMyU,OAoBrB,IAC8B,MAA3BzU,EAAMyJ,UAAUf,QAA6C,MAA3B1I,EAAMyJ,UAAUf,UAClD1I,EAAMyU,OAAOc,SAEd,IACE5W,QAAQ0I,IAAI,qCAGZ,MAAMtB,eAAEA,SAAyBC,QAAAC,UAAAC,KAAA,WAAA,OAAAC,EAAA,IAE/BC,MAAMC,QAAEA,GACRrG,MAAOwV,SACCzP,EAAeO,KAAKC,aAE9B,GAAIiP,IAAiBnP,EAEnB,MADA1H,QAAQqB,MAAM,8BACR,IAAI2E,MAAM,kBAIlB,MAAQyB,KAAMqP,EAAazV,MAAO0V,SAC1B3P,EAAeO,KAAKqP,iBAE5B,GAAID,IAAiBD,EAAYpP,QAE/B,MADA1H,QAAQqB,MAAM,qBACR,IAAI2E,MAAM,kBAGlBhG,QAAQ0I,IAAI,qBAGZ,MAAMuO,EAAiB5V,EAAMyU,OAK7B,OAJAmB,EAAeL,UAAW,EAC1BK,EAAe3B,QAAQe,cAAgB,UAAUS,EAAYpP,QAAQG,eAErE7H,QAAQ0I,IAAI,6BACLwM,GAAc+B,EACvB,CAAE,MAAOF,GACP/W,QAAQqB,MAAM,0BAA2B0V,GAGzC,MAAM3P,eAAEA,SAAyBC,QAAAC,UAAAC,KAAA,WAAA,OAAAC,EAAA,SAC3BJ,EAAeO,KAAKkB,UAE1B,MAAMuH,EAAQ,IAAIqG,YAAY,aAAc,CAC1CC,OAAQ,CAAE7I,KAAM,mBAElBrI,OAAOmR,cAAcvG,EACvB,CAGF,OAAO/I,QAAQ6P,OAAO7V,KCvP1B,SAAYoU,GACVA,EAAA,aAAA,eACAA,EAAA,SAAA,IACAA,EAAA,QAAA,IACAA,EAAA,GAAA,IACD,CALD,CAAYA,KAAAA,GAAe,CAAA,IAO3B,SAAYC,GACVA,EAAAA,EAAA,QAAA,KAAA,UACAA,EAAAA,EAAA,YAAA,KAAA,cACAA,EAAAA,EAAA,KAAA,KAAA,OACAA,EAAAA,EAAA,aAAA,KAAA,eACAA,EAAAA,EAAA,UAAA,KAAA,YACAA,EAAAA,EAAA,UAAA,KAAA,YACAA,EAAAA,EAAA,sBAAA,KAAA,wBACAA,EAAAA,EAAA,YAAA,KAAA,cACAA,EAAAA,EAAA,oBAAA,KAAA,sBACAA,EAAAA,EAAA,gBAAA,KAAA,iBACD,CAXD,CAAYA,KAAAA,GAAY,CAAA,UCOXyB,GAIX,WAAAC,CAAY/R,EAAkB,GAAIgS,EAAyC,CAAA,GACzE1T,KAAK0B,QAAUA,EACf1B,KAAK0T,eAAiB,CACpB,eAAgB,sBACbA,EAEP,CAKU,WAAAC,CAAejW,GACvB,GAAIA,aAAiBkW,EAAAA,WAAY,CAI/B,MAAO,CACLhB,aAAc,IACdC,WALanV,EAAMyJ,UAAUf,QAAU2L,GAAa8B,sBAMpD5M,QALcvJ,EAAMyJ,UAAUrD,MAAMmD,SAAWvJ,EAAMuJ,SAAW,oBAMhEnD,KAAM,KAEV,CAEA,MAAO,CACL8O,aAAc,IACdC,WAAYd,GAAa8B,sBACzB5M,QAASvJ,EAAMuJ,SAAW,yBAC1BnD,KAAM,KAEV,CAKU,QAAAgQ,CAASC,GACjB,OAAIA,EAAS1V,WAAW,QACf0V,EAEF,GAAG/T,KAAK0B,UAAUqS,EAAS1V,WAAW,KAAO0V,EAAW,IAAIA,KACrE,CAKU,aAAAC,CAAc/I,GACtB,MAAMkH,EAAc,CAClBR,QAAS,IACJ3R,KAAK0T,kBACLzI,GAAS0G,SAEdhQ,OAAQsJ,GAAStJ,OACjB+P,QAASzG,GAASyG,SAYpB,OARIzG,GAASoH,YAAcpH,GAASgJ,eAAiBhJ,GAASiJ,cAC5D/B,EAAOC,SAAW,CAChBC,WAAYpH,EAAQoH,WACpB4B,cAAehJ,EAAQgJ,cACvBC,WAAYjJ,EAAQiJ,aAIjB/B,CACT,CAGO,SAAMgC,CAAWJ,EAAkB9I,GACxC,IACE,MAAMjO,EAAMgD,KAAK8T,SAASC,GACpB5B,EAASnS,KAAKgU,cAAc/I,GAGlC,aADyDsG,GAAc4C,IAAInX,EAAKmV,IAChErO,IAClB,CAAE,MAAOpG,GACP,OAAOsC,KAAK2T,YAAejW,EAC7B,CACF,CAEO,UAAM0W,CACXL,EACAjQ,EACAmH,GAEA,IACE,MAAMjO,EAAMgD,KAAK8T,SAASC,GACpB5B,EAASnS,KAAKgU,cAAc/I,GAGlC,aADyDsG,GAAc6C,KAAKpX,EAAK8G,EAAMqO,IACvErO,IAClB,CAAE,MAAOpG,GACP,OAAOsC,KAAK2T,YAAejW,EAC7B,CACF,CAEO,SAAM2W,CACXN,EACAjQ,EACAmH,GAEA,IACE,MAAMjO,EAAMgD,KAAK8T,SAASC,GACpB5B,EAASnS,KAAKgU,cAAc/I,GAGlC,aADyDsG,GAAc8C,IAAIrX,EAAK8G,EAAMqO,IACtErO,IAClB,CAAE,MAAOpG,GACP,OAAOsC,KAAK2T,YAAejW,EAC7B,CACF,CAEO,WAAM4W,CACXP,EACAjQ,EACAmH,GAEA,IACE,MAAMjO,EAAMgD,KAAK8T,SAASC,GACpB5B,EAASnS,KAAKgU,cAAc/I,GAGlC,aADyDsG,GAAc+C,MAAMtX,EAAK8G,EAAMqO,IACxErO,IAClB,CAAE,MAAOpG,GACP,OAAOsC,KAAK2T,YAAejW,EAC7B,CACF,CAEO,YAAM,CAAcqW,EAAkB9I,GAC3C,IACE,MAAMjO,EAAMgD,KAAK8T,SAASC,GACpB5B,EAASnS,KAAKgU,cAAc/I,GAGlC,aADyDsG,GAAcgD,OAAOvX,EAAKmV,IACnErO,IAClB,CAAE,MAAOpG,GACP,OAAOsC,KAAK2T,YAAejW,EAC7B,CACF,CAGO,eAAM8W,CAAiBT,EAAkB9I,GAC9C,OAAOjL,KAAKmU,IAAOJ,EAAU,IAAK9I,EAASoH,YAAY,GACzD,CAEO,gBAAMoC,CACXV,EACAjQ,EACAmH,GAEA,OAAOjL,KAAKoU,KAAWL,EAAUjQ,EAAM,IAAKmH,EAASoH,YAAY,GACnE,CAEO,eAAMqC,CACXX,EACAjQ,EACAmH,GAEA,OAAOjL,KAAKqU,IAAUN,EAAUjQ,EAAM,IAAKmH,EAASoH,YAAY,GAClE,CAEO,iBAAMsC,CACXZ,EACAjQ,EACAmH,GAEA,OAAOjL,KAAKsU,MAAYP,EAAUjQ,EAAM,IAAKmH,EAASoH,YAAY,GACpE,CAEO,kBAAMuC,CAAoBb,EAAkB9I,GACjD,OAAOjL,KAAKuU,OAAUR,EAAU,IAAK9I,EAASoH,YAAY,GAC5D,CAGO,aAAMwC,CACXd,EACAlF,EACA5D,GAEA,OAAOjL,KAAKmU,IAAOJ,EAAU,IAAK9I,EAASgJ,eAAe,EAAMC,WAAYrF,GAC9E,CAEO,cAAMiG,CACXf,EACAjQ,EACA+K,EACA5D,GAEA,OAAOjL,KAAKoU,KAAWL,EAAUjQ,EAAM,IAAKmH,EAASgJ,eAAe,EAAMC,WAAYrF,GACxF,CAEO,aAAMkG,CACXhB,EACAjQ,EACA+K,EACA5D,GAEA,OAAOjL,KAAKqU,IAAUN,EAAUjQ,EAAM,IAAKmH,EAASgJ,eAAe,EAAMC,WAAYrF,GACvF,CAEO,eAAMmG,CACXjB,EACAjQ,EACA+K,EACA5D,GAEA,OAAOjL,KAAKsU,MAAYP,EAAUjQ,EAAM,IAAKmH,EAASgJ,eAAe,EAAMC,WAAYrF,GACzF,CAEO,gBAAMoG,CACXlB,EACAlF,EACA5D,GAEA,OAAOjL,KAAKuU,OAAUR,EAAU,IAAK9I,EAASgJ,eAAe,EAAMC,WAAYrF,GACjF,EAIF,MAAMqG,GAAc,CAClB3R,IAAS,MAAIwQ,IACK,IAAIP,IACLW,IAAOJ,GAGxBxQ,KAAU,MAAOwQ,EAAkBjQ,KACjB,IAAI0P,IACLY,KAAWL,EAAUjQ,GAGtCP,IAAS,MAAOwQ,EAAkBjQ,KAChB,IAAI0P,IACLa,IAAUN,EAAUjQ,GAGrCP,MAAW,MAAOwQ,EAAkBjQ,KAClB,IAAI0P,IACLc,MAAYP,EAAUjQ,GAGvCP,OAAY,MAAIwQ,IACE,IAAIP,IACLe,OAAUR,GAI3BxQ,UAAe,MAAIwQ,IACD,IAAIP,IACLgB,UAAaT,GAG9BxQ,WAAgB,MAAOwQ,EAAkBjQ,KACvB,IAAI0P,IACLiB,WAAiBV,EAAUjQ,GAG5CP,UAAe,MAAOwQ,EAAkBjQ,KACtB,IAAI0P,IACLkB,UAAgBX,EAAUjQ,GAG3CP,aAAkB,MAAIwQ,IACJ,IAAIP,IACLoB,aAAgBb,GAIjCxQ,QAAa,MAAIwQ,EAAkBlF,KACjB,IAAI2E,IACLqB,QAAWd,EAAUlF,GAGtCtL,SAAc,MAAOwQ,EAAkBjQ,EAAS+K,KAC9B,IAAI2E,IACLsB,SAAef,EAAUjQ,EAAM+K,GAGhDtL,QAAa,MAAOwQ,EAAkBjQ,EAAS+K,KAC7B,IAAI2E,IACLuB,QAAchB,EAAUjQ,EAAM+K,GAG/CtL,UAAe,MAAOwQ,EAAkBjQ,EAAS+K,KAC/B,IAAI2E,IACLwB,UAAgBjB,EAAUjQ,EAAM+K,GAGjDtL,WAAgB,MAAIwQ,EAAkBlF,KACpB,IAAI2E,IACLyB,WAAclB,EAAUlF,IC3RrC,MAAOsG,WAAoB3B,GAC/B,WAAAC,CAAYxI,GACVmK,MAAMnK,GAASvJ,SAAW,YAAauJ,GAASyI,eAClD,CAKA,eAAM2B,GACJ,OAAOrV,KAAK6U,QAAc,MAAO,gBACnC,CAMA,qBAAMS,GACJ,OAAOtV,KAAKmU,IAAoB,iBAClC,CAKA,gBAAMoB,GACJ,OAAOvV,KAAK6U,QAAgB,YAAa,aAC3C,CAKA,qBAAMW,GACJ,OAAOxV,KAAKwU,UAAkB,YAChC,CAKA,eAAMiB,GACJ,OAAOzV,KAAKmU,IAAY,MAC1B,CAKA,iBAAMuB,GACJ,OAAO1V,KAAKmU,IAAY,QAC1B,CAKA,uBAAMwB,CAAkB7R,GACtB,OAAO9D,KAAKsU,MAA4B,WAAYxQ,EACtD,CAKA,mBAAM8R,GACJ,OAAO5V,KAAKmU,IAAU,MAAO,CAAExC,QAAS,CAAE,gBAAiB,aAC7D,CAKA,iBAAMkE,CAAY5K,EAA6B,IAC7C,MAAMtJ,EAAiC,CAAA,EAYvC,OAVIsJ,EAAQpP,WACV8F,EAAO9F,SAAWoP,EAAQpP,UAExBoP,EAAQ6K,YACVnU,EAAOmU,UAAY,QAEjB7K,EAAQ8K,qBACVpU,EAAOoU,mBAAqB,QAGvB/V,KAAK6U,QAAc,IAAK,gBAAiB,CAAElT,UACpD,CAKA,sBAAMqU,CAAiBC,GACrB,OAAOjW,KAAKoU,KAAkC,YAAa,CAAE6B,UAC/D,CAKA,wBAAMC,CAAmBra,GACvB,OAAOmE,KAAKoU,KAAoC,kBAAmB,CAAEvY,YACvE,CAKA,iBAAMsa,CAAYF,GAChB,OAAOjW,KAAKmU,IAAU,IAAI8B,IAC5B,CAKA,mBAAMG,CAAcC,GAClB,OAAOrW,KAAKoU,KAAoC,SAAU,CAAEiC,WAC9D,CAKA,iBAAMC,CACJC,EACAC,EAAe,EACfC,EAAmB,IAEnB,OAAOzW,KAAKmU,IAA2C,UAAW,CAChExS,OAAQ,CAAE4U,UAASC,OAAMC,aAE7B,CAKA,qBAAMC,CAAgBT,EAAgBja,GACpC,OAAOgE,KAAKsU,MAA+B,IAAI2B,UAAgB,CAAEja,SACnE,CAKA,yBAAM2a,CACJV,EACAW,EACAC,GAEA,OAAO7W,KAAKsU,MACV,IAAI2B,eACJ,CAAEW,WAAUC,UAEhB,EAIF,MAAMC,GAAc,CAClBzB,UAAS,KACS,IAAIF,IACLE,YAMjBC,gBAAe,KACG,IAAIH,IACLG,kBAGjBC,WAAU,KACQ,IAAIJ,IACLI,aAGjBC,gBAAe,KACG,IAAIL,IACLK,kBAGjBC,UAAS,KACS,IAAIN,IACLM,YAGjBC,YAAW,KACO,IAAIP,IACLO,cAGjBC,kBAAkBoB,IACA,IAAI5B,IACLQ,kBAAkB,CAAEoB,iBAGrCnB,cAAa,KACK,IAAIT,IACLS,gBAGjBC,YAAW,CACTha,EACAia,GAAqB,KAEL,IAAIX,IACLU,YAAY,CAAEha,WAAUia,cAGzCE,iBAAiBC,IACC,IAAId,IACLa,iBAAiBC,GAGlCC,mBAAmBra,IACD,IAAIsZ,IACLe,mBAAmBra,IC9HhC,MAAOmb,WAAoBxD,GAC/B,WAAAC,CAAYxI,GACVmK,MAAMnK,GAASvJ,SAAW,YAAauJ,GAASyI,eAClD,CAKA,iBAAMuD,CAAYhM,GAChB,MAAMtJ,EAAiC,CACrCuV,QAASjM,EAAQiM,QAAQ5e,WACzBke,KAAMvL,EAAQuL,KAAKle,WACnBme,UAAWxL,EAAQwL,UAAY,IAAIne,WACnC6e,OAAQlM,EAAQkM,QAAU,SAC1BC,WAAYnM,EAAQmM,YAAc,QAClCC,WAAYpM,EAAQoM,YAAc,GAClCC,aAAoC,IAAvBrM,EAAQqM,YAAsBhf,YAe7C,YAZ2BmG,IAAvBwM,EAAQsM,YAAmD,OAAvBtM,EAAQsM,YAA8C,KAAvBtM,EAAQsM,aAC7E5V,EAAO4V,WAAatM,EAAQsM,WAAWjf,YAGrC2S,EAAQ7E,SACVzE,EAAOyE,OAAS6E,EAAQ7E,QAGtB6E,EAAQuM,WACV7V,EAAO6V,SAAWvM,EAAQuM,SAASlf,YAG9B0H,KAAK6U,QAAc,IAAK,gBAAiB,CAAElT,UACpD,CAKA,iBAAM8V,CAAYC,GAChB,OAAO1X,KAAKmU,IAAgB,IAAIuD,IAClC,CAKA,gBAAMC,CAAW7T,GACf,MAAM8T,EAAW,IAAItF,SAkCrB,OA/BAsF,EAASC,OAAO,QAAS/T,EAAKgU,OAC9BF,EAASC,OAAO,UAAW/T,EAAKiU,SAChCH,EAASC,OAAO,UAAW/T,EAAKoT,QAAQ5e,YACxCsf,EAASC,OAAO,YAAa/T,EAAKkU,WAAY,GAAO1f,YACrDsf,EAASC,OAAO,YAAa/T,EAAKmU,WAAY,GAAO3f,YAG7B,OAApBwL,EAAKyT,iBAA2C9Y,IAApBqF,EAAKyT,YACnCK,EAASC,OAAO,aAAc/T,EAAKyT,WAAWjf,iBAGrBmG,IAAvBqF,EAAKoU,eAAsD,OAAvBpU,EAAKoU,eAC3CN,EAASC,OAAO,gBAAiB/T,EAAKoU,cAAc5f,YAIlDwL,EAAKqU,aAAerU,EAAKqU,YAAY1f,OAAS,GAChDmf,EAASC,OAAO,cAAexU,KAAK+U,UAAUtU,EAAKqU,cAGjDrU,EAAKsO,UACPwF,EAASC,OAAO,WAAYxU,KAAK+U,UAAUtU,EAAKsO,WAI9CtO,EAAKgC,OAAShC,EAAKgC,MAAMrN,OAAS,GACpCqL,EAAKgC,MAAMjI,QAAQwa,IACjBT,EAASC,OAAO,QAASQ,KAItBrY,KAAK8U,SACV,IAAIhR,EAAKoT,UACTU,EACA,aAEJ,CAKA,gBAAMU,CAAWZ,EAAgB5T,GAC/B,OAAO9D,KAAK+U,QACV,IAAI2C,IACJ5T,EACA,aAEJ,CAKA,gBAAMyU,CAAWb,GACf,OAAO1X,KAAKiV,WAAuB,IAAIyC,IAAU,aACnD,CAKA,iBAAMc,CACJd,EACAe,GAEA,MAAMC,EAAgC,SAAjBD,EAA0B,YAAc,aAE7D,OAAOzY,KAAK8U,SACV,IAAI4C,aACJ,CAAEe,gBACFC,EAEJ,CAKA,mBAAMC,CAAcjB,GAClB,OAAO1X,KAAK8U,SACV,IAAI4C,aACJ,CAAA,EACA,eAEJ,CAKA,kBAAMkB,CAAalB,GACjB,OAAO1X,KAAK8U,SACV,IAAI4C,aACJ,CAAA,EACA,aAEJ,CAKA,oBAAMmB,CAAenB,GACnB,OAAO1X,KAAKiV,WAAoB,IAAIyC,aAAmB,aACzD,CAKA,wBAAMoB,GACJ,OAAO9Y,KAAK6U,QAA2B,aAAc,qBACvD,CAKA,cAAMkE,CAASrB,EAAgBR,GAC7B,OAAOlX,KAAKgV,UACV,IAAI0C,IACJ,CAAEsB,SAAU9B,GACZ,aAEJ,CAOA,qBAAM+B,CAAgBnV,GACpB,OAAO9D,KAAK8U,SACV,SACAhR,EACA,gBAEJ,CAKA,iBAAMoV,CAAYxB,GAChB,OAAO1X,KAAK+U,QAAsB,IAAI2C,YAAkB,CAAA,EAAI,aAC9D,CAKA,0BAAMyB,CACJzB,EACA5R,EACAqM,GAEA,MAAMyF,EAAW,IAAItF,SAGrBsF,EAASC,OAAO,SAAUH,EAAOpf,YACjCsf,EAASC,OAAO,kBAA4C,IAA1B1F,GAAQiH,eAAyB9gB,YACnEsf,EAASC,OAAO,oBAAqB1F,GAAQkH,mBAAqB,gBAClEzB,EAASC,OAAO,oBAAqB1F,GAAQmH,kBAAoB,IAAKhhB,YAGtEwN,EAAMjI,QAAQwa,IACZT,EAASC,OAAO,QAASQ,KAG3B,MAAMlR,QAAiBnH,KAAK8U,SAC1B,gBACA8C,EACA,iBAGF,GAAIzQ,EAASrD,OAASqD,EAASrD,KAAKyV,QAClC,MAAM,IAAIlX,MAAM8E,EAASrD,KAAKmD,SAGhC,MAAO,IACFE,EACHrD,KAAMqD,EAASrD,MAAMA,MAAQ,KAEjC,CAKA,uBAAM0V,CAAkB9B,GACtB,MAAMvQ,QAAiBnH,KAAKwU,UAAkC,oBAAoBkD,KAElF,GAAIvQ,EAASrD,OAASqD,EAASrD,KAAKyV,QAClC,MAAM,IAAIlX,MAAM8E,EAASrD,KAAKmD,SAAW,kBAG3C,MAAO,IACFE,EACHrD,KAAMqD,EAASrD,MAAMA,MAAQ,KAEjC,CAKA,sBAAM2V,CAAiB/B,EAAgBgC,GACrC,OAAO1Z,KAAK8U,SACV,iBAAiB4C,IACjB,CAAEgC,mBACF,mBAEJ,CAKA,kBAAMC,CAAajC,GACjB,OAAO1X,KAAKiV,WAAiB,kBAAkByC,IAAU,aAC3D,CAKA,qBAAMkC,CAAgB9V,GAEpB,MAAM+V,QAAsB7Z,KAAKiZ,gBAAgB,CAC/CnB,MAAOhU,EAAKgU,MACZC,QAASjU,EAAKiU,QACdb,QAASpT,EAAKoT,QACdK,WAAYzT,EAAKyT,iBAAc9Y,IAGjC,MAAmC,MAA/Bob,EAAcjH,cAAyBiH,EAAc/V,MAKrDA,EAAKgC,OAAShC,EAAKgC,MAAMrN,OAAS,QAC9BuH,KAAKmZ,qBAAqBU,EAAc/V,KAAKlI,GAAIkI,EAAKgC,aAGtD9F,KAAKkZ,YAAYW,EAAc/V,KAAKlI,IAGrCie,GAXEA,CAYX,CAKA,mBAAMC,CAAc7O,EAAoC,IACtD,MAAMtJ,EAAiC,CACrCyE,OAAQ,QACRoQ,MAAOvL,EAAQuL,MAAQ,GAAGle,WAC1Bme,UAAWxL,EAAQwL,UAAY,IAAIne,WACnC6e,OAAQlM,EAAQkM,QAAU,UAO5B,OAJIlM,EAAQuM,WACV7V,EAAO6V,SAAWvM,EAAQuM,SAASlf,YAG9B0H,KAAKwU,UAAgB,IAAK,CAAE7S,UACrC,CAKA,iBAAMoY,CACJxD,EACAC,EAAe,EACfC,EAAmB,GACnBuD,GAEA,MAAMrY,EAAiC,CACrC4U,UACAC,KAAMA,EAAKle,WACXme,SAAUA,EAASne,YAOrB,OAJI0hB,GAAYA,EAASvhB,OAAS,IAChCkJ,EAAOqY,SAAWA,EAASthB,KAAK,MAG3BsH,KAAKmU,IAA2C,UAAW,CAAExS,UACtE,CAKA,kBAAMsY,CAAa/C,GAMjB,MAAMvV,EAASuV,EAAU,CAAEA,QAASA,EAAQ5e,YAAe,CAAA,EAC3D,OAAO0H,KAAKmU,IAAS,SAAU,CAAExS,UACnC,EAIF,MAAMuY,GAAc,CAClBC,QAAQlP,IACU,IAAI+L,IACLC,YAAYhM,GAG7B0M,WAAW7T,IACO,IAAIkT,IACLW,WAAW7T,GAG5BsW,aAAY,CAAC1C,EAAgBe,KACX,IAAIzB,IACLwB,YAAYd,EAAQe,GAGrCF,WAAWb,IACO,IAAIV,IACLuB,WAAWb,GAG5BY,WAAU,CAACZ,EAAgB5T,KACT,IAAIkT,IACLsB,WAAWZ,EAAQ5T,GAGpC6U,cAAcjB,IACI,IAAIV,IACL2B,cAAcjB,GAG/BkB,aAAalB,IACK,IAAIV,IACL4B,aAAalB,GAG9B2C,mBAAmB3C,IACD,IAAIV,IACL6B,eAAenB,GAGhC4C,iBAAgB,KACE,IAAItD,IACL8B,qBAGjBC,SAAQ,CAACrB,EAAgBR,KACP,IAAIF,IACL+B,SAASrB,EAAQR,GAIlC+B,gBAAgBnV,IACE,IAAIkT,IACLiC,gBAAgBnV,GAGjCoV,YAAYxB,IACM,IAAIV,IACLkC,YAAYxB,GAG7BoC,cAAa,CAAC7O,EAAoC,MAChC,IAAI+L,IACL8C,cAAc7O,GAI/BkO,qBAAoB,CAClBzB,EACA5R,EACAqM,KAEgB,IAAI6E,IACLmC,qBAAqBzB,EAAQ5R,EAAOqM,GAGrDqH,kBAAkB9B,IACA,IAAIV,IACLwC,kBAAkB9B,GAGnC+B,iBAAgB,CAAC/B,EAAgBgC,KACf,IAAI1C,IACLyC,iBAAiB/B,EAAQgC,GAG1CC,aAAajC,IACK,IAAIV,IACL2C,aAAajC,GAG9BkC,gBAAgB9V,IACE,IAAIkT,IACL4C,gBAAgB9V,ICzd7B,MAAOyW,WAAqB/G,GAChC,WAAAC,CAAYxI,GACVmK,MAAMnK,GAASvJ,SAAW,cAAeuJ,GAASyI,eACpD,CAKA,eAAM8G,CAAUvP,EAA4B,IAC1C,MAAMtJ,EAAiC,CAAA,EAwBvC,OAtBIsJ,EAAQuL,OACV7U,EAAO6U,KAAOvL,EAAQuL,KAAKle,YAEzB2S,EAAQwL,WACV9U,EAAO8U,SAAWxL,EAAQwL,SAASne,YAEjC2S,EAAQkM,SACVxV,EAAOwV,OAASlM,EAAQkM,QAEtBlM,EAAQoM,aACV1V,EAAO0V,WAAapM,EAAQoM,YAE1BpM,EAAQmM,aACVzV,EAAOyV,WAAanM,EAAQmM,iBAEL3Y,IAArBwM,EAAQwP,WACV9Y,EAAO8Y,SAAWxP,EAAQwP,SAASniB,YAEjC2S,EAAQsM,aACV5V,EAAO4V,WAAatM,EAAQsM,WAAWjf,YAGlC0H,KAAK6U,QAAiB,IAAK,gBAAiB,CAAElT,UACvD,CAKA,cAAM+Y,CAASxD,GACb,OAAOlX,KAAK6U,QAAe,IAAIqC,IAAW,gBAC5C,CAKA,iBAAMyD,CAAY7W,GAChB,OAAO9D,KAAK8U,SAAiC,IAAKhR,EAAM,aAC1D,CAKA,iBAAM8W,CAAY1D,EAAiBpT,GACjC,OAAO9D,KAAK+U,QAAgC,IAAImC,IAAWpT,EAAM,aACnE,CAKA,iBAAM+W,CAAY3D,GAChB,OAAOlX,KAAKiV,WAAiB,IAAIiC,IAAW,aAC9C,CAKA,wBAAM4D,CAAmB5D,GACvB,OAAOlX,KAAK6U,QAAyB,IAAIqC,eAAsB,cACjE,CAKA,yBAAM6D,CACJ7D,EACApT,GAEA,OAAO9D,KAAK8U,SACV,IAAIoC,eACJpT,EACA,cAEJ,CAKA,yBAAMkX,CACJ9D,EACAK,EACAzT,GAEA,OAAO9D,KAAK+U,QACV,IAAImC,gBAAsBK,IAC1BzT,EACA,cAEJ,CAKA,yBAAMmX,CAAoB/D,EAAiBK,GACzC,OAAOvX,KAAKiV,WAAiB,IAAIiC,gBAAsBK,IAAc,cACvE,CAKA,mBAAM2D,CAAchE,GAClB,OAAOlX,KAAKwU,UAAsB,IAAI0C,UACxC,CAKA,kBAAMiE,CACJ5E,EACAC,EAAe,EACfC,EAAmB,IAEnB,OAAOzW,KAAKmU,IAA6C,UAAW,CAClExS,OAAQ,CAAE4U,UAASC,KAAMA,EAAKle,WAAYme,SAAUA,EAASne,aAEjE,CAKA,sBAAM8iB,CAAiBC,EAAgB,IACrC,OAAOrb,KAAKwU,UAAmB,WAAY,CACzC7S,OAAQ,CAAE0Z,MAAOA,EAAM/iB,aAE3B,CAKA,6BAAMgjB,CAAwBD,EAAgB,IAC5C,OAAOrb,KAAKwU,UAAmB,mBAAoB,CACjD7S,OAAQ,CAAE0Z,MAAOA,EAAM/iB,aAE3B,CAKA,uBAAMijB,GACJ,OAAOvb,KAAK6U,QAAiB,aAAc,kBAC7C,CAKA,oBAAM2G,CAAetE,GACnB,OAAOlX,KAAK8U,SAAuB,IAAIoC,aAAoB,CAAA,EAAI,cACjE,CAKA,yBAAMuE,CAAoBvE,GACxB,OAAOlX,KAAKiV,WAAiB,IAAIiC,aAAoB,cACvD,CAKA,yBAAMwE,CAAoBxE,GAOxB,OAAOlX,KAAKwU,UAAe,IAAI0C,gBACjC,CAKA,4BAAMyE,CACJzE,EACA0E,GAOA,OAAO5b,KAAKgV,UACV,IAAIkC,gBACJ0E,EACA,kBAEJ,CAKA,wBAAMC,CAAmB3E,GAMvB,OAAOlX,KAAKmU,IAAS,IAAI+C,eAC3B,CAKA,uBAAM4E,CAAkB5E,EAAiBjB,GACvC,OAAOjW,KAAK8U,SACV,IAAIoC,eACJ,CAAEjB,UACF,eAEJ,CAKA,0BAAM8F,CAAqB7E,EAAiBjB,GAC1C,OAAOjW,KAAKiV,WAAiB,IAAIiC,gBAAsBjB,IAAU,eACnE,CAKA,iBAAM+F,CACJ9E,EACAL,EACArJ,GAEA,OAAOxN,KAAK8U,SACV,IAAIoC,WACJ,CAAEL,SAAQrJ,eACV,YAEJ,CAKA,sBAAMyO,CACJ/E,EACAV,EAAe,EACfC,EAAmB,IAanB,OAAOzW,KAAKmU,IAAS,IAAI+C,aAAoB,CAC3CvV,OAAQ,CAAE6U,KAAMA,EAAKle,WAAYme,SAAUA,EAASne,aAExD,EAIF,MAAM4jB,GAAe,CACnB1B,UAAS,KACS,IAAID,IACLC,YAGjBE,SAASxD,IACS,IAAIqD,IACLG,SAASxD,GAG1B4D,mBAAmB5D,IACD,IAAIqD,IACLO,mBAAmB5D,ICjShC,MAAOiF,WAAoB3I,GAC/B,WAAAC,CAAYxI,GACVmK,MAAMnK,GAASvJ,SAAW,YAAauJ,GAASyI,eAClD,CAKA,WAAM0I,CAAMC,GACV,OAAOrc,KAAK8U,SACV,SACAuH,EACA,WAEJ,CAKA,YAAMC,GACJ,OAAOtc,KAAK8U,SAAuB,UAAW,CAAA,EAAI,YACpD,CAKA,cAAMyH,CAASzY,GACb,OAAO9D,KAAK8U,SACV,YACAhR,EACA,eAEJ,CAKA,kBAAM0Y,CAAaA,GACjB,OAAOxc,KAAKyU,WACV,WACA,CAAE+H,gBAEN,CAKA,qBAAMC,GACJ,OAAOzc,KAAKwU,UAAuB,YACrC,CAKA,oBAAMkI,GACJ,OAAO1c,KAAK6U,QAAc,MAAO,iBACnC,CAKA,0BAAM8H,CAAqB7Y,GACzB,OAAO9D,KAAK8U,SACV,0BACAhR,EACA,mBAEJ,CAKA,mBAAM8Y,CACJ/Z,EACAga,EACAC,GAEA,OAAO9c,KAAK8U,SAKV,0BACA,CAAEjS,QAAOga,cAAaC,sBACtB,gBAEJ,CAKA,oBAAMC,CAAejZ,GACnB,OAAO9D,KAAK+U,QACV,YACAjR,EACA,eAEJ,CAKA,2BAAMkZ,CAAsBC,GAC1B,OAAOjd,KAAK8U,SACV,qBACA,CAAEmI,SACF,gBAEJ,CAKA,iBAAMC,CAAYra,GAChB,OAAO7C,KAAK8U,SACV,wBACA,CAAEjS,SACF,cAEJ,CAKA,6BAAMsa,CAAwBlH,GAC5B,OAAOjW,KAAKmU,IAA4B,gBAAiB,CACvDxS,OAAQ,CAAEsU,WAEd,CAKA,+BAAMmH,CAA0BvhB,GAC9B,OAAOmE,KAAKmU,IAA4B,kBAAmB,CACzDxS,OAAQ,CAAE9F,aAEd,CAKA,4BAAMwhB,CAAuBJ,GAC3B,OAAOjd,KAAKmU,IAA4B,eAAgB,CACtDxS,OAAQ,CAAEsb,UAEd,CAKA,qBAAMK,GAOJ,OAAOtd,KAAKmU,IAAS,YACvB,CAKA,mBAAMoJ,CAAcC,GAClB,OAAOxd,KAAKiV,WAAiB,aAAauI,IAAa,aACzD,CAKA,uBAAMC,GACJ,OAAOzd,KAAKiV,WAAiB,gBAAiB,gBAChD,CAKA,eAAMyI,GAKJ,OAAO1d,KAAK8U,SAAsB,cAAe,CAAA,EAAI,cACvD,CAKA,gBAAM6I,CAAWvW,GACf,OAAOpH,KAAK8U,SACV,eACA,CAAE1N,QACF,cAEJ,CAKA,gBAAMwW,CAAWC,GACf,OAAO7d,KAAKiV,WAAiB,eAAgB,cAC/C,CAKA,mBAAM6I,CAAc1W,GAClB,OAAOpH,KAAK8U,SACV,cACA,CAAE1N,QACF,iBAEJ,EAIF,MAAM2W,GAAc,CAClB3B,MAAMC,IACY,IAAIF,IACLC,MAAMC,GAGvBC,OAAM,KACY,IAAIH,IACLG,SAGjBC,SAASzY,IACS,IAAIqY,IACLI,SAASzY,GAG1B0Y,aAAaA,IACK,IAAIL,IACLK,aAAaA,GAG9BC,gBAAe,KACG,IAAIN,IACLM,kBAGjBC,eAAc,KACI,IAAIP,IACLO,iBAGjBC,qBAAqB7Y,IACH,IAAIqY,IACLQ,qBAAqB7Y,GAGtC8Y,cAAa,CACX/Z,EACAga,EACAC,KAEgB,IAAIX,IACLS,cAAc/Z,EAAOga,EAAaC,GAGnDC,eAAejZ,IACG,IAAIqY,IACLY,eAAejZ,GAGhCkZ,sBAAsBC,IACJ,IAAId,IACLa,sBAAsBC,GAGvCC,YAAYra,IACM,IAAIsZ,IACLe,YAAYra,GAG7Bsa,wBAAwBlH,IACN,IAAIkG,IACLgB,wBAAwBlH,GAGzCmH,0BAA0BvhB,IACR,IAAIsgB,IACLiB,0BAA0BvhB,GAG3CwhB,uBAAuBJ,IACL,IAAId,IACLkB,uBAAuBJ,IClSpC,MAAOe,WAA0BxK,GACrC,WAAAC,CAAYxI,GACVmK,MAAMnK,GAASvJ,SAAW,mBAAoBuJ,GAASyI,eACzD,CAKA,qBAAMuK,CAAgBC,GACpB,OAAOle,KAAKwU,UAA4B,SAAU,CAChD7S,OAAQ,CACNwc,SAAUD,EAAMC,SAChBC,OAAQF,EAAME,OACd9W,QAAS4W,EAAM5W,QAAUjE,KAAK+U,UAAU8F,EAAM5W,cAAW7I,IAG/D,CAKA,sBAAM4f,CACJC,GAEA,OAAOte,KAAKyU,WACV,kBACA,CAAE6J,UAEN,CAKA,sBAAMC,GACJ,OAAOve,KAAK6U,QAAyB,MAAO,gBAC9C,CAKA,wBAAM2J,CAAmBvI,GACvB,OAAOjW,KAAKmU,IAAqB,UAAU8B,IAC7C,CAKA,eAAMwI,GACJ,OAAOze,KAAKwU,UAAuB,UACrC,CAKA,cAAMkK,CAAS1iB,GACb,OAAOgE,KAAKmU,IAAe,WAAWnY,IACxC,CAKA,qBAAM0a,CAAgBT,EAAgBja,EAAe6a,GACnD,OAAO7W,KAAKgV,UACV,UAAUiB,UACV,CAAEja,QAAO6a,UACT,iBAEJ,CAKA,cAAM8H,GACJ,OAAO3e,KAAKmU,IAAgB,SAC9B,CAKA,aAAMyK,CAAQC,GACZ,OAAO7e,KAAKmU,IAAc,UAAU0K,IACtC,CAKA,gBAAMC,CAAW9R,GACf,OAAOhN,KAAK8U,SACV,SACA9H,EACA,aAEJ,CAKA,gBAAM+R,CACJF,EACAG,GAEA,OAAOhf,KAAK+U,QACV,UAAU8J,IACVG,EACA,aAEJ,CAKA,gBAAMC,CAAWJ,GACf,OAAO7e,KAAKiV,WAAiB,UAAU4J,IAAU,aACnD,CAKA,gBAAMK,CAAWjJ,EAAgB4I,EAAgBhI,GAC/C,OAAO7W,KAAK8U,SACV,UAAUmB,UACV,CAAE4I,SAAQhI,UACV,aAEJ,CAKA,gBAAMsI,CAAWlJ,EAAgB4I,EAAgBhI,GAC/C,OAAO7W,KAAKiV,WACV,UAAUgB,WAAgB4I,IAC1B,aAEJ,CAKA,qBAAMO,CAAgBC,GACpB,OAAOrf,KAAK8U,SACV,UACAuK,EACA,aAEJ,CAKA,sBAAMC,CACJrJ,EACAsJ,EACAjY,EACAuP,GAEA,OAAO7W,KAAKiV,WACV,WAAWgB,KAAUsJ,IACrB,aAEJ,CAKA,mBAAMC,CAAcvJ,GAClB,OAAOjW,KAAKmU,IAAuB,iBAAiB8B,IACtD,CAKA,0BAAMwJ,CACJxJ,EACAO,EAAe,EACfC,EAAmB,IAcnB,OAAOzW,KAAKmU,IAAS,YAAY8B,IAAU,CACzCtU,OAAQ,CAAE6U,KAAMA,EAAKle,WAAYme,SAAUA,EAASne,aAExD,CAKA,sBAAMonB,CACJxI,EACAkH,EAAoD,QAEpD,OAAOpe,KAAKie,gBAAgB,CAC1BE,SAAU,QACVC,SACA9W,QAAS,CAAE4P,YAEf,CAKA,qBAAMyI,CACJjI,EACA0G,EAAiD,QAEjD,OAAOpe,KAAKie,gBAAgB,CAC1BE,SAAU,OACVC,SACA9W,QAAS,CAAEoQ,WAEf,CAKA,sBAAMkI,CACJC,EAA+D,UAE/D,OAAO7f,KAAKie,gBAAgB,CAC1BE,SAAU,QACVC,OAAQ,SACR9W,QAAS,CAAEuY,YAEf,CAKA,yBAAMC,CAAoB7J,GAgBxB,MAAMlC,EAAWkC,EAAS,gBAAgBA,IAAW,kBACrD,OAAOjW,KAAK6U,QAAad,EAAU,gBACrC,CAKA,yBAAM4C,CACJV,EACA8J,EACAlJ,EACAmJ,GAEA,OAAOhgB,KAAKgV,UAKV,UAAUiB,QACV,CAAE8J,SAAQlJ,SAAQmJ,YAClBD,EAAS,cAAgB,iBAE7B,CAKA,yBAAME,CAAoBhK,GAUxB,OAAOjW,KAAKmU,IAAS,UAAU8B,iBACjC,EAIF,MAAMiK,GAAoB,CACxBjC,gBAAgBC,IACE,IAAIF,IACLC,gBAAgBC,GAGjCK,iBAAgB,KACE,IAAIP,IACLO,mBAGjBE,UAAS,KACS,IAAIT,IACLS,YAGjBiB,iBAAgB,CACdxI,EACAkH,EAAoD,UAEpC,IAAIJ,IACL0B,iBAAiBxI,EAASkH,GAG3CwB,iBAAgB,CACdC,EAA+D,YAE/C,IAAI7B,IACL4B,iBAAiBC;;;;;;;;;GCrYP,eAAzB3hB,QAAQC,IAAI0J,SACdsY,GAAAC,wCCQF,IAAIC,EAAQC,EAIRC,EAAW,mBAAsBtlB,OAAOulB,GAAKvlB,OAAOulB,GAHxD,SAAYC,EAAGC,GACb,OAAQD,IAAMC,IAAM,IAAMD,GAAK,EAAIA,GAAM,EAAIC,IAAQD,GAAMA,GAAKC,GAAMA,CACxE,EAEEC,EAAuBN,EAAMM,qBAC7BzU,EAASmU,EAAMnU,OACfK,EAAY8T,EAAM9T,UAClBF,EAAUgU,EAAMhU,QAChBuU,EAAgBP,EAAMO,qBACxBC,GAAAC,iCAA2C,SACzCC,EACAC,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAUlV,EAAO,MACrB,GAAI,OAASkV,EAAQ1U,QAAS,CAC5B,IAAI2U,EAAO,CAAEC,UAAU,EAAIhmB,MAAO,MAClC8lB,EAAQ1U,QAAU2U,CACtB,MAASA,EAAOD,EAAQ1U,QACtB0U,EAAU/U,EACR,WACE,SAASkV,EAAiBC,GACxB,IAAKC,EAAS,CAIZ,GAHAA,GAAU,EACVC,EAAmBF,EACnBA,EAAeN,EAASM,QACpB,IAAWL,GAAWE,EAAKC,SAAU,CACvC,IAAIK,EAAmBN,EAAK/lB,MAC5B,GAAI6lB,EAAQQ,EAAkBH,GAC5B,OAAQI,EAAoBD,CAC1C,CACU,OAAQC,EAAoBJ,CACtC,CAEQ,GADAG,EAAmBC,EACfrB,EAASmB,EAAkBF,GAAe,OAAOG,EACrD,IAAIE,EAAgBX,EAASM,GAC7B,YAAI,IAAWL,GAAWA,EAAQQ,EAAkBE,IAC1CH,EAAmBF,EAAeG,IAC5CD,EAAmBF,EACXI,EAAoBC,EACpC,CACM,IACEH,EACAE,EAFEH,GAAU,EAGZK,OACE,IAAWb,EAAoB,KAAOA,EAC1C,MAAO,CACL,WACE,OAAOM,EAAiBP,IAClC,EACQ,OAASc,OACL,EACA,WACE,OAAOP,EAAiBO,IACtC,EAEA,EACI,CAACd,EAAaC,EAAmBC,EAAUC,IAE7C,IAAI7lB,EAAQqlB,EAAqBI,EAAWK,EAAQ,GAAIA,EAAQ,IAShE,OARA7U,EACE,WACE8U,EAAKC,UAAW,EAChBD,EAAK/lB,MAAQA,CACnB,EACI,CAACA,IAEHslB,EAActlB,GACPA,CACT,KDhFmBglB,GAEjBH,GAAAC,mBEMF,eAAiBliB,QAAQC,IAAI0J,UAC3B,WAIE,oBAAuBka,gCACrB,mBACSA,+BAA+BC,6BACxCD,+BAA+BC,4BAA4B3f,SAC7D,IAAIge,EAAQC,EACVC,EAAW,mBAAsBtlB,OAAOulB,GAAKvlB,OAAOulB,GARtD,SAAYC,EAAGC,GACb,OAAQD,IAAMC,IAAM,IAAMD,GAAK,EAAIA,GAAM,EAAIC,IAAQD,GAAMA,GAAKC,GAAMA,CAC5E,EAOMC,EAAuBN,EAAMM,qBAC7BzU,EAASmU,EAAMnU,OACfK,EAAY8T,EAAM9T,UAClBF,EAAUgU,EAAMhU,QAChBuU,EAAgBP,EAAMO,cACxBqB,oCAA2C,SACzClB,EACAC,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAUlV,EAAO,MACrB,GAAI,OAASkV,EAAQ1U,QAAS,CAC5B,IAAI2U,EAAO,CAAEC,UAAU,EAAIhmB,MAAO,MAClC8lB,EAAQ1U,QAAU2U,CAC1B,MAAaA,EAAOD,EAAQ1U,QACtB0U,EAAU/U,EACR,WACE,SAASkV,EAAiBC,GACxB,IAAKC,EAAS,CAIZ,GAHAA,GAAU,EACVC,EAAmBF,EACnBA,EAAeN,EAASM,QACpB,IAAWL,GAAWE,EAAKC,SAAU,CACvC,IAAIK,EAAmBN,EAAK/lB,MAC5B,GAAI6lB,EAAQQ,EAAkBH,GAC5B,OAAQI,EAAoBD,CAC9C,CACc,OAAQC,EAAoBJ,CAC1C,CAEY,GADAG,EAAmBC,EACfrB,EAASmB,EAAkBF,GAC7B,OAAOG,EACT,IAAIE,EAAgBX,EAASM,GAC7B,YAAI,IAAWL,GAAWA,EAAQQ,EAAkBE,IAC1CH,EAAmBF,EAAeG,IAC5CD,EAAmBF,EACXI,EAAoBC,EACxC,CACU,IACEH,EACAE,EAFEH,GAAU,EAGZK,OACE,IAAWb,EAAoB,KAAOA,EAC1C,MAAO,CACL,WACE,OAAOM,EAAiBP,IACtC,EACY,OAASc,OACL,EACA,WACE,OAAOP,EAAiBO,IAC1C,EAEA,EACQ,CAACd,EAAaC,EAAmBC,EAAUC,IAE7C,IAAI7lB,EAAQqlB,EAAqBI,EAAWK,EAAQ,GAAIA,EAAQ,IAShE,OARA7U,EACE,WACE8U,EAAKC,UAAW,EAChBD,EAAK/lB,MAAQA,CACvB,EACQ,CAACA,IAEHslB,EAActlB,GACPA,CACb,EACI,oBAAuBymB,gCACrB,mBACSA,+BAA+BG,4BACxCH,+BAA+BG,2BAA2B7f,QAC7D,CAnFD,0BC4hBE8f,GAA6BC,OAAOC,IAAI,uBACxCC,GAA2B,oBAAfC,WAA6BA,WAAU,CAGvD,EACA,SAASC,KACP,IAAKnC,EAAMoC,cAAe,MAAO,CAAA,EACjC,MAAMC,EAAaJ,GAAGH,MAAgC,IAAIQ,IAC1D,IAAIC,EAAcF,EAAWvO,IAAIkM,EAAMoC,eAUvC,OATKG,IACHA,EAAcvC,EAAMoC,cAClB,MAE2B,eAAzBvkB,QAAQC,IAAI0J,WACd+a,EAAY9Y,YAAc,cAE5B4Y,EAAWvgB,IAAIke,EAAMoC,cAAeG,IAE/BA,CACT,CACA,IAAIC,GAAoCL,KAmVxC,SAASM,GAAuBxb,EAAUub,IACxC,OAAO,WACL,MAAME,EAAe1C,EAAM2C,WAAW1b,GACtC,GAA6B,eAAzBpJ,QAAQC,IAAI0J,WAA8Bkb,EAC5C,MAAM,IAAI1gB,MACR,oGAGJ,OAAO0gB,CACT,CACF,CACA,IAAIE,GAAkCH,KAGtC,SAASI,GAAgB5b,EAAUub,IACjC,MAAMM,EAAmB7b,IAAYub,GAAoBI,GAEvDH,GAAuBxb,GAEnB8b,EAAY,KAChB,MAAMC,MAAEA,GAAUF,IAClB,OAAOE,GAKT,OAHApoB,OAAOqoB,OAAOF,EAAW,CACvBG,UAAW,IAAMH,IAEZA,CACT,CACA,IAAII,GAA2BN,KAG/B,SAASO,GAAmBnc,EAAUub,IACpC,MAAMO,EAAY9b,IAAYub,GAAoBW,GAAWN,GAAgB5b,GACvEoc,EAAe,IACLN,IACDO,SAKf,OAHA1oB,OAAOqoB,OAAOI,EAAc,CAC1BH,UAAW,IAAMG,IAEZA,CACT,CACA,IAAIE,GAA8BH,KAI9BI,GAAc,CAACxkB,EAAGC,IAAMD,IAAMC,EAClC,SAASwkB,GAAmBxc,EAAUub,IACpC,MAAMM,EAAmB7b,IAAYub,GAAoBI,GAAkBH,GAAuBxb,GAC5Fyc,EAAe,CAAC7C,EAAU8C,EAAsB,CAAA,KACpD,MAAMC,WAAEA,EAAaJ,IAA+C,mBAAxBG,EAAqC,CAAEC,WAAYD,GAAwBA,EACvH,GAA6B,eAAzB9lB,QAAQC,IAAI0J,SAA2B,CACzC,IAAKqZ,EACH,MAAM,IAAI7e,MAAM,2CAElB,GAAwB,mBAAb6e,EACT,MAAM,IAAI7e,MAAM,yDAElB,GAA0B,mBAAf4hB,EACT,MAAM,IAAI5hB,MACR,kEAGN,CACA,MAAM6hB,EAAef,KACfE,MAAEA,EAAKc,aAAEA,EAAYC,eAAEA,GAAmBF,EAC1CG,EAAWhE,EAAMnU,QAAO,GACxBoY,EAAkBjE,EAAM1Q,YAC5B,CACE,CAACuR,EAASlc,MAAMuf,GACd,MAAMC,EAAWtD,EAASqD,GAC1B,GAA6B,eAAzBrmB,QAAQC,IAAI0J,SAA2B,CACzC,MAAM4c,cAAEA,EAAgB,IAAsC,mBAAxBT,EAAqC,CAAA,EAAKA,GAC1EU,sBAAEA,EAAqBC,eAAEA,GAAmBT,GAEhDQ,sBAAuBE,EACvBD,eAAgBE,GACd,CACFF,iBACAD,2BACGD,GAEL,GAA4B,WAAxBI,GAA4D,SAAxBA,GAAkCR,EAAS3X,QAAS,CAC1F,MAAMoY,EAAY5D,EAASqD,GAC3B,IAAKN,EAAWO,EAAUM,GAAY,CACpC,IAAItd,EACJ,IACE,MAAM,IAAInF,KACZ,CAAE,MAAO0iB,KAEJvd,SAAUud,EACf,CACA1oB,QAAQC,KACN,aAAe4kB,EAASlc,MAAQ,WAAa,iSAC7C,CACEuf,QACAC,WACAQ,UAAWF,EACXtd,SAGN,CACF,CACA,IAAmC,WAA/Bod,GAA0E,SAA/BA,GAAyCP,EAAS3X,UAC3F8X,IAAaD,EAAO,CACtB,IAAI/c,EACJ,IACE,MAAM,IAAInF,KACZ,CAAE,MAAO0iB,KAEJvd,SAAUud,EACf,CACA1oB,QAAQC,KACN,aAAe4kB,EAASlc,MAAQ,WAAa,4NAC7C,CAAEwC,SAEN,CAEE6c,EAAS3X,UAAS2X,EAAS3X,SAAU,EAC3C,CACA,OAAO8X,CACT,GACAtD,EAASlc,MACX,CAACkc,IAEG+D,EAAgBnE,GAAAA,iCACpBqD,EAAae,aACb7B,EAAM8B,SACNf,GAAkBf,EAAM8B,SACxBb,EACAL,GAGF,OADA5D,EAAMO,cAAcqE,GACbA,GAKT,OAHAhqB,OAAOqoB,OAAOS,EAAc,CAC1BR,UAAW,IAAMQ,IAEZA,CACT,CACA,IAAIqB,GAA8BtB,KCrhC3B,MCOMuB,GAAkB,KAC7B,MAAM1B,EAAW2B,MACXC,mBAAEA,GAAuBC,GAAeC,iBAGxCC,EAAa/V,cAAad,IAC9B8U,EAASgC,EAAAA,gBAAgB9W,KACxB,CAAC8U,IAEEiC,EAAajW,EAAAA,YAAY,KAC7BgU,EAASkC,EAAAA,oBACR,CAAClC,IAEEmC,EAAgBnW,cAAad,IACjC8U,EAASoC,EAAAA,mBAAmBlX,KAC3B,CAAC8U,IAEEqC,EAAarW,cACjBpM,MAAU0iB,IACR,IACEP,IAEA,aADqBO,GAEvB,SACEL,GACF,GAEF,CAACF,EAAYE,IAITM,EAAiBvW,cAAad,IAClC8U,EAASwC,EAAAA,YAAYtX,KACpB,CAAC8U,IAEEyC,EAAiBzW,EAAAA,YAAY,KAG/BgU,EADE4B,EACOc,EAAAA,iBAEAC,EAAAA,gBAEV,CAAC3C,EAAU4B,IAERgB,EAAoB5W,cAAad,IACrC8U,EAAS6C,EAAAA,eAAe3X,KACvB,CAAC8U,IAEE8C,EAAiB9W,cACrBpM,MAAU0iB,IACR,IACEC,IAEA,aADqBD,GAEvB,SACEG,GACF,GAEF,CAACF,EAAgBE,IAIbM,EAAiB/W,cAAad,IAClC8U,EAASgC,EAAAA,gBAAgB9W,KACxB,CAAC8U,IAEEgD,EAAiBhX,EAAAA,YAAY,KACjCgU,EAASkC,EAAAA,oBACR,CAAClC,IAEEiD,EAAoBjX,cAAad,IACrC8U,EAASoC,EAAAA,mBAAmBlX,KAC3B,CAAC8U,IAEEkD,EAAiBlX,cACrBpM,MAAU0iB,IACR,IACES,IAEA,aADqBT,GAEvB,SACEU,GACF,GAEF,CAACD,EAAgBC,IAGnB,MAAO,CAELjB,aACAE,aACAI,aACAF,gBAGAI,iBACAE,iBACAK,iBACAF,oBAGAG,iBACAC,iBACAE,iBACAD,sBChHSE,GAAsB,KACjC,MAAMC,EAASC,EAAAA,YACT5kB,EAAW6kB,EAAAA,eACXP,eAAEA,EAAcC,eAAEA,GAAmBtB,KAG3C9Y,EAAAA,UAAU,KAERoa,KACC,CAACvkB,EAAUukB,IAGd,MAAMO,EAAmBvX,cAAawX,IACpC,IACE,IAAIC,EACAC,GAAmB,EAGvB,GAAIF,EAAK9oB,WAAW,QAAS,CAC3B,MAAMipB,EAAY,IAAI1lB,IAAIulB,GACpBI,EAAgB1lB,OAAOC,SAAS0lB,SAGtCH,EAAmBC,EAAUE,WAAaD,EAC1CH,EAAaE,EAAUllB,QACzB,MAGEglB,EAAaD,EAAK5uB,MAAM,KAAK,GAAGA,MAAM,KAAK,GAI7C,OAAI8uB,GAAoBD,IAAehlB,CAKzC,CAAE,MAEA,OAAQ+kB,EAAK9oB,WAAW,OAC1B,GACC,CAAC+D,IAGEqlB,EAAO9X,EAAAA,YACX,CAACwX,EAAclc,KACTic,EAAiBC,IACnBT,EAAe,mBAEVK,EAAOU,KAAKN,EAAMlc,IAE3B,CAAC8b,EAAQL,EAAgBQ,IAIrB1uB,EAAUmX,EAAAA,YACd,CAACwX,EAAclc,KACTic,EAAiBC,IACnBT,EAAe,mBAEVK,EAAOvuB,QAAQ2uB,EAAMlc,IAE9B,CAAC8b,EAAQL,EAAgBQ,IAI3B,MAAO,IACFH,EACHU,OACAjvB,YC5BS8sB,GAAiB,IAAM1B,KACvB4B,GAAkDJ,GC2FxD,MAAM3hB,GAxIb,WACE,MAAMI,EAAS6jB,EAAAA,aACbxpB,QAAQC,IAAIwpB,yBACZzpB,QAAQC,IAAIypB,8BACZ,CACE5jB,KAAM,CACJ6jB,gBAAgB,EAChBC,kBAAkB,EAClBC,oBAAoB,EACpBxlB,WAAY,kBACZylB,QAAS,CACPrlB,QAAUtH,IACR,GAAsB,oBAAXwG,OAAwB,OAAO,KAE1C,IACE,MAAMvG,EAAQmJ,SAASC,OACpBnM,MAAM,MACN2H,KAAMyE,GAAQA,EAAItG,WAAW,GAAGhD,QAC/B9C,MAAM,KAAK,GAEf,IAAK+C,EACH,OAAO,KAGT,MAAM2sB,EAAellB,mBAAmBzH,GAGxC,IACE,MAAMuJ,EAAcxB,KAAKC,MAAM2kB,GAC3BpjB,GAAaX,cAEfR,QAAAC,UAAAC,KAAA,WAAA,OAAA6O,EAAA,GAA8B7O,KAAK,EAAGhB,mBAAkBuB,iBAAgBG,mCACtE,MAAMxB,EAAUF,EAAiBiC,EAAYX,cACzCpB,GAAWqB,EAAerB,KAC5BzG,QAAQ0I,IAAI,yCACZT,EAA6BjJ,KAIrC,CAAE,MAAO6sB,GAEP7rB,QAAQC,KAAK,+BAAgC4rB,EAC/C,CAEA,OAAOD,CACT,CAAE,MAAOvqB,GAEP,OADArB,QAAQqB,MAAM,qBAAsBA,GAC7B,IACT,GAGFyqB,QAAS,CAAC9sB,EAAaC,KACrB,GAAsB,oBAAXuG,OAEX,IAGE,IADoBwB,KAAKC,MAAMhI,GACd4I,aAEf,OAGF,MAAMkkB,EAAeC,mBAAmB/sB,GAGlCgtB,EAAU,IAAIrvB,KACpBqvB,EAAQC,QAAQD,EAAQ3uB,UAAY,IAEpC8K,SAASC,OAAS,GAAGrJ,KAAO+sB,cAAyBE,EAAQE,6CAK/D,CAAE,MAAO9qB,GAET,GAGF+qB,WAAaptB,IACX,GAAsB,oBAAXwG,OAEX,IACE4C,SAASC,OAAS,GAAGrJ,oDAEvB,CAAE,MAAOqC,GAET,OAQV,GAAsB,oBAAXmE,OAAwB,CACjC,IAAI6mB,GAAoB,EAExB7kB,EAAOG,KAAK2kB,kBAAkB,CAAClc,EAAwB1I,KAGrD,OAAQ0I,GACN,IAAK,aACEic,IACHA,GAAoB,EAEpB7kB,EAAOG,KAAKC,aAAaL,KAAK,KAC5B8kB,GAAoB,KAGxB,MAEF,IAAK,kBAKH,MAEF,IAAK,eACE3kB,GAEE2kB,IACHA,GAAoB,EACpB7kB,EAAOG,KAAKkB,UAAUtB,KAAK,KACzB8kB,GAAoB,OAOlC,CAEA,OAAO7kB,CACT,CAE8B+kB,kGC5Fe,EAC3C7qB,MACAiH,OAAO,GACP/H,OAAO,KACPmJ,SACAyiB,UAAS,EACTpgB,YAAY,GACZqgB,SACGngB,MAEH,MAAOogB,EAAYC,GAAiBld,EAAAA,UAAS,IACtCmd,EAAaC,GAAkBpd,EAAAA,UAAS,GA+BzCqd,EAAc,CAClB,wBACAN,EAAS,aAAe,eACxB,8BACA,oBAhCkB,CAClBO,GAAI,kBACJ1sB,GAAI,kBACJC,GAAI,sBACJC,GAAI,oBACJC,GAAI,oBACJ,MAAO,sBA2BKI,IAsBRosB,EAAetrB,EAAMC,EAAkBD,QAAOU,EAG9C6qB,EAAgB,IAAIH,EAAa1gB,GAAWvC,OAAOiD,SAASzQ,KAAK,KAEvE,OACE0Q,OAAA,MAAA,CAAKX,UAAW6gB,EAAa5gB,SAAA,CAC1B2gB,IAAiBN,EAChB1f,EAAAA,IAAA,MAAA,CACEtL,IAAKsrB,EACLP,IAAKA,GAAO9jB,EACZyD,UAAU,6BACV8gB,QArBiB,KACvBP,GAAc,IAqBRQ,OAlBgB,KACtBN,GAAe,OAkBLvgB,IAINU,EAAAA,IAAA,MAAA,CAAKZ,UAAU,uFAAsFC,SApCvF,CAAC1D,GACZA,EACJzM,MAAM,KACNmC,IAAI+uB,GAAQA,EAAKC,OAAO,GAAG3oB,eAC3BrI,KAAK,IACLyK,MAAM,EAAG,GAgCLwmB,CAAY3kB,IAAS,MAKzBoB,GACCiD,EAAAA,YACEZ,UAAW,mCA/DO,CACxB2gB,GAAI,cACJ1sB,GAAI,UACJC,GAAI,cACJC,GAAI,UACJC,GAAI,cACJ,MAAO,WAyD+DI,MAvElD,CACpB2sB,OAAQ,eACRC,QAAS,cACTC,KAAM,gBACNC,KAAM,cAmEuF3jB,oCACvF0R,MAAO,WAAW1R,IAAQ,aACd,gBAAgBA,wBzBpGK,EACzC+B,UAAU,UACVlL,OAAO,KACP0T,WAAU,EACVqZ,OAAM,EACNvhB,YAAY,GACZC,cACGC,MAGH,MAuBMshB,EAAa,CACjBnhB,QAAS,cACTC,UAAW,cACXwQ,QAAS,eACT2Q,QAAS,gBACThhB,OAAQ,aACRihB,KAAM,iBAIFC,EAAe,IAjCD,CAClB,uCACAzZ,EAAU,eAAiB,cAIN,CACrB7H,QAAS,4BACTC,UAAW,4BACXwQ,QAAS,8BACT2Q,QAAS,gCACThhB,OAAQ,0BACRihB,KAAM,iCAuBShiB,GAnBG,CAClBzL,GAAI,oBACJC,GAAI,wBACJC,GAAI,uBAiBQK,GACZwL,GACAvC,OAAOiD,SAASzQ,KAAK,KAUvB,OACE0Q,EAAAA,KAAA,OAAA,CAAMX,UAAW2hB,KAAkBzhB,EAAKD,SAAA,CACrCshB,GAAO3gB,EAAAA,IATS,IACnBA,EAAAA,YACEZ,UAAW,+BAA+BwhB,EAAW9hB,mBACzC,SAMS,CAAA,GACpBO,iI0BsEqB,qNnB1CP,KAAMC,KACzBS,EAAAA,KAAA,MAAA,CAAKX,UAAU,qDAAsDE,EAAKD,SAAA,CACxEU,EAAAA,KAAA,MAAA,CAAKX,UAAU,wCACbY,EAAAA,IAAC2H,IAAe/T,KAAK,OACrBmM,EAAAA,YAAKX,UAAU,mBAAkBC,SAAA,CAC/BW,MAAC8G,GAAQ,CAAChI,QAAQ,OAAO9K,MAAM,QAC/BgM,EAAAA,IAAC8G,GAAQ,CAAChI,QAAQ,OAAO9K,MAAM,cAGnCgM,EAAAA,IAACuH,IAAaC,MAAO,IACrBzH,cAAKX,UAAU,iBAAgBC,SAAA,CAC7BW,EAAAA,IAAC4H,GAAc,CAAC9I,QAAQ,OACxBkB,EAAAA,IAAC4H,IAAe9I,QAAQ,mImB6BP,uK5BrHrB,OAAOlN,OAAOovB,OAAO,IAAKriB,IAC5B,kCAbM,SAAkCmK,GACtCnK,GAAe,IAAKA,MAAiBmK,GAEjCA,EAAOmY,aACTjuB,QAAQ0I,IAAI,wDAAyDiD,GAEzE,0G6BxCuB,KACrB,MAAM2b,EAAW2B,KACXiF,EAAY/E,GAAegF,mBAC3BxE,WAAEA,EAAUN,WAAEA,EAAUE,WAAEA,GAAeP,KACzC0B,EAASD,KAGT2D,EAAkB9a,cAAYpM,MAAOmnB,GAClC1E,EAAWziB,UAChB,MAAMnI,QAAeuoB,EAASvH,EAAAA,MAAMsO,IAEpC,GAAItO,QAAMuO,UAAUC,MAAMxvB,GAMxB,OALAuoB,EAASkH,EAAAA,UAAU,CACjB/S,MAAO,SACPC,QAAS,UAAU3c,EAAO0H,QAAQjH,aAClCivB,gBAAiB,oBAEZ,CAAEvR,SAAS,EAAM/d,KAAMJ,EAAO0H,SAChC,CACL,MAAMkE,EAAe5L,EAAO0H,SAAS1H,QAAU,eAM/C,OALAuoB,EAASkH,EAAAA,UAAU,CACjB/S,MAAO,SACPC,QAAS/Q,EACT8jB,gBAAiB,kBAEZ,CAAEvR,SAAS,EAAO7b,MAAOsJ,EAClC,IAED,CAAC2c,EAAUqC,IAGR+E,EAAmBpb,EAAAA,YAAYpM,SAC5ByiB,EAAWziB,UAChB,MAAMnI,QAAeuoB,EAASrH,EAAAA,UAE9B,GAAIA,SAAOqO,UAAUC,MAAMxvB,GASzB,OARAuoB,EAASkH,EAAAA,UAAU,CACjB/S,MAAO,UACPC,QAAS,kBACT+S,gBAAiB,mBAInB/D,EAAOU,KAAK,KACL,CAAElO,SAAS,GACb,CACL,MAAMvS,EAAe5L,EAAO0H,SAAS1H,QAAU,gBAM/C,OALAuoB,EAASkH,EAAAA,UAAU,CACjB/S,MAAO,UACPC,QAAS/Q,EACT8jB,gBAAiB,kBAEZ,CAAEvR,SAAS,EAAO7b,MAAOsJ,EAClC,IAED,CAAC2c,EAAUqC,EAAYe,IAGpBiE,EAAiBrb,EAAAA,YAAYpM,UACjC,IACEmiB,EAAW,uBACX,MAAMtqB,QAAeuoB,EAASsH,EAAAA,aAE9B,OAAIA,YAAUN,UAAUC,MAAMxvB,GAErB,CAAEme,SAAS,EAAM/d,KAAMJ,EAAO0H,SAG9B,CAAEyW,SAAS,EAAO7b,MAAOtC,EAAO0H,SAAS1H,OAEpD,SACEwqB,GACF,GACC,CAACjC,EAAU+B,EAAYE,IAGpBsF,EAAevb,EAAAA,YAAYpM,UAC/B,IACE,MAAMC,wBAAEA,EAAuBW,eAAEA,SAAyBgnB,OAAO,iBAC3DC,QAAqB5nB,IAE3B,OAAK4nB,EAIDjnB,EAAeinB,GACV,CAAEC,OAAO,EAAOxU,OAAQ,WAG1B,CAAEwU,OAAO,EAAM7vB,KAAM4vB,GAPnB,CAAEC,OAAO,EAAOxU,OAAQ,WAQnC,CAAE,MAAOnZ,GAEP,OADArB,QAAQqB,MAAM,YAAaA,GACpB,CAAE2tB,OAAO,EAAOxU,OAAQ,QACjC,GACC,IAGGyU,EAAmB3b,EAAAA,YAAYpM,MACnCgoB,EACApvB,EACAqvB,KAEA,MAAMC,QAAqBP,IAE3B,OAAKO,EAAaJ,MAUdG,GAAaC,EAAajwB,OAASiwB,EAAajwB,KAAKe,UACvDonB,EAASkH,EAAAA,UAAU,CACjB/S,MAAO,QACPC,QAAS,mBACT+S,gBAAiB,mBAEZ,IAGT/D,EAAOU,KAAK8D,IACL,IAnBL5H,EAASkH,EAAAA,UAAU,CACjB/S,MAAO,SACPC,QAAS,mBACT+S,gBAAiB,sBAEZ,IAeR,CAACI,EAAcvH,EAAUoD,IAE5B,MAAO,CAELwD,YACA/tB,WAAY+tB,EAAU/tB,WACtBhB,KAAM+uB,EAAUmB,SAChBhuB,MAAO6sB,EAAU7sB,MAGjB+sB,kBACAM,mBACAC,iBACAE,eACAI,mBAGArvB,QAAS,KACiC,UAAvCsuB,EAAUmB,UAAU5vB,gBACkB,gBAAvCyuB,EAAUmB,UAAU5vB,kBACnByuB,EAAUmB,UAAU1vB,OAAS,IAAM,GACtC2vB,OAAQ,IAAMpB,EAAU/tB,YAAc+tB,EAAUmB,gCC3HxB,CAC1BzgB,EAA4B,MAE5B,MAAMsf,EAAY/E,GAAegF,mBAC3BkB,SAAEA,EAAQlvB,WAAEA,GAAe+tB,GAC1BqB,EAAWC,GAAgB/f,EAAAA,UAAS,IACpCggB,EAAWC,GAAgBjgB,EAAAA,SAA+B,OAC1DkgB,EAAWC,GAAgBngB,EAAAA,SAAc,MAG1CogB,EAAgBhgB,EAAAA,QAAO,GACvBigB,EAAmBjgB,EAAAA,OAAsB,MAGzCkgB,EAAiBzc,EAAAA,YAAYpM,UACjC,IAEE,MAAM0B,sBAAEA,SAAgCkmB,OAAO,iBACzCC,QAAqBnmB,IAE3B,IAAKmmB,EAEH,OADAW,EAAa,mBACN,EAIT,MAAMM,EAAkBhpB,KAAK+U,UAAUgT,GAMvC,OALIe,EAAiBzf,UAAY2f,IAC/BF,EAAiBzf,QAAU2f,EAC3BJ,EAAab,KAGR,CACT,CAAE,MAAO1tB,GACPrB,QAAQqB,MAAM,eAAgBA,GAC9BquB,EAAa,iBAGb,MAAMznB,6BAAEA,SAAuC6mB,OAAO,iBAEtD,OADA7mB,KACO,CACT,GACC,IAGG+Z,EAAmB1O,cACtBnU,IAEC,GAAIyP,EAAQugB,YAAcvvB,EAAAA,QAAQT,GAEhC,OADAuwB,EAAa,eACN,EAIT,QAC4BttB,IAA1BwM,EAAQ9O,gBACPD,qBAAmBV,EAAMyP,EAAQ9O,eAGlC,OADA4vB,EAAa,4BACN,EAIT,GAAI9gB,EAAQqhB,iBAAkB,CAC5B,MAAMC,EAAathB,EAAQqhB,iBAAiBC,WACtCC,EAAYvhB,EAAQqhB,iBAAiBE,UAE3C,QACiB/tB,IAAf8tB,IACCE,qBAAmBjxB,EAAM+wB,GAAY,GAGtC,OADAR,EAAa,4BACN,EAGT,QACgBttB,IAAd+tB,IACCC,qBAAmBjxB,EAAMgxB,GAAW,GAGrC,OADAT,EAAa,4BACN,CAEX,CAEA,OAAO,GAET,CAAC9gB,EAAQugB,UAAWvgB,EAAQ9O,cAAe8O,EAAQqhB,mBAI/CI,EAAuB/c,EAAAA,YAAYpM,UAEvC,GAAI2oB,EAAcxf,QAChB,OAAO,EAGTwf,EAAcxf,SAAU,EACxBmf,GAAa,GACbE,EAAa,MAEb,IAEE,GAAIvvB,GAAckvB,EAAU,CAE1B,OADsBrN,EAAiBqN,EAEzC,CAIA,UAD2BU,IAEzB,OAAO,EAIT,IAAKJ,EAEH,OADAD,EAAa,mBACN,EAGT1vB,QAAQC,KACN,oDAGF,OADsB+hB,EAAiB2N,EAEzC,CAAE,MAAOtuB,GAGP,OAFArB,QAAQqB,MAAM,YAAaA,GAC3BquB,EAAa,kBACN,CACT,SACEF,GAAa,GACbK,EAAcxf,SAAU,CAC1B,GACC,CAAC0f,EAAgB/N,EAAkB7hB,EAAYkvB,EAAUM,IAG5Dzf,EAAAA,UAAU,KACRmgB,KACC,IAGHngB,EAAAA,UAAU,KACR,GAAI/P,GAAckvB,IAAaQ,EAAcxf,QAAS,CAC9B2R,EAAiBqN,IAIrCG,GAAa,GACbE,EAAa,OAHbF,GAAa,EAKjB,GACC,CAACrvB,EAAYkvB,EAAUrN,IAG1B,MAAMsO,EAAcjB,GAAYM,EAC1BY,EAAkBpwB,KAAgBmwB,EAGxC,MAAO,CACLC,kBACAC,cAJoBD,IAAoBd,EAKxCF,YACApwB,KAAMmxB,EACNb,YACAY,+CC/L0BzhB,GAC5B6hB,WAAkC,CAChCC,SAAU,CAAC,UACXC,QAAS,IAAM9Q,GAAa1B,YAC5ByS,UAAW,KACXC,OAAQ,MACRC,MAAO,EACPC,QAASniB,GAASmiB,QAClBC,OAASvpB,GACmB,MAAtBA,EAAK8O,cAAyB9O,EAAKA,KAMhCA,EALE,IACFA,EACHA,KAAM,8BCJe,CAC7BnC,EACAsJ,IAIO6hB,WAAS,CACdC,SAAU,CAAC,WAAYprB,GACvBqrB,QAAS,IACAM,EAAeC,YAAY5rB,GAEpCsrB,UAAW,IACXC,OAAQ,KACRC,MAAO,EACPC,QAASniB,GAASmiB,UAAW,EAC7BC,OAASvpB,IAEP,GAA0B,MAAtBA,EAAK8O,aACP,MAAO,CACL9O,KAAM,CACJ0pB,MAAO,GACPC,WAAY,IAIlB,IAAK3pB,EAAKA,KACR,MAAO,CACLA,KAAM,CACJ0pB,MAAO,GACPC,WAAY,IAiBlB,MAZe,CACb3pB,KAAM,CACJ0pB,MAAOrsB,MAAMC,QAAQ0C,EAAKA,KAAK0pB,OAC3B1pB,EAAKA,KAAK0pB,MAAM9yB,IAAK2G,IAAS,IACzBA,EACHqsB,WAAYxzB,EAAAA,QAAQmH,EAAKqsB,eAE3B,GACJD,WAAY3pB,EAAKA,KAAK2pB,YAAc,6BVjDjB,KAC3B,MAAM9J,EAAWC,KACX+J,EAAavI,GAAab,GAAqBA,EAAMqJ,IAAID,YAE/DphB,EAAAA,UAAU,KAER,MAAMshB,EAAmB,KACvBlK,EAASmK,EAAAA,0BAA0BjsB,OAAOksB,cAU5C,OANAF,IAGAhsB,OAAOgL,iBAAiB,SAAUghB,GAG3B,KACLhsB,OAAOiL,oBAAoB,SAAU+gB,KAEtC,CAAClK,IAQJ,MAAO,CACLgK,aACAK,SAP8B,WAAfL,EAQfM,SAP8B,WAAfN,EAQfO,UAP+B,YAAfP,EAQhBQ,iBAPsC,WAAfR,GAA0C,WAAfA,8BW+CrB,CAC/BhsB,EAKI,CAAA,EACJsJ,EAAyD,CAAEmiB,SAAS,EAAMgB,eAAe,KAEzFtB,WAAS,CACPC,SAAU,CAAC,YAAaprB,GACxBqrB,QAAS,IAAM9S,GAAYJ,cAAcnY,GACzCsrB,UAAW,EACXC,OAAQ,IACRC,MAAO,EACPC,QAASniB,GAASmiB,QAClBiB,gBAAkBC,IAEhB,IAAKrjB,GAASmjB,cAAe,OAAO,EAGpC,MAAMhzB,EAASkzB,EAAM/J,MAAMzgB,KAC3B,GAAI1I,GAAUA,EAAO0I,MAAQ3C,MAAMC,QAAQhG,EAAO0I,MAAO,CAMvD,GALqB1I,EAAO0I,KAAKyqB,MAAOna,IACjCA,EAAK+D,aAA2C,IAA5B/D,EAAK+D,YAAY1f,QACnC2b,EAAK+D,YAAYoW,MAAOC,GAA0C,aAAtBA,EAAWpoB,SAK9D,OADA/J,QAAQ0I,IAAI,iCACL,CAEX,CAEA,OAAO,KAET0pB,6BAA6B,EAC7BpB,OAASvpB,GACmB,MAAtBA,EAAK8O,aACA,CACL9O,KAAM,CACJ0pB,MAAO,GACPC,WAAY,EACZiB,QAAS,KAIV5qB,EAAKA,KASH,CACLA,KAAM,CACJ0pB,MAAO1pB,EAAKA,KAAK0pB,MAAM9yB,IAAK2G,IAAI,IAC3BA,EACHqsB,WAAYxzB,EAAAA,QAAQmH,EAAKqsB,aAAc,IAAIz0B,MAAOyO,kBAEpD+lB,WAAY3pB,EAAKA,KAAK2pB,WACtBiB,QAAS5qB,EAAKA,KAAK4qB,UAfd,CACL5qB,KAAM,CACJ0pB,MAAO,GACPC,WAAY,EACZiB,QAAS,wDC1HQ,KAC3B,MAAM/K,EAAW2B,KACXoG,EAAWlG,GAAegF,kBAC1BmE,EAAYjD,GAAUA,UACrBkD,EAASC,GAAc/iB,EAAAA,SAAc,MAGtC6gB,EAAcgC,GAAaC,EAC3BrvB,EAAYuvB,EAAAA,aAAanC,GACzBoC,EAAc9yB,EAAAA,QAAQ0wB,GACtBnwB,EAAakvB,GAAUlvB,cAAgBoyB,EAG7CriB,EAAAA,UAAU,KACWhJ,WAEjB,GAAIorB,EACFE,EAAW,WAIb,IACE,MAAM7C,QAAkBxoB,4BACxBqrB,EAAW7C,EACb,CAAE,MAAOtuB,GAEPmxB,EAAW,KACb,GAGFG,IACC,CAACL,IAqCJ,MAAO,CACL1Q,gBAnCsBtO,cACrBxT,QACuBsC,IAAlBtC,IAGAwyB,EACKzyB,EAAAA,mBAAmByyB,EAAWxyB,GAInCyyB,GACFvyB,QAAQC,KACN,6CAEKJ,EAAAA,mBAAmB0yB,EAASzyB,IAIZ,IAAlBA,GAET,CAACwyB,EAAWC,IAgBZK,sBAZ4Btf,EAAAA,YAAY,KACxCgU,EACEkH,EAAAA,UAAU,CACR/S,MAAO,eACPC,QAAS,uBACT+S,gBAAiB,mBAGpB,CAACnH,IAKFpkB,YACAtD,QAAS8yB,EACTvyB,aACAmwB,6CDrBgC,IAClCG,EAAAA,SAAS,CACPC,SAAU,CAAC,gBACXC,QAAS,IAAM9S,GAAYI,mBAC3B2S,UAAW,IACXC,OAAQ,MACRC,MAAO,EACPE,OAASvpB,GACmB,MAAtBA,EAAK8O,aACA,CACL9O,KAAM,IAGHA,EAAKA,4BA1DU,CAC1BnC,EACAsJ,IAEA6hB,WAAS,CACPC,SAAU,CAAC,OAAQprB,GACnBqrB,QAAS,IAAM9S,GAAYC,QAAQxY,GACnCsrB,UAAW,IACXC,OAAQ,MACRC,MAAO,EACPC,QAASniB,GAASmiB,QAClB8B,gBAAkBC,GAASA,EAC3BC,gBAAgB,EAChB/B,OAASvpB,GACmB,MAAtBA,EAAK8O,aACA,CACL9O,KAAM,CACJ0pB,MAAO,GACPC,WAAY,EACZiB,QAAS,KAIV5qB,EAAKA,KASH,CACLA,KAAM,CACJ0pB,MAAO1pB,EAAKA,KAAK0pB,MAAM9yB,IAAK2G,IAAI,IAC3BA,EACHqsB,WAAYxzB,EAAAA,QAAQmH,EAAKqsB,aAAc,IAAIz0B,MAAOyO,kBAEpD+lB,WAAY3pB,EAAKA,KAAK2pB,WACtBiB,QAAS5qB,EAAKA,KAAK4qB,UAfd,CACL5qB,KAAM,CACJ0pB,MAAO,GACPC,WAAY,EACZiB,QAAS,uEEzBoBzY,GAChC6W,WAAS,CACdC,SAAU,CAAC,mBAAoB9W,GAC/B+W,QAAS,IAAMqC,EAAaC,oBAAoBrZ,+BAnBlBA,GACzB6W,WAAS,CACdC,SAAU,CAAC,YAAa9W,GACxB+W,QAAS,IAAMqC,EAAaE,aAAatZ,GACzCgX,UAAW,KACXC,OAAQ,KACRC,MAAO,EACPE,OAASvpB,IACP,GAA0B,MAAtBA,EAAK8O,cAAwB9O,EAAKA,KACpC,OAAOA,EAAKA,KAEd,MAAM,IAAIzB,MAAM","x_google_ignoreList":[27,28,29,30]}